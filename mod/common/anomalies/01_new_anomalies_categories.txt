
# The Stars - A Class Star.
a_star_anomaly_category = {
	desc = a_star_anomaly_category_desc
	picture = GFX_evt_star_blue
	level = 2
	should_ai_use = no

	spawn_chance = {
		modifier = {
			factor = 0
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_deactivated }
			}
		}
		modifier = { add = 2 is_pc_a_star = yes }
		modifier = {
			factor = 10
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_more }
			}
		}
		modifier = {
			factor = 20
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_lots }
			}
		}
		modifier = {
			factor = 0.5
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_less }
			}
		}
		modifier = {
			factor = 0.1
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_rare }
			}
		}
	}

	on_success = {
		1 = NewAnomalyEvents.100
	}
}

# The Stars - B Class Star.
b_star_anomaly_category = {
	desc = b_star_anomaly_category_desc
	picture = GFX_evt_star_purple
	level = 4
	should_ai_use = no

	spawn_chance = {
		modifier = {
			factor = 0
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_deactivated }
			}
		}
		modifier = { add = 2 is_pc_b_star = yes }
		modifier = {
			factor = 10
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_more }
			}
		}
		modifier = {
			factor = 20
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_lots }
			}
		}
		modifier = {
			factor = 0.5
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_less }
			}
		}
		modifier = {
			factor = 0.1
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_rare }
			}
		}
	}

	on_success = {
		2 = NewAnomalyEvents.110
		1 = NewAnomalyEvents.111
	}
}

# The Stars - F Class Star.
f_star_anomaly_category = {
	desc = f_star_anomaly_category_desc
	picture = GFX_evt_star_white
	level = 2
	should_ai_use = no

	spawn_chance = {
		modifier = {
			factor = 0
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_deactivated }
			}
		}
		modifier = { add = 2 is_pc_f_star = yes }
		modifier = {
			factor = 10
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_more }
			}
		}
		modifier = {
			factor = 20
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_lots }
			}
		}
		modifier = {
			factor = 0.5
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_less }
			}
		}
		modifier = {
			factor = 0.1
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_rare }
			}
		}
	}

	on_success = {
		1 = NewAnomalyEvents.120
	}
}

# The Stars - G Class Star.
g_star_anomaly_category = {
	desc = g_star_anomaly_category_desc
	picture = GFX_evt_star_yellow
	level = 3
	should_ai_use = no

	spawn_chance = {
		modifier = {
			factor = 0
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_deactivated }
			}
		}
		modifier = { add = 2 is_pc_g_star = yes }
		modifier = {
			factor = 10
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_more }
			}
		}
		modifier = {
			factor = 20
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_lots }
			}
		}
		modifier = {
			factor = 0.5
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_less }
			}
		}
		modifier = {
			factor = 0.1
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_rare }
			}
		}
	}

	on_success = {
		1 = NewAnomalyEvents.130
	}
}

# The Stars - K Class Star.
k_star_anomaly_category = {
	desc = k_star_anomaly_category_desc
	picture = GFX_evt_star_orange
	level = 2
	should_ai_use = no

	spawn_chance = {
		modifier = {
			factor = 0
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_deactivated }
			}
		}
		modifier = { add = 2 is_pc_k_star = yes }
		modifier = {
			factor = 10
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_more }
			}
		}
		modifier = {
			factor = 20
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_lots }
			}
		}
		modifier = {
			factor = 0.5
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_less }
			}
		}
		modifier = {
			factor = 0.1
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_rare }
			}
		}
	}

	on_success = {
		1 = NewAnomalyEvents.140
	}
}

# The Stars - M Class Star.
m_star_anomaly_category = {
	desc = m_star_anomaly_category_desc
	picture = GFX_evt_star_red
	level = 3
	should_ai_use = no

	spawn_chance = {
		modifier = {
			factor = 0
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_deactivated }
			}
		}
		modifier = { add = 2 is_pc_m_star = yes }
		modifier = {
			factor = 10
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_more }
			}
		}
		modifier = {
			factor = 20
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_lots }
			}
		}
		modifier = {
			factor = 0.5
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_less }
			}
		}
		modifier = {
			factor = 0.1
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_rare }
			}
		}
	}

	on_success = {
		1 = NewAnomalyEvents.150
		1 = NewAnomalyEvents.151
	}
}

# The Stars - Black Hole
black_hole_anomaly_category = {
	desc = black_hole_anomaly_category_desc
	picture = GFX_evt_black_hole
	level = 8
	should_ai_use = no

	spawn_chance = {
		modifier = {
			factor = 0
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_deactivated }
			}
		}
		modifier = { add = 2 is_planet_class = pc_black_hole }
		modifier = {
			factor = 10
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_more }
			}
		}
		modifier = {
			factor = 20
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_lots }
			}
		}
		modifier = {
			factor = 0.5
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_less }
			}
		}
		modifier = {
			factor = 0.1
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_rare }
			}
		}
	}

	on_success = {
		1 = NewAnomalyEvents.160
	}
}

# The Stars - Pulsar
pulsar_anomaly_category = {
	desc = pulsar_anomaly_category_desc
	picture = GFX_evt_star_pulsar
	level = 6
	should_ai_use = no

	spawn_chance = {
		modifier = {
			factor = 0
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_deactivated }
			}
		}
		modifier = { add = 2 is_planet_class = pc_pulsar }
		modifier = {
			factor = 10
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_more }
			}
		}
		modifier = {
			factor = 20
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_lots }
			}
		}
		modifier = {
			factor = 0.5
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_less }
			}
		}
		modifier = {
			factor = 0.1
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_rare }
			}
		}
	}

	on_success = {
		1 = NewAnomalyEvents.170
	}
}

# The Stars - Neutron
neutron_anomaly_category = {
	desc = neutron_anomaly_category_desc
	picture = GFX_evt_star_neutron
	level = 7
	should_ai_use = no

	spawn_chance = {
		modifier = {
			factor = 0
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_deactivated }
			}
		}
		modifier = { add = 2 is_planet_class = pc_neutron_star }
		modifier = {
			factor = 10
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_more }
			}
		}
		modifier = {
			factor = 20
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_lots }
			}
		}
		modifier = {
			factor = 0.5
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_less }
			}
		}
		modifier = {
			factor = 0.1
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_rare }
			}
		}
	}

	on_success = {
		1 = NewAnomalyEvents.180
	}
}

# Holy City
holy_city_category = {
	desc = holy_city_category_desc
	picture = GFX_evt_great_city
	level = 2
	should_ai_use = no

	spawn_chance = {
		modifier = {
			factor = 0
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_deactivated }
			}
		}
		modifier = { add = 2 habitable_planet = yes }
		modifier = {
			factor = 10
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_more }
			}
		}
		modifier = {
			factor = 20
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_lots }
			}
		}
		modifier = {
			factor = 0.5
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_less }
			}
		}
		modifier = {
			factor = 0.1
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_rare }
			}
		}
	}

	on_success = {
		2 = NewAnomalyEvents.190
		1 = NewAnomalyEvents.191
		1 = NewAnomalyEvents.192
		2 = NewAnomalyEvents.193
	}
}

# Giant Monster Corpse
creature_corpse_category = {
	desc = creature_corpse_category_desc
	picture = GFX_evt_space_monsters
	level = 2
	should_ai_use = no

	spawn_chance = {
		modifier = {
			factor = 0
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_deactivated }
			}
		}
		modifier = { add = 2 is_star = no }
		modifier = {
			factor = 10
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_more }
			}
		}
		modifier = {
			factor = 20
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_lots }
			}
		}
		modifier = {
			factor = 0.5
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_less }
			}
		}
		modifier = {
			factor = 0.1
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_rare }
			}
		}
	}

	on_success = {
		2 = NewAnomalyEvents.200
		2 = NewAnomalyEvents.201
		2 = NewAnomalyEvents.202
		1 = NewAnomalyEvents.203
		1 = NewAnomalyEvents.204
	}
}

# Huge Galaxy
huge_galaxy_category = {
	desc = huge_galaxy_category_desc
	picture = GFX_evt_galaxy_generation
	level = 1
	should_ai_use = no

	spawn_chance = {
		modifier = {
			factor = 0
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_deactivated }
			}
		}
		modifier = { add = 2 is_star = no }
		modifier = {
			factor = 10
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_more }
			}
		}
		modifier = {
			factor = 20
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_lots }
			}
		}
		modifier = {
			factor = 0.5
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_less }
			}
		}
		modifier = {
			factor = 0.1
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_rare }
			}
		}
	}

	on_success = {
		1 = NewAnomalyEvents.210
		1 = NewAnomalyEvents.211
		1 = NewAnomalyEvents.212
		1 = NewAnomalyEvents.213
	}
}

# Mini Natural Wormhole
mini_natural_wormhole_category = {
	desc = mini_natural_wormhole_category_desc
	picture = GFX_evt_natural_worm_hole
	level = 2
	should_ai_use = no

	spawn_chance = {
		modifier = {
			factor = 0
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_deactivated }
			}
		}
		modifier = { add = 2 is_star = no }
		modifier = {
			factor = 10
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_more }
			}
		}
		modifier = {
			factor = 20
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_lots }
			}
		}
		modifier = {
			factor = 0.5
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_less }
			}
		}
		modifier = {
			factor = 0.1
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_rare }
			}
		}
	}

	on_success = {
		1 = NewAnomalyEvents.220
		1 = NewAnomalyEvents.221
		1 = NewAnomalyEvents.222
		1 = NewAnomalyEvents.223
	}
}

# Lone Computer
lone_computer_category = {
	desc = lone_computer_category_desc
	picture = GFX_evt_glitchy_matrix
	level = 4
	should_ai_use = no

	spawn_chance = {
		modifier = {
			factor = 0
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_deactivated }
			}
		}
		modifier = { add = 2 habitable_planet = yes }
		modifier = {
			factor = 10
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_more }
			}
		}
		modifier = {
			factor = 20
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_lots }
			}
		}
		modifier = {
			factor = 0.5
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_less }
			}
		}
		modifier = {
			factor = 0.1
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_rare }
			}
		}
	}

	on_success = {
		3 = NewAnomalyEvents.230
		1 = NewAnomalyEvents.231
		1 = NewAnomalyEvents.232
		2 = NewAnomalyEvents.233
	}
}

# Lava Citadel
lava_citadel_category = {
	desc = lava_citadel_category_desc
	picture = GFX_evt_lava_fortress
	level = 4
	should_ai_use = no

	spawn_chance = {
		modifier = {
			factor = 0
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_deactivated }
			}
		}
		modifier = { add = 2 merg_is_molten = yes }
		modifier = {
			factor = 10
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_more }
			}
		}
		modifier = {
			factor = 20
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_lots }
			}
		}
		modifier = {
			factor = 0.5
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_less }
			}
		}
		modifier = {
			factor = 0.1
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_rare }
			}
		}
	}

	on_success = {
		1 = NewAnomalyEvents.240
	}
}

# Frozen Exploration
frozen_exploration_category = {
	desc = frozen_exploration_category_desc
	picture = GFX_evt_frozen_exploration
	level = 3
	should_ai_use = no

	spawn_chance = {
		modifier = {
			factor = 0
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_deactivated }
			}
		}
		modifier = { add = 2 merg_is_frozen = yes }
		modifier = {
			factor = 10
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_more }
			}
		}
		modifier = {
			factor = 20
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_lots }
			}
		}
		modifier = {
			factor = 0.5
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_less }
			}
		}
		modifier = {
			factor = 0.1
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_rare }
			}
		}
	}

	on_success = {
		2 = NewAnomalyEvents.250
		2 = NewAnomalyEvents.251
		1 = NewAnomalyEvents.252
	}
}

# Planet Mysterious Activity
planet_mysterious_activity_category = {
	desc = planet_mysterious_activity_category_desc
	picture = GFX_evt_planet_mysterious_activity
	level = 7
	should_ai_use = no

	spawn_chance = {
		modifier = {
			factor = 0
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_deactivated }
			}
		}
		modifier = { add = 2 habitable_planet = yes }
		modifier = {
			factor = 10
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_more }
			}
		}
		modifier = {
			factor = 20
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_lots }
			}
		}
		modifier = {
			factor = 0.5
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_less }
			}
		}
		modifier = {
			factor = 0.1
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_rare }
			}
		}
	}

	on_success = {
		2 = NewAnomalyEvents.260
		2 = NewAnomalyEvents.261
		2 = NewAnomalyEvents.262
		1 = NewAnomalyEvents.263
	}
}

# Removed in vanilla 3.11
station_uninhabitable_category = {
	desc = "station_uninhabitable_category_desc"
	picture = GFX_evt_ship_travel
	level = 1
	should_ai_use = no

	spawn_chance = {
		modifier = {
			factor = 0
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_deactivated }
			}
		}
		modifier = {
			add = 3
			uninhabitable_regular_planet = yes
			num_minerals > 0
			exists = space_owner
			space_owner = { is_same_empire = from.owner }
		}
		modifier = {
			factor = 10
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_more }
			}
		}
		modifier = {
			factor = 20
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_lots }
			}
		}
		modifier = {
			factor = 0.5
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_less }
			}
		}
		modifier = {
			factor = 0.1
			from = {
				owner = { has_policy_flag = policy_custom_anomalies_rare }
			}
		}
	}

	on_success = anomaly.700
}
