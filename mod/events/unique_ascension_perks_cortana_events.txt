namespace = CortanaEvent

country_event = {# Cortana Research - Main Menu
	id = "CortanaEvent.0"
	title = "CortanaEvent.0.Name"
	desc = "CortanaEvent.0.Desc"
	picture = GFX_evt_ai_cortana
	show_sound = event_scanner
	mean_time_to_happen = { days = 25 }
	trigger = {
		is_ai = no
		has_ascension_perk = ap_ai_cortana
		NOR = {
			has_country_flag = cortana_cooldown
			has_country_flag = cortana_ready
		}
	}
	immediate = { set_country_flag = cortana_ready }
	option = { name = OK }
	option = {
		name = "CortanaEvent.0.a"
		allow = {
			OR = {
				AND = { NOT = { has_technology = tech_cortana_optimized } resource_stockpile_compare = { resource = energy value > 5000 } }
				AND = { has_technology = tech_cortana_optimized resource_stockpile_compare = { resource = energy value > 4000 } }
			}
		}
		add_resource = { energy = -5000 }
		if = { limit = { has_technology = tech_cortana_optimized } add_resource = { energy = 1000 } }
		hidden_effect = { country_event = { id = CortanaEvent.1 } }
	}
}

country_event = {# Cortana Research - Main Menu
	id = "CortanaEvent.1"
	title = "CortanaEvent.1.Name"
	desc = "CortanaEvent.1.Desc"
	picture = GFX_evt_ai_cortana
	show_sound = event_scanner
	is_triggered_only = yes
	# immediate = { remove_country_flag = cortana_ready }
	option = { name = "CortanaEvent.1.Building" trigger = { NOT = { has_country_flag = cortana_cooldown } } hidden_effect = { country_event = { id = CortanaEvent.2 } } }
	option = { name = "CortanaEvent.1.Module" trigger = { cortana_can_modules_techs = yes } hidden_effect = { country_event = { id = CortanaEvent.3 } } }
	option = { name = "CortanaEvent.1.Weapon" trigger = { cortana_can_weapons_techs = yes } hidden_effect = { country_event = { id = CortanaEvent.4 } } }
	option = { name = "CortanaEvent.1.Blocker" trigger = { cortana_can_blockers_techs = yes } hidden_effect = { country_event = { id = CortanaEvent.5 } } }
	option = { name = "CortanaEvent.1.Other" trigger = { cortana_can_other_techs = yes } hidden_effect = { country_event = { id = CortanaEvent.10 } } }
	option = { name = "CortanaEvent.1.Repeatable" trigger = { cortana_can_repeatable_techs = yes } hidden_effect = { country_event = { id = CortanaEvent.11 } } }
	option = { name = ABORT trigger = { NOT = { has_country_flag = cortana_cooldown } } add_resource = { energy = 5000 } if = { limit = { has_technology = tech_cortana_optimized } add_resource = { energy = -1000 } } }
	option = { name = CANCEL trigger = { has_country_flag = cortana_cooldown } add_resource = { energy = 5000 } if = { limit = { has_technology = tech_cortana_optimized } add_resource = { energy = -1000 } } }
}

country_event = {# Cortana Research - Buildings
	id = "CortanaEvent.2"
	title = "CortanaEvent.1.Name"
	desc = "CortanaEvent.1.Desc"
	picture = GFX_evt_ai_cortana
	is_triggered_only = yes
	immediate = {}
	option = {
		name = "CortanaEvent.2.Technician"
		trigger = { NOT = { has_technology = tech_power_plant_4 } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_power_plant_1 } } give_technology = { tech = tech_power_plant_1 } set_timed_country_flag = { flag = cortana_cooldown days = 360 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_power_plant_2 } } give_technology = { tech = tech_power_plant_2 } set_timed_country_flag = { flag = cortana_cooldown days = 576 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_power_plant_3 } } give_technology = { tech = tech_power_plant_3 } set_timed_country_flag = { flag = cortana_cooldown days = 864 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_power_plant_4 } } give_technology = { tech = tech_power_plant_4 } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.2.PowerHub"
		trigger = { NOT = { has_technology = tech_power_hub_2 } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_power_hub_1 } } give_technology = { tech = tech_power_hub_1 } set_timed_country_flag = { flag = cortana_cooldown days = 576 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_power_hub_2 } } give_technology = { tech = tech_power_hub_2 } set_timed_country_flag = { flag = cortana_cooldown days = 864 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.2.Mining"
		trigger = { NOT = { has_technology = tech_mining_3 } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_mining_1 } } give_technology = { tech = tech_mining_1 } set_timed_country_flag = { flag = cortana_cooldown days = 360 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_mining_2 } } give_technology = { tech = tech_mining_2 } set_timed_country_flag = { flag = cortana_cooldown days = 576 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_mining_3 } } give_technology = { tech = tech_mining_3 } set_timed_country_flag = { flag = cortana_cooldown days = 864 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.2.Mineral"
		trigger = { NOT = { has_technology = tech_mineral_purification_2 } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_mineral_purification_1 } } give_technology = { tech = tech_mineral_purification_1 } set_timed_country_flag = { flag = cortana_cooldown days = 576 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_mineral_purification_2 } } give_technology = { tech = tech_mineral_purification_2 } set_timed_country_flag = { flag = cortana_cooldown days = 864 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.2.Farmer"
		trigger = { NOT = { has_technology = tech_nutrient_replication } NOT = { has_authority = auth_machine_intelligence } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_eco_simulation } } give_technology = { tech = tech_eco_simulation } set_timed_country_flag = { flag = cortana_cooldown days = 360 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_gene_crops } } give_technology = { tech = tech_gene_crops } set_timed_country_flag = { flag = cortana_cooldown days = 576 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_nano_vitality_crops } } give_technology = { tech = tech_nano_vitality_crops } set_timed_country_flag = { flag = cortana_cooldown days = 864 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_nutrient_replication } } give_technology = { tech = tech_nutrient_replication } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.2.Food"
		trigger = { NOT = { has_technology = tech_food_processing_2 } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_food_processing_1 } } give_technology = { tech = tech_food_processing_1 } set_timed_country_flag = { flag = cortana_cooldown days = 576 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_food_processing_2 } } give_technology = { tech = tech_food_processing_2 } set_timed_country_flag = { flag = cortana_cooldown days = 864 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.2.Hospital"
		trigger = { NOT = { has_technology = tech_frontier_hospital } is_gestalt = no }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_frontier_health } } give_technology = { tech = tech_frontier_health } set_timed_country_flag = { flag = cortana_cooldown days = 576 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_frontier_hospital } } give_technology = { tech = tech_frontier_hospital } set_timed_country_flag = { flag = cortana_cooldown days = 864 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.2.Physics"
		trigger = { NOT = { has_technology = tech_physics_3 } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_physics_1 } } give_technology = { tech = tech_physics_1 } set_timed_country_flag = { flag = cortana_cooldown days = 576 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_physics_2 } } give_technology = { tech = tech_physics_2 } set_timed_country_flag = { flag = cortana_cooldown days = 864 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_physics_3 } } give_technology = { tech = tech_physics_3 } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.2.Biologist"
		trigger = { NOT = { has_technology = tech_society_3 } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_society_1 } } give_technology = { tech = tech_society_1 } set_timed_country_flag = { flag = cortana_cooldown days = 576 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_society_2 } } give_technology = { tech = tech_society_2 } set_timed_country_flag = { flag = cortana_cooldown days = 864 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_society_3 } } give_technology = { tech = tech_society_3 } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.2.Engineering"
		trigger = { NOT = { has_technology = tech_engineering_3 } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_engineering_1 } } give_technology = { tech = tech_engineering_1 } set_timed_country_flag = { flag = cortana_cooldown days = 576 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_engineering_2 } } give_technology = { tech = tech_engineering_2 } set_timed_country_flag = { flag = cortana_cooldown days = 864 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_engineering_3 } } give_technology = { tech = tech_engineering_3 } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.2.Foundry"
		trigger = { NOT = { has_technology = tech_alloys_2 } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_alloys_1 } } give_technology = { tech = tech_alloys_1 } set_timed_country_flag = { flag = cortana_cooldown days = 864 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_alloys_2 } } give_technology = { tech = tech_alloys_2 } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.2.Artisan"
		trigger = { NOT = { has_technology = tech_luxuries_2 } is_gestalt = no }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_luxuries_1 } } give_technology = { tech = tech_luxuries_1 } set_timed_country_flag = { flag = cortana_cooldown days = 864 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_luxuries_2 } } give_technology = { tech = tech_luxuries_2 } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.2.Clerk"
		trigger = { NOT = { has_technology = tech_interstellar_economics } is_gestalt = no }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_space_trading } } give_technology = { tech = tech_space_trading } set_timed_country_flag = { flag = cortana_cooldown days = 864 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_interstellar_economics } } give_technology = { tech = tech_interstellar_economics } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.2.Culture"
		trigger = { NOT = { has_technology = tech_autocurating_vault } is_hive_empire = no is_spiritualist = no }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_cultural_heritage } } give_technology = { tech = tech_cultural_heritage } set_timed_country_flag = { flag = cortana_cooldown days = 576 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_heritage_site } } give_technology = { tech = tech_heritage_site } set_timed_country_flag = { flag = cortana_cooldown days = 864 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_hypercomms_forum } } give_technology = { tech = tech_hypercomms_forum } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_autocurating_vault } } give_technology = { tech = tech_autocurating_vault } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.2.Priest"
		trigger = { NOT = { has_technology = tech_transcendent_faith } is_spiritualist = yes }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_cultural_heritage } } give_technology = { tech = tech_cultural_heritage } set_timed_country_flag = { flag = cortana_cooldown days = 576 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_holographic_rituals } } give_technology = { tech = tech_holographic_rituals } set_timed_country_flag = { flag = cortana_cooldown days = 864 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_consecration_fields } } give_technology = { tech = tech_consecration_fields } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_transcendent_faith } } give_technology = { tech = tech_transcendent_faith } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.2.Drone"
		trigger = { NOT = { has_technology = tech_hive_confluence } is_hive_empire = yes }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_hive_node } } give_technology = { tech = tech_hive_node } set_timed_country_flag = { flag = cortana_cooldown days = 576 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_hive_cluster } } give_technology = { tech = tech_hive_cluster } set_timed_country_flag = { flag = cortana_cooldown days = 864 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_hive_confluence } } give_technology = { tech = tech_hive_confluence } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.2.Housing"
		trigger = { NOT = { has_technology = tech_housing_2 } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_housing_1 } } give_technology = { tech = tech_housing_1 } set_timed_country_flag = { flag = cortana_cooldown days = 576 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_housing_2 } } give_technology = { tech = tech_housing_2 } set_timed_country_flag = { flag = cortana_cooldown days = 864 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = { name = BACK hidden_effect = { country_event = { id = CortanaEvent.1 } } }
}

country_event = {# Cortana Research - Ships Modules
	id = "CortanaEvent.3"
	title = "CortanaEvent.1.Name"
	desc = "CortanaEvent.1.Desc"
	picture = GFX_evt_ai_cortana
	is_triggered_only = yes
	immediate = {}
	option = {
		name = "CortanaEvent.3.Reactor"
		trigger = { NOT = { has_technology = tech_zero_point_power } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_fission_power } } give_technology = { tech = tech_fission_power } set_timed_country_flag = { flag = cortana_cooldown days = 360 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_fusion_power } } give_technology = { tech = tech_fusion_power } set_timed_country_flag = { flag = cortana_cooldown days = 576 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_cold_fusion_power } } give_technology = { tech = tech_cold_fusion_power } set_timed_country_flag = { flag = cortana_cooldown days = 864 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_antimatter_power } } give_technology = { tech = tech_antimatter_power } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_zero_point_power } } give_technology = { tech = tech_zero_point_power } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.3.Shields"
		trigger = { NOT = { has_technology = tech_shields_5 } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_shields_1 } } give_technology = { tech = tech_shields_1 } set_timed_country_flag = { flag = cortana_cooldown days = 360 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_shields_2 } } give_technology = { tech = tech_shields_2 } set_timed_country_flag = { flag = cortana_cooldown days = 576 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_shields_3 } } give_technology = { tech = tech_shields_3 } set_timed_country_flag = { flag = cortana_cooldown days = 864 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_shields_4 } } give_technology = { tech = tech_shields_4 } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_shields_5 } } give_technology = { tech = tech_shields_5 } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.3.Rechargers"
		trigger = { NOT = { has_technology = tech_shield_rechargers_1 } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_shield_rechargers_1 } } give_technology = { tech = tech_shield_rechargers_1 } set_timed_country_flag = { flag = cortana_cooldown days = 864 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.3.Armors"
		trigger = { NOT = { has_technology = tech_ship_armor_5 } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_ship_armor_1 } } give_technology = { tech = tech_ship_armor_1 } set_timed_country_flag = { flag = cortana_cooldown days = 360 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_ship_armor_2 } } give_technology = { tech = tech_ship_armor_2 } set_timed_country_flag = { flag = cortana_cooldown days = 576 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_ship_armor_3 } } give_technology = { tech = tech_ship_armor_3 } set_timed_country_flag = { flag = cortana_cooldown days = 864 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_ship_armor_4 } } give_technology = { tech = tech_ship_armor_4 } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_ship_armor_5 } } give_technology = { tech = tech_ship_armor_5 } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.3.Sensors"
		trigger = { NOT = { has_technology = tech_sensors_4 } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_sensors_2 } } give_technology = { tech = tech_sensors_2 } set_timed_country_flag = { flag = cortana_cooldown days = 576 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_sensors_3 } } give_technology = { tech = tech_sensors_3 } set_timed_country_flag = { flag = cortana_cooldown days = 864 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_sensors_4 } } give_technology = { tech = tech_sensors_4 } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.3.Thrusters"
		trigger = { NOT = { has_technology = tech_thrusters_4 } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_thrusters_1 } } give_technology = { tech = tech_thrusters_1 } set_timed_country_flag = { flag = cortana_cooldown days = 360 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_thrusters_2 } } give_technology = { tech = tech_thrusters_2 } set_timed_country_flag = { flag = cortana_cooldown days = 576 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_thrusters_3 } } give_technology = { tech = tech_thrusters_3 } set_timed_country_flag = { flag = cortana_cooldown days = 864 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_thrusters_4 } } give_technology = { tech = tech_thrusters_4 } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.3.Afterburners"
		trigger = { has_technology = tech_thrusters_2 NOT = { has_technology = tech_afterburners_2 } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_afterburners_1 } } give_technology = { tech = tech_afterburners_1 } set_timed_country_flag = { flag = cortana_cooldown days = 360 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_afterburners_2 } } give_technology = { tech = tech_afterburners_2 } set_timed_country_flag = { flag = cortana_cooldown days = 576 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.3.HyperDrives"
		trigger = { NOT = { has_technology = tech_hyper_drive_3 } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_hyper_drive_2 } } give_technology = { tech = tech_hyper_drive_2 } set_timed_country_flag = { flag = cortana_cooldown days = 576 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_hyper_drive_3 } } give_technology = { tech = tech_hyper_drive_3 } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.3.Boosters"
		trigger = { has_technology = tech_antimatter_power NOT = { has_technology = tech_reactor_boosters_3 } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_reactor_boosters_2 } } give_technology = { tech = tech_reactor_boosters_2 } set_timed_country_flag = { flag = cortana_cooldown days = 576 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_reactor_boosters_3 } } give_technology = { tech = tech_reactor_boosters_3 } set_timed_country_flag = { flag = cortana_cooldown days = 864 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = { name = BACK hidden_effect = { country_event = { id = CortanaEvent.1 } } }
}

country_event = {# Cortana Research - Ships Weapons
	id = "CortanaEvent.4"
	title = "CortanaEvent.1.Name"
	desc = "CortanaEvent.1.Desc"
	picture = GFX_evt_ai_cortana
	is_triggered_only = yes
	immediate = {}
	option = {
		name = "CortanaEvent.4.Mass"
		trigger = { NOT = { has_technology = tech_mass_drivers_5 } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_mass_drivers_2 } } give_technology = { tech = tech_mass_drivers_2 } set_timed_country_flag = { flag = cortana_cooldown days = 360 }  remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_mass_drivers_3 } } give_technology = { tech = tech_mass_drivers_3 } set_timed_country_flag = { flag = cortana_cooldown days = 576 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_mass_drivers_4 } } give_technology = { tech = tech_mass_drivers_4 } set_timed_country_flag = { flag = cortana_cooldown days = 864 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_mass_drivers_5 } } give_technology = { tech = tech_mass_drivers_5 } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.4.Autocannon"
		trigger = { has_technology = tech_mass_drivers_2 NOT = { has_technology = tech_autocannons_3 } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_autocannons_1 } } give_technology = { tech = tech_autocannons_1 } set_timed_country_flag = { flag = cortana_cooldown days = 576 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_autocannons_2 } } give_technology = { tech = tech_autocannons_2 } set_timed_country_flag = { flag = cortana_cooldown days = 864 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_autocannons_3 } } give_technology = { tech = tech_autocannons_3 } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.4.Artillery"
		trigger = { has_technology = tech_mass_drivers_4 NOT = { has_technology = tech_kinetic_artillery_2 } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_kinetic_artillery_1 } } give_technology = { tech = tech_kinetic_artillery_1 } set_timed_country_flag = { flag = cortana_cooldown days = 864 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_kinetic_artillery_2 } } give_technology = { tech = tech_kinetic_artillery_2 } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.4.Accelerator"
		trigger = { has_technology = tech_mass_drivers_5 has_technology = tech_battleships NOR = { has_technology = tech_mass_accelerator_2 } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_mass_accelerator_1 } } give_technology = { tech = tech_mass_accelerator_1 } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_mass_accelerator_2 } } give_technology = { tech = tech_mass_accelerator_2 } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.4.Flak"
		trigger = { NOT = { has_technology = tech_flak_batteries_3 } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_flak_batteries_2 } } give_technology = { tech = tech_flak_batteries_2 } set_timed_country_flag = { flag = cortana_cooldown days = 360 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_flak_batteries_3 } } give_technology = { tech = tech_flak_batteries_3 } set_timed_country_flag = { flag = cortana_cooldown days = 576 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.4.PD"
		trigger = { NOT = { has_technology = tech_pd_tracking_3 } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_pd_tracking_2 } } give_technology = { tech = tech_pd_tracking_2 } set_timed_country_flag = { flag = cortana_cooldown days = 360 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_pd_tracking_3 } } give_technology = { tech = tech_pd_tracking_3 } set_timed_country_flag = { flag = cortana_cooldown days = 576 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.4.Missile"
		trigger = { NOT = { has_technology = tech_missiles_5 } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_missiles_1 } } give_technology = { tech = tech_missiles_1 } set_timed_country_flag = { flag = cortana_cooldown days = 360 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_missiles_2 } } give_technology = { tech = tech_missiles_2 } set_timed_country_flag = { flag = cortana_cooldown days = 360 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_missiles_3 } } give_technology = { tech = tech_missiles_3 } set_timed_country_flag = { flag = cortana_cooldown days = 576 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_missiles_4 } } give_technology = { tech = tech_missiles_4 } set_timed_country_flag = { flag = cortana_cooldown days = 864 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_missiles_5 } } give_technology = { tech = tech_missiles_5 } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.4.Swarmer"
		trigger = { has_technology = tech_missiles_2 NOR = { has_technology = tech_swarmer_missiles_2 } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_swarmer_missiles_1 } } give_technology = { tech = tech_swarmer_missiles_1 } set_timed_country_flag = { flag = cortana_cooldown days = 576 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_swarmer_missiles_2 } } give_technology = { tech = tech_swarmer_missiles_2 } set_timed_country_flag = { flag = cortana_cooldown days = 864 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.4.Torpedo"
		trigger = { has_technology = tech_missiles_1 NOR = { has_technology = tech_torpedoes_3 } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_torpedoes_1 } } give_technology = { tech = tech_torpedoes_1 } set_timed_country_flag = { flag = cortana_cooldown days = 576 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_torpedoes_2 } } give_technology = { tech = tech_torpedoes_2 } set_timed_country_flag = { flag = cortana_cooldown days = 864 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_torpedoes_3 } } give_technology = { tech = tech_torpedoes_3 } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.4.Laser"
		trigger = { NOT = { has_technology = tech_lasers_5 } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_lasers_2 } } give_technology = { tech = tech_lasers_2 } set_timed_country_flag = { flag = cortana_cooldown days = 360 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_lasers_3 } } give_technology = { tech = tech_lasers_3 } set_timed_country_flag = { flag = cortana_cooldown days = 576 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_lasers_4 } } give_technology = { tech = tech_lasers_4 } set_timed_country_flag = { flag = cortana_cooldown days = 864 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_lasers_5 } } give_technology = { tech = tech_lasers_5 } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.4.Plasma"
		trigger = { has_technology = tech_lasers_2 NOT = { has_technology = tech_plasma_3 } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_plasma_1 } } give_technology = { tech = tech_plasma_1 } set_timed_country_flag = { flag = cortana_cooldown days = 576 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_plasma_2 } } give_technology = { tech = tech_plasma_2 } set_timed_country_flag = { flag = cortana_cooldown days = 864 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_plasma_3 } } give_technology = { tech = tech_plasma_3 } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.4.Disruptor"
		trigger = { has_technology = tech_lasers_2 NOT = { has_technology = tech_disruptors_3 } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_disruptors_1 } } give_technology = { tech = tech_disruptors_1 } set_timed_country_flag = { flag = cortana_cooldown days = 576 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_disruptors_2 } } give_technology = { tech = tech_disruptors_2 } set_timed_country_flag = { flag = cortana_cooldown days = 864 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_disruptors_3 } } give_technology = { tech = tech_disruptors_3 } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.4.EnergyTorpedo"
		trigger = { has_technology = tech_lasers_4 NOT = { has_technology = tech_energy_torpedoes_2 } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_energy_torpedoes_1 } } give_technology = { tech = tech_energy_torpedoes_1 } set_timed_country_flag = { flag = cortana_cooldown days = 576 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_energy_torpedoes_2 } } give_technology = { tech = tech_energy_torpedoes_2 } set_timed_country_flag = { flag = cortana_cooldown days = 864 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.4.Lance"
		trigger = { has_technology = tech_lasers_4 has_technology = tech_battleships NOT = { has_technology = tech_energy_lance_2 } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_energy_lance_1 } } give_technology = { tech = tech_energy_lance_1 } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_energy_lance_2 } } give_technology = { tech = tech_energy_lance_2 } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.4.Emitter"
		trigger = { has_technology = tech_disruptors_3 has_technology = tech_battleships NOT = { has_technology = tech_arc_emitter_2 } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_arc_emitter_1 } } give_technology = { tech = tech_arc_emitter_1 } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_arc_emitter_2 } } give_technology = { tech = tech_arc_emitter_2 } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.4.Craft"
		trigger = { NOT = { has_technology = tech_strike_craft_3 } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_strike_craft_1 } } give_technology = { tech = tech_strike_craft_1 } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_strike_craft_2 } } give_technology = { tech = tech_strike_craft_2 } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_strike_craft_3 } } give_technology = { tech = tech_strike_craft_3 } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = { name = BACK hidden_effect = { country_event = { id = CortanaEvent.1 } } }
}

country_event = {# Cortana Research - Blockers
	id = "CortanaEvent.5"
	title = "CortanaEvent.1.Name"
	desc = "CortanaEvent.1.Desc"
	picture = GFX_evt_ai_cortana
	is_triggered_only = yes
	immediate = {}
	option = { name = "tech_volcano" trigger = { NOT = { has_technology = tech_volcano } } hidden_effect = { give_technology = { tech = tech_volcano } set_timed_country_flag = { flag = cortana_cooldown days = 360 } remove_country_flag = cortana_ready } }
	option = { name = "tech_mountain_range" trigger = { NOT = { has_technology = tech_mountain_range } } hidden_effect = { give_technology = { tech = tech_mountain_range } set_timed_country_flag = { flag = cortana_cooldown days = 360 } remove_country_flag = cortana_ready } }
	option = { name = "tech_dangerous_wildlife" trigger = { NOT = { has_technology = tech_dangerous_wildlife } } hidden_effect = { give_technology = { tech = tech_dangerous_wildlife } set_timed_country_flag = { flag = cortana_cooldown days = 360 } remove_country_flag = cortana_ready } }
	option = { name = "tech_dense_jungle" trigger = { NOT = { has_technology = tech_dense_jungle } } hidden_effect = { give_technology = { tech = tech_dense_jungle } set_timed_country_flag = { flag = cortana_cooldown days = 360 } remove_country_flag = cortana_ready } }
	option = { name = "tech_quicksand_basin" trigger = { NOT = { has_technology = tech_quicksand_basin } } hidden_effect = { give_technology = { tech = tech_quicksand_basin } set_timed_country_flag = { flag = cortana_cooldown days = 360 } remove_country_flag = cortana_ready } }
	option = { name = "tech_noxious_swamp" trigger = { NOT = { has_technology = tech_noxious_swamp } } hidden_effect = { give_technology = { tech = tech_noxious_swamp } set_timed_country_flag = { flag = cortana_cooldown days = 360 } remove_country_flag = cortana_ready } }
	option = { name = "tech_massive_glacier" trigger = { NOT = { has_technology = tech_massive_glacier } } hidden_effect = { give_technology = { tech = tech_massive_glacier } set_timed_country_flag = { flag = cortana_cooldown days = 360 } remove_country_flag = cortana_ready } }
	option = { name = "tech_toxic_kelp" trigger = { NOT = { has_technology = tech_toxic_kelp } } hidden_effect = { give_technology = { tech = tech_toxic_kelp } set_timed_country_flag = { flag = cortana_cooldown days = 360 } remove_country_flag = cortana_ready } }
	option = { name = "tech_deep_sinkhole" trigger = { NOT = { has_technology = tech_deep_sinkhole } } hidden_effect = { give_technology = { tech = tech_deep_sinkhole } set_timed_country_flag = { flag = cortana_cooldown days = 360 } remove_country_flag = cortana_ready } }
	option = { name = BACK hidden_effect = { country_event = { id = CortanaEvent.1 } } }
}

country_event = {# Cortana Research - Others
	id = "CortanaEvent.10"
	title = "CortanaEvent.1.Name"
	desc = "CortanaEvent.1.Desc"
	picture = GFX_evt_ai_cortana
	is_triggered_only = yes
	immediate = {}
	option = {
		name = "CortanaEvent.10.Terraformation"
		trigger = { NOT = { has_technology = tech_climate_restoration } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_terrestrial_sculpting } } give_technology = { tech = tech_terrestrial_sculpting } set_timed_country_flag = { flag = cortana_cooldown days = 360 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_ecological_adaptation } } give_technology = { tech = tech_ecological_adaptation } set_timed_country_flag = { flag = cortana_cooldown days = 576 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_climate_restoration } } give_technology = { tech = tech_climate_restoration } set_timed_country_flag = { flag = cortana_cooldown days = 864 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.10.Colonization"
		trigger = { NOR = { has_technology = tech_colonization_5 has_authority = auth_machine_intelligence } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_colonization_1 } } give_technology = { tech = tech_colonization_1 } set_timed_country_flag = { flag = cortana_cooldown days = 360 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_colonization_2 } } give_technology = { tech = tech_colonization_2 } set_timed_country_flag = { flag = cortana_cooldown days = 360 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_colonization_3 } } give_technology = { tech = tech_colonization_3 } set_timed_country_flag = { flag = cortana_cooldown days = 576 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_colonization_4 } } give_technology = { tech = tech_colonization_4 } set_timed_country_flag = { flag = cortana_cooldown days = 864 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_colonization_5 } } give_technology = { tech = tech_colonization_5 } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.10.Mining"
		trigger = { NOT = { has_technology = tech_space_mining_5 } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_space_mining_1 } } give_technology = { tech = tech_space_mining_1 } set_timed_country_flag = { flag = cortana_cooldown days = 360 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_space_mining_2 } } give_technology = { tech = tech_space_mining_2 } set_timed_country_flag = { flag = cortana_cooldown days = 360 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_space_mining_3 } } give_technology = { tech = tech_space_mining_3 } set_timed_country_flag = { flag = cortana_cooldown days = 576 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_space_mining_4 } } give_technology = { tech = tech_space_mining_4 } set_timed_country_flag = { flag = cortana_cooldown days = 864 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_space_mining_5 } } give_technology = { tech = tech_space_mining_5 } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.10.Research"
		trigger = { NOT = { has_technology = tech_space_science_5 } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_space_science_1 } } give_technology = { tech = tech_space_science_1 } set_timed_country_flag = { flag = cortana_cooldown days = 360 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_space_science_2 } } give_technology = { tech = tech_space_science_2 } set_timed_country_flag = { flag = cortana_cooldown days = 360 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_space_science_3 } } give_technology = { tech = tech_space_science_3 } set_timed_country_flag = { flag = cortana_cooldown days = 576 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_space_science_4 } } give_technology = { tech = tech_space_science_4 } set_timed_country_flag = { flag = cortana_cooldown days = 864 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_space_science_5 } } give_technology = { tech = tech_space_science_5 } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.10.Adaption"
		trigger = { has_technology = tech_colonization_2 NOT = { has_technology = tech_tomb_world_adaption } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_tomb_world_adaption } } give_technology = { tech = tech_tomb_world_adaption } set_timed_country_flag = { flag = cortana_cooldown days = 360 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.10.Robotic"
		trigger = { NOT = { has_technology = tech_synthetic_workers } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_robotic_workers } } give_technology = { tech = tech_robotic_workers } set_timed_country_flag = { flag = cortana_cooldown days = 360 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_droid_workers } } give_technology = { tech = tech_droid_workers } set_timed_country_flag = { flag = cortana_cooldown days = 576 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_synthetic_workers } } give_technology = { tech = tech_synthetic_workers } set_timed_country_flag = { flag = cortana_cooldown days = 1080 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = {
		name = "CortanaEvent.10.Assembly"
		trigger = { NOT = { has_technology = tech_construction_templates } }
		hidden_effect = {
			if = { limit = { NOT = { has_technology = tech_assembly_pattern } } give_technology = { tech = tech_assembly_pattern } set_timed_country_flag = { flag = cortana_cooldown days = 360 } remove_country_flag = cortana_ready break = yes }
			if = { limit = { NOT = { has_technology = tech_construction_templates } } give_technology = { tech = tech_construction_templates } set_timed_country_flag = { flag = cortana_cooldown days = 360 } remove_country_flag = cortana_ready break = yes }
		}
	}
	option = { name = BACK hidden_effect = { country_event = { id = CortanaEvent.1 } } }
}

country_event = {# Cortana Research - Others
	id = "CortanaEvent.11"
	title = "CortanaEvent.1.Name"
	desc = "CortanaEvent.1.Desc"
	picture = GFX_evt_ai_cortana
	is_triggered_only = yes
	immediate = {}
	option = { name = "tech_repeatable_improved_tile_energy_output" hidden_effect = { give_technology = { tech = tech_repeatable_improved_tile_energy_output } set_timed_country_flag = { flag = cortana_cooldown days = 1440 } remove_country_flag = cortana_ready } }
	option = { name = "tech_repeatable_improved_shield_output" hidden_effect = { give_technology = { tech = tech_repeatable_improved_shield_output } set_timed_country_flag = { flag = cortana_cooldown days = 1440 } remove_country_flag = cortana_ready } }
	option = { name = "tech_repeatable_weapon_type_energy_damage" hidden_effect = { give_technology = { tech = tech_repeatable_weapon_type_energy_damage } set_timed_country_flag = { flag = cortana_cooldown days = 1440 } remove_country_flag = cortana_ready } }
	option = { name = "tech_repeatable_weapon_type_energy_fire_rate" hidden_effect = { give_technology = { tech = tech_repeatable_weapon_type_energy_fire_rate } set_timed_country_flag = { flag = cortana_cooldown days = 1440 } remove_country_flag = cortana_ready } }
	option = { name = "tech_repeatable_reduced_building_cost" hidden_effect = { give_technology = { tech = tech_repeatable_reduced_building_cost } set_timed_country_flag = { flag = cortana_cooldown days = 1440 } remove_country_flag = cortana_ready } }
	option = { name = "tech_repeatable_reduced_building_time" hidden_effect = { give_technology = { tech = tech_repeatable_reduced_building_time } set_timed_country_flag = { flag = cortana_cooldown days = 1440 } remove_country_flag = cortana_ready } }
	option = { name = "tech_repeatable_improved_tile_food_output" hidden_effect = { give_technology = { tech = tech_repeatable_improved_tile_food_output } set_timed_country_flag = { flag = cortana_cooldown days = 1440 } remove_country_flag = cortana_ready } }
	option = { name = "tech_repeatable_improved_core_system_cap" hidden_effect = { give_technology = { tech = tech_repeatable_improved_core_system_cap } set_timed_country_flag = { flag = cortana_cooldown days = 1440 } remove_country_flag = cortana_ready } }
	# option = { name = "tech_repeatable_improved_edict_length" hidden_effect = { give_technology = { tech = tech_repeatable_improved_edict_length } set_timed_country_flag = { flag = cortana_cooldown days = 1440 } remove_country_flag = cortana_ready } }
	option = { name = "tech_repeatable_improved_army_damage" hidden_effect = { give_technology = { tech = tech_repeatable_improved_army_damage } set_timed_country_flag = { flag = cortana_cooldown days = 1440 } remove_country_flag = cortana_ready } }
	option = { name = "tech_repeatable_improved_army_health" hidden_effect = { give_technology = { tech = tech_repeatable_improved_army_health } set_timed_country_flag = { flag = cortana_cooldown days = 1440 } remove_country_flag = cortana_ready } }
	option = { name = "tech_repeatable_improved_starbase_capacity" hidden_effect = { give_technology = { tech = tech_repeatable_improved_starbase_capacity } set_timed_country_flag = { flag = cortana_cooldown days = 1440 } remove_country_flag = cortana_ready } }
	option = { name = "tech_repeatable_naval_cap" hidden_effect = { give_technology = { tech = tech_repeatable_naval_cap } set_timed_country_flag = { flag = cortana_cooldown days = 1440 } remove_country_flag = cortana_ready } }
	option = { name = "tech_repeatable_command_limit" hidden_effect = { give_technology = { tech = tech_repeatable_command_limit } set_timed_country_flag = { flag = cortana_cooldown days = 1440 } remove_country_flag = cortana_ready } }
	option = { name = "tech_repeatable_improved_tile_mineral_output" hidden_effect = { give_technology = { tech = tech_repeatable_improved_tile_mineral_output } set_timed_country_flag = { flag = cortana_cooldown days = 1440 } remove_country_flag = cortana_ready } }
	option = { name = "tech_repeatable_improved_military_station_damage" hidden_effect = { give_technology = { tech = tech_repeatable_improved_military_station_damage } set_timed_country_flag = { flag = cortana_cooldown days = 1440 } remove_country_flag = cortana_ready } }
	option = { name = "tech_repeatable_improved_military_station_health" hidden_effect = { give_technology = { tech = tech_repeatable_improved_military_station_health } set_timed_country_flag = { flag = cortana_cooldown days = 1440 } remove_country_flag = cortana_ready } }
	option = { name = "tech_repeatable_weapon_type_strike_craft_fire_damage" hidden_effect = { give_technology = { tech = tech_repeatable_weapon_type_strike_craft_fire_damage } set_timed_country_flag = { flag = cortana_cooldown days = 1440 } remove_country_flag = cortana_ready } }
	option = { name = "tech_repeatable_weapon_type_strike_craft_fire_rate" hidden_effect = { give_technology = { tech = tech_repeatable_weapon_type_strike_craft_fire_rate } set_timed_country_flag = { flag = cortana_cooldown days = 1440 } remove_country_flag = cortana_ready } }
	option = { name = "tech_repeatable_improved_armor_output" hidden_effect = { give_technology = { tech = tech_repeatable_improved_armor_output } set_timed_country_flag = { flag = cortana_cooldown days = 1440 } remove_country_flag = cortana_ready } }
	option = { name = "tech_repeatable_weapon_type_explosive_damage" hidden_effect = { give_technology = { tech = tech_repeatable_weapon_type_explosive_damage } set_timed_country_flag = { flag = cortana_cooldown days = 1440 } remove_country_flag = cortana_ready } }
	option = { name = "tech_repeatable_weapon_type_explosive_fire_rate" hidden_effect = { give_technology = { tech = tech_repeatable_weapon_type_explosive_fire_rate } set_timed_country_flag = { flag = cortana_cooldown days = 1440 } remove_country_flag = cortana_ready } }
	option = { name = "tech_repeatable_weapon_type_kinetic_damage" hidden_effect = { give_technology = { tech = tech_repeatable_weapon_type_kinetic_damage } set_timed_country_flag = { flag = cortana_cooldown days = 1440 } remove_country_flag = cortana_ready } }
	option = { name = "tech_repeatable_weapon_type_kinetic_fire_rate" hidden_effect = { give_technology = { tech = tech_repeatable_weapon_type_kinetic_fire_rate } set_timed_country_flag = { flag = cortana_cooldown days = 1440 } remove_country_flag = cortana_ready } }
	option = { name = BACK hidden_effect = { country_event = { id = CortanaEvent.1 } } }
}

# Cortana Research - Auto - Tech
country_event = {
	id = "CortanaEvent.12"
	title = "CortanaEvent.12.Name"
	desc = "CortanaEvent.12.Desc"
	picture = GFX_evt_ai_cortana
	show_sound = event_scanner
	is_triggered_only = yes
	trigger = { has_technology = tech_cortana_initiatives NOR = { has_country_flag = cortana_initiave_tech_cooldown has_country_flag = cortana_research_random_repeatable_technology_no_warning } }
	option = {
		name = "CortanaEvent.12.a"
		custom_tooltip = "CortanaEvent.12.a.tooltip"
	}
	option = { name = "UniqueAscensionPerks.no_message"
		set_country_flag = cortana_research_random_repeatable_technology_no_warning
		custom_tooltip = "CortanaEvent.12.a.tooltip"
	}
}
# Cortana Research - Auto - Tech - Hidde
country_event = {
	id = "CortanaEvent.13"
	hide_window = yes
	mean_time_to_happen = { months = 12 modifier = { factor = 0.5 has_technology = tech_cortana_advanced } }
	trigger = { has_technology = tech_cortana_initiatives NOT = { has_country_flag = cortana_initiave_tech_cooldown } }
	immediate = {
		if = {
			limit = { has_technology = tech_cortana_advanced } set_timed_country_flag = { flag = cortana_initiave_tech_cooldown months = 20 }
			else = { set_timed_country_flag = { flag = cortana_initiave_tech_cooldown months = 36 } }
		}
		cortana_research_random_repeatable_technology = yes
		if = { limit = { has_technology = tech_cortana_perfect } cortana_research_random_repeatable_technology = yes }
		if = { limit = { NOT = { has_country_flag = cortana_research_random_repeatable_technology_no_warning } }
			country_event = { id = "CortanaEvent.12" }
		}
	}
}
 # Cortana Research - Help - Tech - Progress
country_event = {
	id = "CortanaEvent.14"
	title = "CortanaEvent.14.Name"
	desc = "CortanaEvent.14.Desc"
	picture = GFX_evt_ai_cortana
	show_sound = event_scanner
	is_triggered_only = yes
	trigger = { has_technology = tech_cortana_help NOR = { has_country_flag = cortana_help_tech_cooldown has_country_flag = cortana_helps_research_current_technology_no_warning } }
	option = {
		name = "CortanaEvent.14.a"
		custom_tooltip = "CortanaEvent.14.a.tooltip"
	}
	option = { name = "UniqueAscensionPerks.no_message"
		set_country_flag = cortana_helps_research_current_technology_no_warning
		custom_tooltip = "CortanaEvent.14.a.tooltip"
	}
}
 # Cortana Research - Help - Tech - Hidde
country_event = {
	id = "CortanaEvent.15"
	hide_window = yes
	mean_time_to_happen = { months = 12 modifier = { factor = 0.5 has_technology = tech_cortana_advanced } }
	trigger = { has_technology = tech_cortana_help NOT = { has_country_flag = cortana_help_tech_cooldown } }
	immediate = {
		if = {
			limit = { has_technology = tech_cortana_advanced } set_timed_country_flag = { flag = cortana_help_tech_cooldown months = 12 }
			else = { set_timed_country_flag = { flag = cortana_help_tech_cooldown months = 24 } }
		}
		cortana_helps_research_current_technology = yes
		if = { limit = { has_technology = tech_cortana_perfect } cortana_helps_research_current_technology = yes }
		if = { limit = { NOT = { has_country_flag = cortana_helps_research_current_technology_no_warning } }
			country_event = { id = "CortanaEvent.14" }
		}
	}
}

country_event = {
	id = CortanaEvent.20
	title = "CortanaEvent.20.Name"
	desc = "CortanaEvent.20.Desc"
	picture = GFX_evt_ai_cortana
	show_sound = event_scanner
	mean_time_to_happen = { months = 12 }
	trigger = {
		is_ai = no
		has_ascension_perk = ap_ai_cortana
		has_technology = tech_cortana_initiatives
		has_technology = tech_cortana_help
		has_technology = tech_cortana_optimized
		has_technology = tech_cortana_advanced
		has_technology = tech_cortana_perfect
		NOT = { has_country_flag = has_cortana_relic }
	}
	immediate = { set_country_flag = has_cortana_relic }
	option = { name = EXCELLENT add_relic = r_cortana }
}

country_event = {
	id = CortanaEvent.100
	title = "CortanaEvent.100.Name"
	desc = "CortanaEvent.100.Desc"
	show_sound = event_ai_started
	picture = GFX_evt_ai_cortana
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT country_event = { id = CortanaEvent.1 } }
}
