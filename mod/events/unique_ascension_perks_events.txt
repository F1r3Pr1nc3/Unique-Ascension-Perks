namespace = UniqueAscensionPerksEvents

country_event = { # Kill Special Subject Country if their master is dead.
	id = UniqueAscensionPerksEvents.8787
	# is_triggered_only = yes
	mean_time_to_happen = { months = 4 }
	hide_window = yes
	trigger = {
		is_subject = no
		OR = {
			has_country_flag = domesticated_spaceborn_alien
			has_country_flag = security_strike_force
			has_country_flag = defense_sentinels
		}
	}
	immediate = {
		if = {
			limit = {
				is_country_type = domesticated_spaceborn_alien
				has_country_flag = domesticated_spaceborn_alien
				NOT = {
					any_playable_country = {
						is_subject = no
						reverse_has_relation_flag = { who = root flag = domesticated_spaceborn_alien }
					}
				}
			}
			destroy_country = yes
		} else_if = {
			limit = {
				is_country_type = security_forces
				has_country_flag = security_strike_force
				NOT = {
					any_playable_country = {
						is_subject = no
						reverse_has_relation_flag = { who = root flag = security_strike_force }
					}
				}
			}
			destroy_country = yes
		} else_if = {
			limit = {
				is_country_type = defense_sentinels
				has_country_flag = defense_sentinels
				NOT = {
					any_playable_country = {
						is_subject = no
						reverse_has_relation_flag = { who = root flag = defense_sentinels }
					}
				}
			}
			destroy_country = yes
		}
	}
}

country_event = { # Remove Special Subject Countries from Any Federations & Galactic Community & Galactic Council
	id = UniqueAscensionPerksEvents.8789
	hide_window = yes
	mean_time_to_happen = { months = 4 }
	# is_triggered_only = yes
	trigger = {
		is_country_type = global_event
		OR = {
			any_federation = { any_member = { is_unique_perk_special_subject = yes } }
			AND = { is_galactic_community_formed = yes any_country = { is_galactic_community_member = yes is_unique_perk_special_subject = yes } }
			AND = { is_galactic_council_established = yes any_country = { is_part_of_galactic_council = yes is_unique_perk_special_subject = yes } }
		}
	}
	immediate = {
		if = {
			limit = { any_federation = { any_member = { is_unique_perk_special_subject = yes } } }
			every_federation = { limit = { any_member = { is_unique_perk_special_subject = yes } }
				every_member = { limit = { is_unique_perk_special_subject = yes } leave_alliance = { override_requirements = yes } }
			}
		}
		if = {
			limit = { is_galactic_community_formed = yes any_country = { is_galactic_community_member = yes is_unique_perk_special_subject = yes } }
			every_playable_country = { limit = { is_galactic_community_member = yes is_unique_perk_special_subject = yes } remove_from_galactic_community = yes }
		}
		if = {
			limit = { is_galactic_council_established = yes any_country = { is_part_of_galactic_council = yes is_unique_perk_special_subject = yes } }
			every_playable_country = { limit = { is_part_of_galactic_council = yes is_unique_perk_special_subject = yes } remove_from_galactic_council = yes }
		}
	}
}

# Reset Special Deposits After Terraform.
planet_event = {
	id = UniqueAscensionPerksEvents.9000
	is_triggered_only = yes
	hide_window = yes
	# mean_time_to_happen = { months = 1 }
	pre_triggers = { has_owner = yes }
	trigger = {
		exists = owner
		OR = {
			AND = {
				is_planet_class = pc_hive
				OR = {
					check_variable = { which = deposits_hivemind_reserve value > 1 }
					check_variable = { which = deposits_district_queen value > 1 }
					check_variable = { which = deposits_district_nursery value > 1 }
				}
			}
			is_planet_class = pc_machine
			is_planet_class = pc_arcology
		}
		NOT = { has_planet_flag = mod_deposits_restored }
	}
	immediate = {
		if = {
			limit = { is_planet_class = pc_hive }
			while = {
				limit = { check_variable = { which = deposits_hivemind_reserve value > 1 } }
				change_variable = { which = deposits_hivemind_reserve value = -1 }
				add_deposit = d_hivemind_reserve
				set_planet_flag = mod_deposits_restored
			}
			while = {
				limit = { check_variable = { which = deposits_district_queen value > 1 } }
				change_variable = { which = deposits_district_queen value = -1 }
				add_deposit = d_hivemind_reserve
				set_planet_flag = mod_deposits_restored
			}
			while = {
				limit = { check_variable = { which = deposits_district_nursery value > 1 } }
				change_variable = { which = deposits_district_nursery value = -1 }
				add_deposit = d_hivemind_reserve
				set_planet_flag = mod_deposits_restored
			}
		}
	}
}

#######################################
#									 #
############ Lost Heritage ############
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.20
	title = "ap_lost_heritage"
	desc = "UniqueAscensionPerksEvents.20.Desc"
	show_sound = event_psionic
	picture = GFX_evt_lost_heritage
	location = capital_scope
	is_triggered_only = yes
	immediate = {
		set_spawn_system_batch = begin
		no_scope = {
			spawn_system = {
				min_distance > 620 max_distance <= 640 max_orientation_angle = 90 hyperlane = no initializer = "lh_basic_system"
				effect = { save_event_target_as = lh_basic_system }
			}
			# random_list = {
				# Angles from 140° to 220° are corrupted and will end up with messed cluster and systems spawning very far away.
				# 60 = { spawn_system = { min_distance > 630 max_distance <= 640 min_orientation_angle = 140 max_orientation_angle = 220 hyperlane = no initializer = "lh_basic_system" } }
				# 30 = { spawn_system = { min_distance > 630 max_distance <= 640 min_orientation_angle = 0 max_orientation_angle = 30 hyperlane = no initializer = lh_basic_system } }
				# 20 = { spawn_system = { min_distance > 630 max_distance <= 640 min_orientation_angle = 60 max_orientation_angle = 80 hyperlane = no initializer = lh_basic_system } }
				# 5 = { spawn_system = { min_distance > 630 max_distance <= 640 min_orientation_angle = 110 max_orientation_angle = 115 hyperlane = no initializer = lh_basic_system } }
				# 74 = { spawn_system = { min_distance > 630 max_distance <= 640 min_orientation_angle = 230 max_orientation_angle = 304 hyperlane = no initializer = lh_basic_system } }
				# 30 = { spawn_system = { min_distance > 630 max_distance <= 640 min_orientation_angle = 330 max_orientation_angle = 360 hyperlane = no initializer = lh_basic_system } }
			#}
		}
		# random_system = { limit = { has_star_flag = lh_basic_system_created } remove_star_flag = lh_basic_system_created save_event_target_as = lh_basic_system }
		if = {
			limit = { exists = capital_scope capital_scope = { solar_system = { has_natural_wormhole = yes } } }
			capital_scope.solar_system = {
				closest_system = {
					limit = { exists = space_owner space_owner = { is_same_empire = root } has_natural_wormhole = no }
					save_event_target_as = lh_empire_capital_system
				}
			}
		} else_if = { limit = { exists = capital_scope }
			capital_scope.solar_system = { save_event_target_as = lh_empire_capital_system }
		} else = {
			random_system_within_border = {
				limit = { exists = starbase has_natural_wormhole = no any_system_planet = { is_colony = yes } }
				weights = { base = 1 modifier = { add = 3 is_capital_system = yes } }
				save_event_target_as = lh_empire_capital_system
			}
		}
		event_target:lh_empire_capital_system = {
			event_target:lh_basic_system = {
				# every_system_planet = { set_surveyed = { surveyed = yes surveyor = root } }
				# create_starbase = { size = starbase_outpost owner = root }
				# ROOT = { give_technology = { tech = tech_new_systems_localization } }
				# ROOT = { while = { count = 10 spawn_lh_system = yes } }
				prev = { spawn_natural_wormhole = { bypass_type = wormhole random_pos = yes orbit_angle = 360 } }
				spawn_natural_wormhole = { bypass_type = wormhole random_pos = yes orbit_angle = 270 }
				link_wormholes = prev
			}
		}
		set_spawn_system_batch = end
	}
	option = {
		name = EXCELLENT add_research_option = tech_new_systems_localization
		hidden_effect = {
			country_event = { id = distar.13060 scopes = { from = event_target:lh_empire_capital_system } }
		}
	}
}

system_event = {
	id = UniqueAscensionPerksEvents.21
	title = "UniqueAscensionPerksEvents.21.Name"
	desc = "UniqueAscensionPerksEvents.21.Desc"
	picture = GFX_evt_system_localization
	show_sound = event_laboratory_sound
	location = this
	is_triggered_only = yes
	immediate = { save_event_target_as = located_system } # TODO remove me soon
	option = { name = EXCELLENT }
}

country_event = {
	id = UniqueAscensionPerksEvents.22
	title = "UniqueAscensionPerksEvents.22.Name"
	desc = "UniqueAscensionPerksEvents.22.Desc"
	picture = GFX_evt_system_localization
	show_sound = event_default
	location = capital_scope
	is_triggered_only = yes
	option = {
		name = "UniqueAscensionPerks.lets_again"
		allow = {
			resource_stockpile_compare = { resource = energy value > 5000 }
			resource_stockpile_compare = { resource = sr_dark_matter value > 100 }
			custom_tooltip = { fail_text = "edict_enable_system_localization_req" any_system_within_border = { has_star_flag = lh_basic_system } }
		}
		custom_tooltip = "edict_enable_system_localization_tooltip"
		# add_resource = { energy = -5000 sr_dark_matter = -100 }
		# spawn_lh_system = yes
		country_event = { id = UniqueAscensionPerksEvents.23 }
	}
	option = { name = EXCELLENT }
}

country_event = {
	id = UniqueAscensionPerksEvents.23
	title = "UniqueAscensionPerksEvents.23.Name"
	desc = "UniqueAscensionPerksEvents.23.Desc"
	picture = GFX_evt_system_localization
	show_sound = event_laboratory_sound
	# location = event_target:located_system
	is_triggered_only = yes
	# trigger = {
	# 	custom_tooltip = { fail_text = "edict_enable_system_localization_req" any_system_within_border = { has_star_flag = lh_basic_system } }
	# }
	# immediate = {
	# 	event_target:located_system = { save_event_target_as = located_system }
	# }
	# TODO
	after = {
		if = { limit = { is_variable_set = amount_spawn_lh_systems check_variable = { which = amount_spawn_lh_systems value > 0 } }
			if = { limit = { check_variable = { which = amount_spawn_lh_systems value = 1 } has_global_flag = ap_lost_heritage }
				add_resource = { energy = -500 }
			} else = {
				add_resource = { energy = -5000 sr_dark_matter = -100 mult = amount_spawn_lh_systems }
			}
			while = { count = amount_spawn_lh_systems spawn_lh_system = yes }
			# set_timed_country_flag = { flag = system_localization_cooldown days = @\[ 30 * amount_spawn_lh_systems] }
			# country_event = { id = UniqueAscensionPerksEvents.22 days = @\[ 30 * amount_spawn_lh_systems] }
			clear_variable = amount_spawn_lh_systems
		}
	}
	option = { name = "UniqueAscensionPerksEvents.23.1" allow = { resource_stockpile_compare = { resource = energy value > 5000 } resource_stockpile_compare = { resource = sr_dark_matter value > 100 } } hidden_effect = { set_timed_country_flag = { flag = system_localization_cooldown days = 30 } country_event = { id = UniqueAscensionPerksEvents.22 days = 30 } set_variable = { which = amount_spawn_lh_systems value = 1 } } }
	option = { name = "UniqueAscensionPerksEvents.23.2" allow = { resource_stockpile_compare = { resource = energy value > 10000 } resource_stockpile_compare = { resource = sr_dark_matter value > 200 } } hidden_effect = { set_timed_country_flag = { flag = system_localization_cooldown days = 60 } country_event = { id = UniqueAscensionPerksEvents.22 days = 60 } set_variable = { which = amount_spawn_lh_systems value = 2 } } }
	option = { name = "UniqueAscensionPerksEvents.23.3" allow = { resource_stockpile_compare = { resource = energy value > 15000 } resource_stockpile_compare = { resource = sr_dark_matter value > 300 } } hidden_effect = { set_timed_country_flag = { flag = system_localization_cooldown days = 90 } country_event = { id = UniqueAscensionPerksEvents.22 days = 90 } set_variable = { which = amount_spawn_lh_systems value = 3 } } }
	option = { name = "UniqueAscensionPerksEvents.23.4" allow = { resource_stockpile_compare = { resource = energy value > 20000 } resource_stockpile_compare = { resource = sr_dark_matter value > 400 } } hidden_effect = { set_timed_country_flag = { flag = system_localization_cooldown days = 120 } country_event = { id = UniqueAscensionPerksEvents.22 days = 120 } set_variable = { which = amount_spawn_lh_systems value = 4 } } }
	option = { name = "UniqueAscensionPerksEvents.23.5" allow = { resource_stockpile_compare = { resource = energy value > 25000 } resource_stockpile_compare = { resource = sr_dark_matter value > 500 } } hidden_effect = { set_timed_country_flag = { flag = system_localization_cooldown days = 150 } country_event = { id = UniqueAscensionPerksEvents.22 days = 150 } set_variable = { which = amount_spawn_lh_systems value = 5 } } }
	option = { name = "UniqueAscensionPerksEvents.23.6" allow = { resource_stockpile_compare = { resource = energy value > 30000 } resource_stockpile_compare = { resource = sr_dark_matter value > 600 } } hidden_effect = { set_timed_country_flag = { flag = system_localization_cooldown days = 180 } country_event = { id = UniqueAscensionPerksEvents.22 days = 180 } set_variable = { which = amount_spawn_lh_systems value = 6 } } }
	option = { name = "UniqueAscensionPerksEvents.23.7" allow = { resource_stockpile_compare = { resource = energy value > 35000 } resource_stockpile_compare = { resource = sr_dark_matter value > 700 } } hidden_effect = { set_timed_country_flag = { flag = system_localization_cooldown days = 210 } country_event = { id = UniqueAscensionPerksEvents.22 days = 210 } set_variable = { which = amount_spawn_lh_systems value = 7 } } }
	option = { name = "UniqueAscensionPerksEvents.23.8" allow = { resource_stockpile_compare = { resource = energy value > 40000 } resource_stockpile_compare = { resource = sr_dark_matter value > 800 } } hidden_effect = { set_timed_country_flag = { flag = system_localization_cooldown days = 240 } country_event = { id = UniqueAscensionPerksEvents.22 days = 240 } set_variable = { which = amount_spawn_lh_systems value = 8 } } }
	option = { name = "UniqueAscensionPerksEvents.23.9" allow = { resource_stockpile_compare = { resource = energy value > 45000 } resource_stockpile_compare = { resource = sr_dark_matter value > 900 } } hidden_effect = { set_timed_country_flag = { flag = system_localization_cooldown days = 270 } country_event = { id = UniqueAscensionPerksEvents.22 days = 270 } set_variable = { which = amount_spawn_lh_systems value = 9 } } }
	option = { name = "UniqueAscensionPerksEvents.23.10" allow = { resource_stockpile_compare = { resource = energy value > 50000 } resource_stockpile_compare = { resource = sr_dark_matter value > 1000 } } hidden_effect = { set_timed_country_flag = { flag = system_localization_cooldown days = 300 } country_event = { id = UniqueAscensionPerksEvents.22 days = 300 } set_variable = { which = amount_spawn_lh_systems value = 10 } } }
	option = { name = "UniqueAscensionPerksEvents.23.cheat" trigger = { has_global_flag = ap_lost_heritage } allow = { resource_stockpile_compare = { resource = energy value > 500 } } hidden_effect = { set_timed_country_flag = { flag = system_localization_cooldown days = 30 } country_event = { id = UniqueAscensionPerksEvents.22 days = 30 } set_variable = { which = amount_spawn_lh_systems value = 1 } } }
	option = { name = ABORT ai_chance = { factor = 0 } }
}

#######################################
#									 #
######## Expandable Knowledge #########
#									 #
#######################################
# on_yearly_pulse
event = {
	id = UniqueAscensionPerksEvents.30
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		# random_playable_country = {
		##	limit = { has_ascension_perk = ap_expandable_brain_2 any_owned_leader = { num_traits < 3 } }
		#	every_owned_leader = { limit = { num_traits < 3 } BR_add_random_leader_trait = yes }
		#}
		random_playable_country = {
			limit = { has_ascension_perk = ap_expandable_brain_2 NOT = { has_country_flag = ap_expandable_brain_2_project } }
			country_event = { id = UniqueAscensionPerksEvents.3038 days = 30 random = 70 }
		}
		random_playable_country = {
			limit = { has_ascension_perk = ap_expandable_brain_2 has_country_flag = ap_expandable_brain_2_project_completed NOT = { has_country_flag = ap_expandable_brain_2_project_2 } }
			country_event = { id = UniqueAscensionPerksEvents.3040 }
		}
		random_playable_country = {
			limit = { has_ascension_perk = ap_transcendent_learning NOT = { has_country_flag = ap_transcendent_learning_project } }
			country_event = { id = UniqueAscensionPerksEvents.31 }
		}
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.31
	title = "UniqueAscensionPerksEvents.31.Name"
	desc = "UniqueAscensionPerksEvents.31.Desc"
	show_sound = event_engineered_evolution
	picture = GFX_evt_expandable_brain_1
	location = capital_scope
	is_triggered_only = yes
	immediate = { set_country_flag = ap_transcendent_learning_project }
	option = { name = EXCELLENT enable_special_project = { name = EXPANDABLE_BRAIN_1 location = capital_scope owner = root } }
}

country_event = {
	id = UniqueAscensionPerksEvents.32
	title = "expandable_brain_1"
	desc = "UniqueAscensionPerksEvents.32.Desc"
	show_sound = event_engineered_evolution
	picture = GFX_evt_expandable_brain_1
	location = capital_scope
	is_triggered_only = yes
	option = {
		name = EXCELLENT
		ai_chance = { factor = 0 }
		custom_tooltip = "ALLOW_LEADER_MIN_LVL_2"
		add_modifier = { modifier = expandable_brain_1 }
		hidden_effect = {
			every_owned_leader = { limit = { has_skill < 2 } set_skill = 2 }
			every_pool_leader = { limit = { has_skill < 2 } set_skill = 2 }
		}
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.33
	title = "ap_expandable_brain_1"
	desc = "ap_expandable_brain_1_desc"
	show_sound = event_psionic
	picture = GFX_evt_expandable_brain_2
	location = capital_scope
	is_triggered_only = yes
	option = {
		name = EXCELLENT
		ai_chance = { factor = 0 }
		custom_tooltip = "ALLOW_LEADER_MIN_LVL_3"
		custom_tooltip = "ALLOW_LEADER_MIN_TRAIT_2"
		add_research_option = tech_expandable_brain_1
		hidden_effect = {
			every_owned_leader = { if = { limit = { has_skill < 3 } set_skill = 3 } BR_add_random_leader_trait = yes }
			every_pool_leader = { if = { limit = { has_skill < 3 } set_skill = 3 } BR_add_random_leader_trait = yes }
		}
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.34
	title = "tech_expandable_brain_1"
	desc = "UniqueAscensionPerksEvents.34.Desc"
	show_sound = event_psionic
	picture = GFX_evt_expandable_brain_3
	location = capital_scope
	is_triggered_only = yes
	trigger = {
		has_technology = tech_expandable_brain_1
		NOT = { has_country_flag = tech_expandable_brain_1_project }
	}
	immediate = { set_country_flag = tech_expandable_brain_1_project }
	option = { name = EXCELLENT enable_special_project = { name = EXPANDABLE_BRAIN_2 location = capital_scope owner = root } }
}

country_event = {
	id = UniqueAscensionPerksEvents.35
	title = "expandable_brain_2"
	desc = "UniqueAscensionPerksEvents.35.Desc"
	show_sound = event_psionic
	picture = GFX_evt_expandable_brain_4
	location = capital_scope
	is_triggered_only = yes
	option = {
		name = EXCELLENT
		ai_chance = { factor = 0 }
		custom_tooltip = "ALLOW_LEADER_MIN_LVL_4"
		add_modifier = { modifier = expandable_brain_2 }
		add_research_option = tech_expandable_brain_2
		hidden_effect = {
			every_owned_leader = { limit = { has_skill < 4 } set_skill = 4 }
			every_pool_leader = { limit = { has_skill < 4 } set_skill = 4 }
		}
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.36
	title = "tech_expandable_brain_2"
	desc = "UniqueAscensionPerksEvents.36.Desc"
	show_sound = event_psionic
	picture = GFX_evt_expandable_brain_5
	location = capital_scope
	is_triggered_only = yes
	trigger = {
		has_technology = tech_expandable_brain_2
		NOT = { has_country_flag = tech_expandable_brain_2_project }
	}
	immediate = { set_country_flag = tech_expandable_brain_2_project }
	option = { name = EXCELLENT }
}

# TODO may split them into more AP's
country_event = {
	id = UniqueAscensionPerksEvents.37
	title = "ap_expandable_brain_2"
	desc = "ap_expandable_brain_2_desc"
	show_sound = event_psionic
	picture = GFX_evt_expandable_brain_6
	location = capital_scope
	is_triggered_only = yes
	immediate = {
		every_owned_leader = { if = { limit = { has_skill < 5 } set_skill = 5 } BR_add_random_leader_trait = yes }
		every_pool_leader = { if = { limit = { has_skill < 5 } set_skill = 5 } BR_add_random_leader_trait = yes }
	}
	option = { name = "UniqueAscensionPerksEvents.37.Offense" add_modifier = { modifier = expandable_brain_3_offense } custom_tooltip = "ALLOW_LEADER_MIN_LVL_5" custom_tooltip = "ALLOW_LEADER_MIN_TRAIT_3" hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.3038 days = 30 random = 70 } } }
	option = { name = "UniqueAscensionPerksEvents.37.Expansion" add_modifier = { modifier = expandable_brain_3_expansion } custom_tooltip = "ALLOW_LEADER_MIN_LVL_5" custom_tooltip = "ALLOW_LEADER_MIN_TRAIT_3" hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.3038 days = 30 random = 70 } } }
	option = { name = "UniqueAscensionPerksEvents.37.Construction" add_modifier = { modifier = expandable_brain_3_construction } custom_tooltip = "ALLOW_LEADER_MIN_LVL_5" custom_tooltip = "ALLOW_LEADER_MIN_TRAIT_3" hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.3038 days = 30 random = 70 } } }
	option = { name = "UniqueAscensionPerksEvents.37.Production" add_modifier = { modifier = expandable_brain_3_production } custom_tooltip = "ALLOW_LEADER_MIN_LVL_5" custom_tooltip = "ALLOW_LEADER_MIN_TRAIT_3" hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.3038 days = 30 random = 70 } } }
}

country_event = {
	id = UniqueAscensionPerksEvents.3038
	title = "EXPANDABLE_BRAIN_3"
	desc = "EXPANDABLE_BRAIN_3_DESC"
	show_sound = event_engineered_evolution
	picture = GFX_evt_expandable_brain_6
	location = capital_scope
	is_triggered_only = yes
	trigger = { has_ascension_perk = ap_expandable_brain_2 NOT = { has_country_flag = ap_expandable_brain_2_project } }
	immediate = { set_country_flag = ap_expandable_brain_2_project }
	option = { name = EXCELLENT enable_special_project = { name = EXPANDABLE_BRAIN_3 location = capital_scope owner = root } }
}

country_event = {
	id = UniqueAscensionPerksEvents.3039
	title = "EXPANDABLE_BRAIN_3"
	desc = "UniqueAscensionPerksEvents.3039.Desc"
	show_sound = event_psionic
	picture = GFX_evt_expandable_brain_6
	location = capital_scope
	is_triggered_only = yes
	immediate = { set_country_flag = ap_expandable_brain_2_project_completed }
	option = { name = "UniqueAscensionPerksEvents.37.Offense" add_modifier = { modifier = expandable_brain_3_offense } allow = { NOT = { has_modifier = expandable_brain_3_offense } } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.3038 days = 90 random = 150 } } }
	option = { name = "UniqueAscensionPerksEvents.37.Expansion" add_modifier = { modifier = expandable_brain_3_expansion } allow = { NOT = { has_modifier = expandable_brain_3_expansion } } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.3038 days = 90 random = 150 } } }
	option = { name = "UniqueAscensionPerksEvents.37.Construction" add_modifier = { modifier = expandable_brain_3_construction } allow = { NOT = { has_modifier = expandable_brain_3_construction } } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.3038 days = 90 random = 150 } } }
	option = { name = "UniqueAscensionPerksEvents.37.Production" add_modifier = { modifier = expandable_brain_3_production } allow = { NOT = { has_modifier = expandable_brain_3_production } } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.3038 days = 90 random = 150 } } }
}

country_event = {
	id = UniqueAscensionPerksEvents.3040
	title = "EXPANDABLE_BRAIN_4"
	desc = "EXPANDABLE_BRAIN_4_DESC"
	show_sound = event_engineered_evolution
	picture = GFX_evt_expandable_brain_6
	location = capital_scope
	is_triggered_only = yes
	trigger = { has_ascension_perk = ap_expandable_brain_2 has_country_flag = ap_expandable_brain_2_project_completed NOT = { has_country_flag = ap_expandable_brain_2_project_2 } }
	immediate = { set_country_flag = ap_expandable_brain_2_project_2 }
	option = { name = EXCELLENT enable_special_project = { name = EXPANDABLE_BRAIN_4 location = capital_scope owner = root } }
}

country_event = {
	id = UniqueAscensionPerksEvents.3041
	title = "EXPANDABLE_BRAIN_4"
	desc = "UniqueAscensionPerksEvents.3041.Desc"
	show_sound = event_psionic
	picture = GFX_evt_expandable_brain_6
	location = capital_scope
	is_triggered_only = yes
	immediate = { set_country_flag = ap_expandable_brain_3_project_completed }
	option = { name = "UniqueAscensionPerksEvents.37.Offense" add_modifier = { modifier = expandable_brain_3_offense } allow = { NOT = { has_modifier = expandable_brain_3_offense } } }
	option = { name = "UniqueAscensionPerksEvents.37.Expansion" add_modifier = { modifier = expandable_brain_3_expansion } allow = { NOT = { has_modifier = expandable_brain_3_expansion } } }
	option = { name = "UniqueAscensionPerksEvents.37.Construction" add_modifier = { modifier = expandable_brain_3_construction } allow = { NOT = { has_modifier = expandable_brain_3_construction } } }
	option = { name = "UniqueAscensionPerksEvents.37.Production" add_modifier = { modifier = expandable_brain_3_production } allow = { NOT = { has_modifier = expandable_brain_3_production } } }
}
# on_leader_spawned
country_event = {
	id = UniqueAscensionPerksEvents.39
	is_triggered_only = yes
	hide_window = yes
	trigger = {
		OR = {
			has_global_flag = ap_expandable_brain_2
			has_modifier = expandable_brain_1
			has_modifier = expandable_brain_2
			has_ascension_perk = ap_expandable_brain_1
			has_ascension_perk = ap_expandable_brain_2
		}
	}
	immediate = {
		# TODO needs test?
		if = { limit = { OR = { has_modifier = expandable_brain_1 has_global_flag = ap_expandable_brain_2 } from = { has_skill < 2 } } from = { set_skill = 2 } }
		if = { limit = { OR = { has_ascension_perk = ap_expandable_brain_1 has_global_flag = ap_expandable_brain_2 } from = { has_skill < 3 } } from = { set_skill = 3 BR_add_random_leader_trait = yes } }
		if = { limit = { OR = { has_modifier = expandable_brain_2 has_global_flag = ap_expandable_brain_2 } from = { has_skill < 4 } } from = { set_skill = 4 } }
		if = { limit = { OR = { has_ascension_perk = ap_expandable_brain_2 has_global_flag = ap_expandable_brain_2 } from = { has_skill < 5 } } from = { set_skill = 5 BR_add_random_leader_trait = yes } }
	}
}

#######################################
#									 #
############# Nano Drones #############
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.40
	title = "ap_nano_drones"
	desc = "ap_nano_drones_desc"
	show_sound = event_ai_started
	picture = GFX_evt_nano_workers
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT give_technology = { tech = tech_auto_drone } add_resource = { automatic_drone = 3000 } }
}

planet_event = {
	id = UniqueAscensionPerksEvents.8041
	hide_window = yes
	mean_time_to_happen = { months = 2 }
	trigger = {
		exists = owner
		owner = {
			has_country_flag = nano_auto_upgrade
			has_ascension_perk = ap_nano_drones
			resource_stockpile_compare = { resource = automatic_drone value > 200 }
		}
	}
	immediate = {
		while = { count = 3
			# nano_drones_auto_upgrade = yes
			random_list = {
				1 = {}
				999 = { modifier = { factor = 0 NOT = { has_building = building_auto_power_plant_1 } } remove_building = building_auto_power_plant_1 add_building = building_auto_power_plant_2 owner = { add_resource = { automatic_drone = -200 } } }
				999 = { modifier = { factor = 0 NAND = { has_building = building_auto_power_plant_2 owner = { has_technology = tech_power_plant_3 } } } remove_building = building_auto_power_plant_2 add_building = building_auto_power_plant_3 owner = { add_resource = { automatic_drone = -200 } } }
				999 = { modifier = { factor = 0 NAND = { has_building = building_auto_power_plant_3 has_upgraded_capital = yes owner = { has_technology = tech_power_plant_3 } } } remove_building = building_auto_power_plant_3 add_building = building_auto_power_plant_4 owner = { add_resource = { automatic_drone = -200 } } }
				999 = { modifier = { factor = 0 NAND = { has_building = building_auto_power_plant_4 has_major_upgraded_capital = yes owner = { has_technology = tech_power_plant_4 } } } remove_building = building_auto_power_plant_4 add_building = building_auto_power_plant_5 owner = { add_resource = { automatic_drone = -200 } } }
				999 = { modifier = { factor = 0 NOT = { has_building = building_auto_farming_complex_1 } } remove_building = building_auto_farming_complex_1 add_building = building_auto_farming_complex_2 owner = { add_resource = { automatic_drone = -200 } } }
				999 = { modifier = { factor = 0 NAND = { has_building = building_auto_farming_complex_2 owner = { has_technology = tech_gene_crops } } } remove_building = building_auto_farming_complex_2 add_building = building_auto_farming_complex_3 owner = { add_resource = { automatic_drone = -200 } } }
				999 = { modifier = { factor = 0 NAND = { has_building = building_auto_farming_complex_3 has_upgraded_capital = yes owner = { has_technology = tech_gene_crops } } } remove_building = building_auto_farming_complex_3 add_building = building_auto_farming_complex_4 owner = { add_resource = { automatic_drone = -200 } } }
				999 = { modifier = { factor = 0 NAND = { has_building = building_auto_farming_complex_4 has_major_upgraded_capital = yes owner = { has_technology = tech_nano_vitality_crops } } } remove_building = building_auto_farming_complex_4 add_building = building_auto_farming_complex_5 owner = { add_resource = { automatic_drone = -200 } } }
				999 = { modifier = { factor = 0 NOT = { has_building = building_auto_mining_complex_1 } } remove_building = building_auto_mining_complex_1 add_building = building_auto_mining_complex_2 owner = { add_resource = { automatic_drone = -200 } } }
				999 = { modifier = { factor = 0 NAND = { has_building = building_auto_mining_complex_2 owner = { has_technology = tech_mining_2 } } } remove_building = building_auto_mining_complex_2 add_building = building_auto_mining_complex_3 owner = { add_resource = { automatic_drone = -200 } } }
				999 = { modifier = { factor = 0 NAND = { has_building = building_auto_mining_complex_3 has_upgraded_capital = yes owner = { has_technology = tech_mining_2 } } } remove_building = building_auto_mining_complex_3 add_building = building_auto_mining_complex_4 owner = { add_resource = { automatic_drone = -200 } } }
				999 = { modifier = { factor = 0 NAND = { has_building = building_auto_mining_complex_4 has_major_upgraded_capital = yes owner = { has_technology = tech_mining_3 } } } remove_building = building_auto_mining_complex_4 add_building = building_auto_mining_complex_5 owner = { add_resource = { automatic_drone = -200 } } }
				999 = { modifier = { factor = 0 NOT = { has_building = building_auto_physics_campus_1 } } remove_building = building_auto_physics_campus_1 add_building = building_auto_physics_campus_2 owner = { add_resource = { automatic_drone = -200 } } }
				999 = { modifier = { factor = 0 NAND = { has_building = building_auto_physics_campus_2 owner = { has_technology = tech_physics_2 } } } remove_building = building_auto_physics_campus_2 add_building = building_auto_physics_campus_3 owner = { add_resource = { automatic_drone = -200 } } }
				999 = { modifier = { factor = 0 NAND = { has_building = building_auto_physics_campus_3 has_upgraded_capital = yes owner = { has_technology = tech_physics_2 } } } remove_building = building_auto_physics_campus_3 add_building = building_auto_physics_campus_4 owner = { add_resource = { automatic_drone = -200 } } }
				999 = { modifier = { factor = 0 NAND = { has_building = building_auto_physics_campus_4 has_major_upgraded_capital = yes owner = { has_technology = tech_physics_3 } } } remove_building = building_auto_physics_campus_4 add_building = building_auto_physics_campus_5 owner = { add_resource = { automatic_drone = -200 } } }
				999 = { modifier = { factor = 0 NOT = { has_building = building_auto_sociological_campus_1 } } remove_building = building_auto_sociological_campus_1 add_building = building_auto_sociological_campus_2 owner = { add_resource = { automatic_drone = -200 } } }
				999 = { modifier = { factor = 0 NAND = { has_building = building_auto_sociological_campus_2 owner = { has_technology = tech_society_2 } } } remove_building = building_auto_sociological_campus_2 add_building = building_auto_sociological_campus_3 owner = { add_resource = { automatic_drone = -200 } } }
				999 = { modifier = { factor = 0 NAND = { has_building = building_auto_sociological_campus_3 has_upgraded_capital = yes owner = { has_technology = tech_society_2 } } } remove_building = building_auto_sociological_campus_3 add_building = building_auto_sociological_campus_4 owner = { add_resource = { automatic_drone = -200 } } }
				999 = { modifier = { factor = 0 NAND = { has_building = building_auto_sociological_campus_4 has_major_upgraded_capital = yes owner = { has_technology = tech_society_3 } } } remove_building = building_auto_sociological_campus_4 add_building = building_auto_sociological_campus_5 owner = { add_resource = { automatic_drone = -200 } } }
				999 = { modifier = { factor = 0 NOT = { has_building = building_auto_engineering_campus_1 } } remove_building = building_auto_engineering_campus_1 add_building = building_auto_engineering_campus_2 owner = { add_resource = { automatic_drone = -200 } } }
				999 = { modifier = { factor = 0 NAND = { has_building = building_auto_engineering_campus_2 owner = { has_technology = tech_engineering_2 } } } remove_building = building_auto_engineering_campus_2 add_building = building_auto_engineering_campus_3 owner = { add_resource = { automatic_drone = -200 } } }
				999 = { modifier = { factor = 0 NAND = { has_building = building_auto_engineering_campus_3 has_upgraded_capital = yes owner = { has_technology = tech_engineering_2 } } } remove_building = building_auto_engineering_campus_3 add_building = building_auto_engineering_campus_4 owner = { add_resource = { automatic_drone = -200 } } }
				999 = { modifier = { factor = 0 NAND = { has_building = building_auto_engineering_campus_4 has_major_upgraded_capital = yes owner = { has_technology = tech_engineering_3 } } } remove_building = building_auto_engineering_campus_4 add_building = building_auto_engineering_campus_5 owner = { add_resource = { automatic_drone = -200 } } }
				999 = { modifier = { factor = 0 NAND = { has_building = building_nanite_facility_1 has_upgraded_capital = yes owner = { has_ascension_perk = ap_nano_to_nanite resource_stockpile_compare = { resource = automatic_drone value >= 400 } } } } remove_building = building_nanite_facility_1 add_building = building_nanite_facility_2 owner = { add_resource = { automatic_drone = -400 } } }
				999 = { modifier = { factor = 0 NAND = { has_building = building_nanite_facility_2 has_major_upgraded_capital = yes owner = { has_ascension_perk = ap_nano_to_nanite resource_stockpile_compare = { resource = automatic_drone value >= 400 } } } } remove_building = building_nanite_facility_2 add_building = building_nanite_facility_3 owner = { add_resource = { automatic_drone = -400 } } }
				999 = {
					modifier = { factor = 0 NOT = { has_building = building_auto_drone_facility_1 } }
					random_list = {
						1 = {}
						100 = { modifier = { factor = 0 has_upgraded_capital = no } remove_building = building_auto_drone_facility_1 add_building = building_auto_drone_facility_2 owner = { add_resource = { automatic_drone = -200 } } }
						10 = { modifier = { factor = 0 owner = { NOT = { has_technology = tech_power_plant_2 } } } remove_building = building_auto_drone_facility_1 add_building = building_auto_power_plant_1 owner = { add_resource = { automatic_drone = -200 } } }
						10 = { modifier = { factor = 0 owner = { NOT = { has_technology = tech_mining_1 } } } remove_building = building_auto_drone_facility_1 add_building = building_auto_farming_complex_1 owner = { add_resource = { automatic_drone = -200 } } }
						10 = { modifier = { factor = 0 owner = { NOT = { has_technology = tech_eco_simulation } } } remove_building = building_auto_drone_facility_1 add_building = building_auto_farming_complex_1 owner = { add_resource = { automatic_drone = -200 } } }
						10 = { modifier = { factor = 0 owner = { NOT = { has_technology = tech_physics_1 } } } remove_building = building_auto_drone_facility_1 add_building = building_auto_physics_campus_1 owner = { add_resource = { automatic_drone = -200 } } }
						10 = { modifier = { factor = 0 owner = { NOT = { has_technology = tech_society_2 } } } remove_building = building_auto_drone_facility_1 add_building = building_auto_sociological_campus_1 owner = { add_resource = { automatic_drone = -200 } } }
						10 = { modifier = { factor = 0 owner = { NOT = { has_technology = tech_engineering_2 } } } remove_building = building_auto_drone_facility_1 add_building = building_auto_engineering_campus_1 owner = { add_resource = { automatic_drone = -200 } } }
						20 = { modifier = { factor = 0 owner = { NOR = { has_ascension_perk = ap_nano_to_nanite resource_stockpile_compare = { resource = automatic_drone value > 400 } } } } remove_building = building_auto_drone_facility_1 add_building = building_auto_engineering_campus_1 owner = { add_resource = { automatic_drone = -400 } } }
					}
				}
				999 = { modifier = { factor = 0 NAND = { has_building = building_auto_drone_facility_2 has_major_upgraded_capital = yes owner = { has_ascension_perk = ap_nano_drones } } } remove_building = building_auto_drone_facility_2 add_building = building_auto_drone_facility_3 owner = { add_resource = { automatic_drone = -400 } } }
			}
		}
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.8001
	title = "ap_nano_to_nanite"
	desc = "ap_nano_to_nanite_desc"
	show_sound = event_ai_started
	picture = GFX_evt_nano_to_nanite
	location = capital_scope
	is_triggered_only = yes
	option = {
		name = EXCELLENT
		enable_special_project = { name = NANITES_SHIP_SECTION location = capital_scope owner = root }
		add_research_option = tech_nanite_transmutation
		ai_chance = { factor = 0 }
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.8002
	title = "NANITES_SHIP_SECTION"
	desc = "UniqueAscensionPerksEvents.8002.Desc"
	show_sound = event_ai_started
	picture = GFX_evt_nano_to_nanite
	location = capital_scope
	is_triggered_only = yes
	immediate = { set_country_flag = ap_nano_to_nanite_project }
	option = { name = EXCELLENT add_resource = { nanites = 1000 } add_research_option = tech_nanite_ship_section }
}

country_event = {
	id = UniqueAscensionPerksEvents.8003
	title = "UniqueAscensionPerksEvents.8003.Name"
	desc = "UniqueAscensionPerksEvents.8003.Desc"
	picture = GFX_evt_l-gateway
	show_sound = event_mystic_reveal
	location = from
	is_triggered_only = yes
	immediate = { from = { save_event_target_as = gateway_system } }
	option = { name = EXCELLENT }
}

country_event = {
	id = UniqueAscensionPerksEvents.8004
	title = "nanite_factory_site"
	desc = "UniqueAscensionPerksEvents.8004.Desc"
	picture = GFX_evt_gray_goo_ships
	show_sound = event_mystic_reveal
	location = from
	is_triggered_only = yes
	immediate = { from = { save_event_target_as = gateway_system } }
	option = { name = EXCELLENT }
}

country_event = {
	id = UniqueAscensionPerksEvents.8005
	title = "nanite_factory"
	desc = "UniqueAscensionPerksEvents.8005.Desc"
	picture = GFX_evt_gray_goo_ships
	show_sound = event_think_tank_build_upgrade
	location = from
	is_triggered_only = yes
	immediate = { from = { save_event_target_as = gateway_system } }
	option = { name = EXCELLENT }
}

#######################################
#									 #
########### Genius Pregnancy ##########
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.41
	title = "ap_genius_cloning"
	desc = "ap_genius_cloning_desc"
	show_sound = event_laboratory_sound
	picture = GFX_evt_genious_pregnacy
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT give_technology = { tech = tech_breeding_facility } }
}
# on_pop_grown
planet_event = {
	id = UniqueAscensionPerksEvents.42
	hide_window = yes
	is_triggered_only = yes
	pre_triggers = { has_owner = yes }
	trigger = { exists = owner owner = { has_ascension_perk = ap_genius_cloning } OR = { is_capital = yes colony_age > 1 } }
	immediate = { random = { chance = 33 create_pop = { species = fromfrom } } }
}

planet_event = {
	id = UniqueAscensionPerksEvents.3043
	hide_window = yes
	mean_time_to_happen = { months = 1 }
	pre_triggers = { has_owner = yes }
	trigger = {
		exists = owner
		owner = { has_ascension_perk = ap_genius_cloning }
		has_building = building_breeding_facility
	}
	immediate = {
		if = {
			limit = { num_buildings = { type = building_breeding_facility value > 0 } }
			random = { chance = 80 planet_event = { id = UniqueAscensionPerksEvents.3044 days = 1 random = 10 } }
		}
		if = {
			limit = { num_buildings = { type = building_breeding_facility value > 1 } }
			random = { chance = 80 planet_event = { id = UniqueAscensionPerksEvents.3045 days = 1 random = 10 } }
		}
		if = {
			limit = { num_buildings = { type = building_breeding_facility value > 2 } }
			random = { chance = 80 planet_event = { id = UniqueAscensionPerksEvents.3046 days = 1 random = 10 } }
		}
		if = {
			limit = { num_buildings = { type = building_breeding_facility value > 3 } }
			random = { chance = 80 planet_event = { id = UniqueAscensionPerksEvents.3047 days = 1 random = 10 } }
		}
		if = {
			limit = { num_buildings = { type = building_breeding_facility value > 4 } }
			random = { chance = 80 planet_event = { id = UniqueAscensionPerksEvents.3048 days = 1 random = 10 } }
		}
	}
}

planet_event = {
	id = UniqueAscensionPerksEvents.3044
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		if = {
			limit = { check_variable = { which = d_breeding_facility_1 value < 24 } }
			change_variable = { which = d_breeding_facility_1 value = 1 }
			add_deposit = d_breeding_facility_1
		} else = {
			every_deposit = { limit = { is_deposit_type = d_breeding_facility_1 } remove_deposit = yes }
			set_variable = { which = d_breeding_facility_1 value = 0 }
			random_owned_pop = {
				limit = { is_organic_species = yes has_population_control = { value = no country = prev.owner } is_being_purged = no is_being_assimilated = no }
				weights = {
					base = 100
					modifier = { add = 100 is_same_species = root.owner_species }
					modifier = { add = -50 is_enslaved = yes }
				}
				prev = {
					create_pop = { species = prev }
					random = { chance = 33 create_pop = { species = prev } }
				}
			}
		}
	}
}

planet_event = {
	id = UniqueAscensionPerksEvents.3045
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		if = {
			limit = { check_variable = { which = d_breeding_facility_2 value < 24 } }
			change_variable = { which = d_breeding_facility_2 value = 1 }
			add_deposit = d_breeding_facility_2
		} else = {
			every_deposit = { limit = { is_deposit_type = d_breeding_facility_2 } remove_deposit = yes }
			set_variable = { which = d_breeding_facility_2 value = 0 }
			random_owned_pop = {
				limit = { is_organic_species = yes has_population_control = { value = no country = prev.owner } is_being_purged = no is_being_assimilated = no }
				weights = {
					base = 100
					modifier = { add = 100 is_same_species = root.owner_species }
					modifier = { add = -50 is_enslaved = yes }
				}
				prev = {
					create_pop = { species = prev }
					random = { chance = 33 create_pop = { species = prev } }
				}
			}
		}
	}
}

planet_event = {
	id = UniqueAscensionPerksEvents.3046
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		if = {
			limit = { check_variable = { which = d_breeding_facility_3 value < 24 } }
			change_variable = { which = d_breeding_facility_3 value = 1 }
			add_deposit = d_breeding_facility_3
		} else = {
			every_deposit = { limit = { is_deposit_type = d_breeding_facility_3 } remove_deposit = yes }
			set_variable = { which = d_breeding_facility_3 value = 0 }
			random_owned_pop = {
				limit = { is_organic_species = yes has_population_control = { value = no country = prev.owner } is_being_purged = no is_being_assimilated = no }
				weights = {
					base = 100
					modifier = { add = 100 is_same_species = root.owner_species }
					modifier = { add = -50 is_enslaved = yes }
				}
				prev = {
					create_pop = { species = prev }
					random = { chance = 33 create_pop = { species = prev } }
				}
			}
		}
	}
}

planet_event = {
	id = UniqueAscensionPerksEvents.3047
	hide_window = yes
	is_triggered_only = yes
	pre_triggers = { has_owner = yes }
	immediate = {
		if = {
			limit = { check_variable = { which = d_breeding_facility_4 value < 24 } }
			change_variable = { which = d_breeding_facility_4 value = 1 }
			add_deposit = d_breeding_facility_4
		} else = {
			every_deposit = { limit = { is_deposit_type = d_breeding_facility_4 } remove_deposit = yes }
			set_variable = { which = d_breeding_facility_4 value = 0 }
			random_owned_pop = {
				limit = { is_organic_species = yes has_population_control = { value = no country = prev.owner } is_being_purged = no is_being_assimilated = no }
				weights = {
					base = 100
					modifier = { add = 100 is_same_species = root.owner_species }
					modifier = { add = -50 is_enslaved = yes }
				}
				prev = {
					create_pop = { species = prev }
					random = { chance = 33 create_pop = { species = prev } }
				}
			}
		}
	}
}

planet_event = {
	id = UniqueAscensionPerksEvents.3048
	hide_window = yes
	is_triggered_only = yes
	pre_triggers = { has_owner = yes }
	immediate = {
		if = {
			limit = { check_variable = { which = d_breeding_facility_5 value < 24 } }
			change_variable = { which = d_breeding_facility_5 value = 1 }
			add_deposit = d_breeding_facility_5
		} else = {
			every_deposit = { limit = { is_deposit_type = d_breeding_facility_5 } remove_deposit = yes }
			set_variable = { which = d_breeding_facility_5 value = 0 }
			random_owned_pop = {
				limit = { is_organic_species = yes has_population_control = { value = no country = prev.owner } is_being_purged = no is_being_assimilated = no }
				weights = {
					base = 100
					modifier = { add = 100 is_same_species = root.owner_species }
					modifier = { add = -50 is_enslaved = yes }
				}
				prev = {
					create_pop = { species = prev }
					random = { chance = 33 create_pop = { species = prev } }
				}
			}
		}
	}
}

# Removing breeding_facility deposits/buildings
planet_event = {
	id = UniqueAscensionPerksEvents.3049
	hide_window = yes
	mean_time_to_happen = { months = 6 }
	pre_triggers = { has_owner = yes }
	trigger = {
		OR = {
			has_deposit = d_breeding_facility_1
			has_deposit = d_breeding_facility_2
			has_deposit = d_breeding_facility_3
			has_deposit = d_breeding_facility_4
			has_deposit = d_breeding_facility_5
			has_building = building_breeding_facility
		}
	}
	immediate = {
		if = {
			limit = {
				has_building = building_breeding_facility
				NAND = {
					exists = owner
					owner = { has_ascension_perk = ap_genius_cloning }
				}
			}
			while = { limit = { has_building = building_breeding_facility } remove_building = building_breeding_facility }
		}
		if = {
			limit = { has_deposit = d_breeding_facility_5 num_buildings = { type = building_breeding_facility value < 5 } }
			every_deposit = { limit = { is_deposit_type = d_breeding_facility_5 } remove_deposit = yes }
			set_variable = { which = d_breeding_facility_5 value = 0 }
		}
		if = {
			limit = { has_deposit = d_breeding_facility_4 num_buildings = { type = building_breeding_facility value < 2 } }
			every_deposit = { limit = { is_deposit_type = d_breeding_facility_4 } remove_deposit = yes }
			set_variable = { which = d_breeding_facility_4 value = 0 }
		}
		if = {
			limit = { has_deposit = d_breeding_facility_3 num_buildings = { type = building_breeding_facility value < 3 } }
			every_deposit = { limit = { is_deposit_type = d_breeding_facility_3 } remove_deposit = yes }
			set_variable = { which = d_breeding_facility_3 value = 0 }
		}
		if = {
			limit = { has_deposit = d_breeding_facility_2 num_buildings = { type = building_breeding_facility value < 4 } }
			every_deposit = { limit = { is_deposit_type = d_breeding_facility_2 } remove_deposit = yes }
			set_variable = { which = d_breeding_facility_2 value = 0 }
		}
		if = {
			limit = { has_deposit = d_breeding_facility_1 num_buildings = { type = building_breeding_facility value < 1 } }
			every_deposit = { limit = { is_deposit_type = d_breeding_facility_1 } remove_deposit = yes }
			set_variable = { which = d_breeding_facility_1 value = 0 }
		}
	}
}

planet_event = {
	id = UniqueAscensionPerksEvents.3050
	title = "decision_genious_pregnancy"
	desc = "UniqueAscensionPerksEvents.3050.Desc"
	show_sound = event_laboratory_sound
	picture = GFX_evt_genious_pregnacy
	location = root
	is_triggered_only = yes
	option = { name = EXCELLENT }
}

#######################################
#									 #
######## Advanced Colonisation ########
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.43
	title = "ap_adv_colonisation"
	desc = "ap_adv_colonisation_desc"
	show_sound = event_ship_thrusters
	picture = GFX_evt_adv_colonisation
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT }
}

# on_colonized
planet_event = {
	id = UniqueAscensionPerksEvents.44
	hide_window = yes
	is_triggered_only = yes
	pre_triggers = { has_owner = yes }
	trigger = { exists = owner owner = { has_ascension_perk = ap_adv_colonisation } }
	immediate = { set_advanced_colony = yes }
}

#######################################
#									 #
######## Expansion of Infinity ########
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.45
	title = "ap_expansion_infinity"
	desc = "ap_expansion_infinity_desc"
	show_sound = event_cityscape
	picture = GFX_evt_expansion_infinity
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT add_resource = { unity = 5000 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.46
	title = "UniqueAscensionPerksEvents.46.Name"
	desc = "UniqueAscensionPerksEvents.46.Desc"
	show_sound = event_administrative_work
	picture = GFX_evt_expansion_infinity
	location = event_target:ap_expansion_infinity_planet
	is_triggered_only = yes
	trigger = {
		has_ascension_perk = ap_expansion_infinity
		NOT = { has_country_flag = ap_expansion_infinity_collection_no_warning }
		any_owned_planet = {
			OR = {
				is_capital = yes
				colony_age > 2
			}
			count_owned_pop = { count > 10 limit = { has_job = yes } }
			NOT = { has_planet_flag = ap_expansion_infinity_collection }
		}
	}
	immediate = { }
	option = { name = EXCELLENT }
	option = { name = "UniqueAscensionPerks.no_message"
		set_country_flag = ap_expansion_infinity_collection_no_warning
		custom_tooltip = "UniqueAscensionPerks.no_message.tooltip"
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.8000
	hide_window = yes
	mean_time_to_happen = { months = 9 }
	trigger = {
		has_ascension_perk = ap_expansion_infinity
		any_owned_planet = {
			OR = {
				is_capital = yes
				colony_age > 2
			}
			count_owned_pop = { count > 10 limit = { has_job = yes } }
			NOT = { has_planet_flag = ap_expansion_infinity_collection }
		}
	}
	immediate = {
		random_owned_planet = {
			limit = {
				colony_age > 2
				count_owned_pop = { count > 10 limit = { has_job = yes } }
				NOT = { has_planet_flag = ap_expansion_infinity_collection }
			}
			save_event_target_as = ap_expansion_infinity_planet
			set_timed_planet_flag = { flag = ap_expansion_infinity_collection years = 6 }
		}
		event_target:ap_expansion_infinity_planet = { ei_resources_collection = yes }
		if = { limit = { is_ai = no NOT = { has_country_flag = ap_expansion_infinity_collection_no_warning } }
			country_event = { id = UniqueAscensionPerksEvents.46 }
		}
	}
}

#######################################
#									 #
######## Recycling Expeditions ########
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.47
	title = "ap_recycling_drones"
	desc = "ap_recycling_drones_desc"
	show_sound = event_construction
	picture = GFX_evt_scavenger_bot
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT enable_special_project = { name = RECYCLE_RECOVER_SHIPS location = capital_scope owner = root } }
}

# on_ship_destroyed_victim
country_event = {
	id = UniqueAscensionPerksEvents.48
	hide_window = yes
	is_triggered_only = yes
	trigger = { has_ascension_perk = ap_recycling_drones }
	immediate = {
		fromfrom = {
			if = {
				limit = { root = { has_country_flag = ap_recycling_drones_project } }
				# perform_recover_ship_check = yes
				random = {
					chance = 35
					switch = {
						trigger = is_ship_size
						corvette		= { ROOT = { change_variable = { which = ship_corvette_recovered value = 1 } } }
						destroyer		= { ROOT = { change_variable = { which = ship_destroyer_recovered value = 1 } } }
						cruiser			= { ROOT = { change_variable = { which = ship_cruiser_recovered value = 1 } } }
						battleship		= { ROOT = { change_variable = { which = ship_battleship_recovered value = 1 } } }
						titan			= { ROOT = { change_variable = { which = ship_titan_recovered value = 1 } } }
					}
				}
			}
			# perform_recycling_expedition = yes
			switch = {
				trigger = is_ship_size
				# Default Empire
				science						= { ROOT = { add_resource = { minerals = 80 alloys = 20 } } }
				constructor					= { ROOT = { add_resource = { minerals = 80 alloys = 20 } } }
				colonizer					= { ROOT = { add_resource = { minerals = 80 alloys = 20 } } }
				sponsored_colonizer			= { ROOT = { add_resource = { minerals = 80 alloys = 20 } } }
				transport					= { ROOT = { add_resource = { minerals = 80 alloys = 20 } } }
				corvette					= { ROOT = { add_resource = { minerals = 80 alloys = 20 } } }
				destroyer					= { ROOT = { add_resource = { minerals = 160 alloys = 40 } } }
				cruiser						= { ROOT = { add_resource = { minerals = 320 alloys = 80 } } }
				battleship					= { ROOT = { add_resource = { minerals = 640 alloys = 160 } } }
				titan						= { ROOT = { add_resource = { minerals = 1080 alloys = 320 } } }
				colossus					= { ROOT = { add_resource = { minerals = 2160 alloys = 640 } } }
				juggernaut 					= { ROOT = { add_resource = { minerals = 2160 alloys = 640 } } }
				crisis_corvette 			= { ROOT = { add_resource = { minerals = 80 alloys = 20 } } }
				crisis_destroyer 			= { ROOT = { add_resource = { minerals = 160 alloys = 40 } } }
				crisis_cruiser 				= { ROOT = { add_resource = { minerals = 320 alloys = 80 } } }
				star_eater 					= { ROOT = { add_resource = { minerals = 2160 alloys = 640 } } }
				military_station_small		= { ROOT = { add_resource = { minerals = 160 alloys = 40 } } }
				military_station_medium		= { ROOT = { add_resource = { minerals = 320 alloys = 80 } } }
				military_station_large		= { ROOT = { add_resource = { minerals = 640 alloys = 160 } } }
				ion_cannon					= { ROOT = { add_resource = { minerals = 640 alloys = 160 } } }
				mining_station				= { ROOT = { add_resource = { minerals = 25 } } }
				research_station			= { ROOT = { add_resource = { minerals = 25 } } }
				observation_station			= { ROOT = { add_resource = { minerals = 25 } } }
				# Pirates
				pirate_corvette				= { ROOT = { add_resource = { minerals = 80 alloys = 20 } } }
				pirate_destroyer			= { ROOT = { add_resource = { minerals = 160 alloys = 40 } } }
				pirate_cruiser				= { ROOT = { add_resource = { minerals = 320 alloys = 80 } } }
				galleon						= { ROOT = { add_resource = { minerals = 1000 alloys = 160 } } }
				pirate_station				= { ROOT = { add_resource = { minerals = 160 alloys = 40 } } }
				# Marauders
				marauder_corvette			= { ROOT = { add_resource = { minerals = 80 alloys = 20 } } }
				marauder_destroyer			= { ROOT = { add_resource = { minerals = 160 alloys = 40 } } }
				marauder_cruiser			= { ROOT = { add_resource = { minerals = 320 alloys = 80 } } }
				marauder_galleon			= { ROOT = { add_resource = { minerals = 1000 alloys = 160 } } }
				marauder_station			= { ROOT = { add_resource = { minerals = 160 alloys = 40 } } }
				marauder_void_dwelling		= { ROOT = { add_resource = { minerals = 640 alloys = 160 } } }
				# Fallen Empire
				massive_ship_fallen_empire	= { ROOT = { add_resource = { minerals = 1080 alloys = 320 } } }
				large_ship_fallen_empire	= { ROOT = { add_resource = { minerals = 640 alloys = 160 } } }
				small_ship_fallen_empire	= { ROOT = { add_resource = { minerals = 160 alloys = 40 } } }
				# Ancient Drone
				ancient_mining_drone		= { ROOT = { add_resource = { minerals = 40 alloys = 10 } } }
				ancient_corvette			= { ROOT = { add_resource = { minerals = 80 alloys = 20 } } }
				ancient_destroyer			= { ROOT = { add_resource = { minerals = 160 alloys = 40 } } }
				# Contingency
				small_ship_ai				= { ROOT = { add_resource = { minerals = 160 alloys = 40 } } }
				large_ship_ai				= { ROOT = { add_resource = { minerals = 640 alloys = 160 } } }
				military_station_small_ai	= { ROOT = { add_resource = { minerals = 160 alloys = 40 } } }
				military_station_large_ai	= { ROOT = { add_resource = { minerals = 640 alloys = 160 } } }
				core_ai						= { ROOT = { add_resource = { minerals = 4320 alloys = 1280 } } }
				final_core_ai				= { ROOT = { add_resource = { minerals = 8640 alloys = 2560 } } }
				construction_ship_ai		= { ROOT = { add_resource = { minerals = 80 alloys = 20 } } }
				colony_ship_ai				= { ROOT = { add_resource = { minerals = 80 alloys = 20 } } }
				transport_ship_ai			= { ROOT = { add_resource = { minerals = 80 alloys = 20 } } }
				# Leviathans
				npc_warship_01				= { ROOT = { add_resource = { minerals = 4320 alloys = 1280 } } }
			}
		}
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.49
	title = "RECYCLE_RECOVER_SHIPS"
	desc = "UniqueAscensionPerksEvents.49.Desc"
	show_sound = event_construction
	picture = GFX_evt_scavenger_bot
	location = capital_scope
	is_triggered_only = yes
	immediate = {
		set_country_flag = ap_recycling_drones_project
		set_variable = { which = ship_corvette_recovered value = 0 }
		set_variable = { which = ship_destroyer_recovered value = 0 }
		set_variable = { which = ship_cruiser_recovered value = 0 }
		set_variable = { which = ship_battleship_recovered value = 0 }
		set_variable = { which = ship_titan_recovered value = 0 }
	}
	option = {
		name = EXCELLENT
		custom_tooltip = "ap_recycling_drones_tooltip_3"
		hidden_effect = {
			country_event = { id = UniqueAscensionPerksEvents.3053 days = 30 random = 30 }
			capital_scope = { solar_system = { set_star_flag = recycle_fleet_spawn_system } }
		}
	}
}

# on_ship_destroyed_perp
country_event = {
	id = UniqueAscensionPerksEvents.50
	hide_window = yes
	is_triggered_only = yes
	trigger = { has_ascension_perk = ap_recycling_drones } # has_country_flag = ap_recycling_drones_project
	immediate = {
		fromfromfrom = {
			random = {
				chance = 35
				switch = {
					trigger = is_ship_size
					# Default Empire
					science						= { ROOT = { add_resource = { minerals = 80 alloys = 20 } } }
					constructor					= { ROOT = { add_resource = { minerals = 80 alloys = 20 } } }
					colonizer					= { ROOT = { add_resource = { minerals = 80 alloys = 20 } } }
					sponsored_colonizer			= { ROOT = { add_resource = { minerals = 80 alloys = 20 } } }
					transport					= { ROOT = { add_resource = { minerals = 80 alloys = 20 } } }
					corvette					= { ROOT = { add_resource = { minerals = 80 alloys = 20 } } }
					destroyer					= { ROOT = { add_resource = { minerals = 160 alloys = 40 } } }
					cruiser						= { ROOT = { add_resource = { minerals = 320 alloys = 80 } } }
					battleship					= { ROOT = { add_resource = { minerals = 640 alloys = 160 } } }
					titan						= { ROOT = { add_resource = { minerals = 1080 alloys = 320 } } }
					colossus					= { ROOT = { add_resource = { minerals = 2160 alloys = 640 } } }
					juggernaut 					= { ROOT = { add_resource = { minerals = 2160 alloys = 640 } } }
					crisis_corvette 			= { ROOT = { add_resource = { minerals = 80 alloys = 20 } } }
					crisis_destroyer 			= { ROOT = { add_resource = { minerals = 160 alloys = 40 } } }
					crisis_cruiser 				= { ROOT = { add_resource = { minerals = 320 alloys = 80 } } }
					star_eater 					= { ROOT = { add_resource = { minerals = 2160 alloys = 640 } } }
					military_station_small		= { ROOT = { add_resource = { minerals = 160 alloys = 40 } } }
					military_station_medium		= { ROOT = { add_resource = { minerals = 320 alloys = 80 } } }
					military_station_large		= { ROOT = { add_resource = { minerals = 640 alloys = 160 } } }
					ion_cannon					= { ROOT = { add_resource = { minerals = 640 alloys = 160 } } }
					mining_station				= { ROOT = { add_resource = { minerals = 25 } } }
					research_station			= { ROOT = { add_resource = { minerals = 25 } } }
					observation_station			= { ROOT = { add_resource = { minerals = 25 } } }
					# Pirates
					pirate_corvette				= { ROOT = { add_resource = { minerals = 80 alloys = 20 } } }
					pirate_destroyer			= { ROOT = { add_resource = { minerals = 160 alloys = 40 } } }
					pirate_cruiser				= { ROOT = { add_resource = { minerals = 320 alloys = 80 } } }
					galleon						= { ROOT = { add_resource = { minerals = 1000 alloys = 160 } } }
					pirate_station				= { ROOT = { add_resource = { minerals = 160 alloys = 40 } } }
					# Marauders
					marauder_corvette			= { ROOT = { add_resource = { minerals = 80 alloys = 20 } } }
					marauder_destroyer			= { ROOT = { add_resource = { minerals = 160 alloys = 40 } } }
					marauder_cruiser			= { ROOT = { add_resource = { minerals = 320 alloys = 80 } } }
					marauder_galleon			= { ROOT = { add_resource = { minerals = 1000 alloys = 160 } } }
					marauder_station			= { ROOT = { add_resource = { minerals = 160 alloys = 40 } } }
					marauder_void_dwelling		= { ROOT = { add_resource = { minerals = 640 alloys = 160 } } }
					# Fallen Empire
					massive_ship_fallen_empire	= { ROOT = { add_resource = { minerals = 1080 alloys = 320 } } }
					large_ship_fallen_empire	= { ROOT = { add_resource = { minerals = 640 alloys = 160 } } }
					small_ship_fallen_empire	= { ROOT = { add_resource = { minerals = 160 alloys = 40 } } }
					# Ancient Drone
					ancient_mining_drone		= { ROOT = { add_resource = { minerals = 40 alloys = 10 } } }
					ancient_corvette			= { ROOT = { add_resource = { minerals = 80 alloys = 20 } } }
					ancient_destroyer			= { ROOT = { add_resource = { minerals = 160 alloys = 40 } } }
					# Contingency
					small_ship_ai				= { ROOT = { add_resource = { minerals = 160 alloys = 40 } } }
					large_ship_ai				= { ROOT = { add_resource = { minerals = 640 alloys = 160 } } }
					military_station_small_ai	= { ROOT = { add_resource = { minerals = 160 alloys = 40 } } }
					military_station_large_ai	= { ROOT = { add_resource = { minerals = 640 alloys = 160 } } }
					core_ai						= { ROOT = { add_resource = { minerals = 4320 alloys = 1280 } } }
					final_core_ai				= { ROOT = { add_resource = { minerals = 8640 alloys = 2560 } } }
					construction_ship_ai		= { ROOT = { add_resource = { minerals = 80 alloys = 20 } } }
					colony_ship_ai				= { ROOT = { add_resource = { minerals = 80 alloys = 20 } } }
					transport_ship_ai			= { ROOT = { add_resource = { minerals = 80 alloys = 20 } } }
					# Leviathans
					npc_warship_01				= { ROOT = { add_resource = { minerals = 4320 alloys = 1280 } } }
				}
			}
		}
	}
}
# on_yearly_pulse
event = {
	id = UniqueAscensionPerksEvents.51
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		random_playable_country = {
			limit = {
				has_country_flag = ap_recycling_drones_project
				OR = {
					check_variable = { which = ship_corvette_recovered value > 0 }
					check_variable = { which = ship_destroyer_recovered value > 0 }
					check_variable = { which = ship_cruiser_recovered value > 0 }
					check_variable = { which = ship_battleship_recovered value > 0 }
					check_variable = { which = ship_titan_recovered value > 0 }
				}
			}
			country_event = { id = UniqueAscensionPerksEvents.52 days = 5 }
		}
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.52
	title = "UniqueAscensionPerksEvents.52.Name"
	desc = "UniqueAscensionPerksEvents.52.Desc"
	show_sound = event_construction
	picture = GFX_evt_scavenger_bot
	location = event_target:recovery_fleet_position
	is_triggered_only = yes
	immediate = {
		# perform_recovery_fleet = yes
		random_system_within_border = {
			limit = { has_star_flag = recycle_fleet_spawn_system }
			star = { save_event_target_as = recovery_fleet_position }
		}
		if = { limit = { NOT = { exists = event_target:recovery_fleet_position } }
			random_system_within_border = {
				limit = { exists = starbase }
				weights = { base = 1 modifier = { add = 3 is_capital_system = yes } }
				star = { save_event_target_as = recovery_fleet_position }
			}
		}
		create_fleet = {
			name = "Recovered Fleet"
			settings = { spawn_debris = no }
			effect = {
				set_owner = prev
				if = { limit = { ROOT = { has_country_flag = ap_recycling_drones_project_upgrade } }
					while = {
						count = root.ship_corvette_recovered
						create_ship = { name = random random_existing_design = corvette }
					}
					while = {
						count = root.ship_destroyer_recovered
						create_ship = { name = random random_existing_design = destroyer }
					}
					while = {
						count = root.ship_cruiser_recovered
						create_ship = { name = random random_existing_design = cruiser }
					}
					while = {
						count = root.ship_battleship_recovered
						create_ship = { name = random random_existing_design = battleship }
					}
					while = {
						count = root.ship_titan_recovered
						create_ship = { name = random random_existing_design = titan }
					}
				} else = {
					while = {
						count = root.ship_corvette_recovered
						create_ship = { name = random design = "Standard Basic Corvette" }
					}
					while = {
						count = root.ship_destroyer_recovered
						create_ship = { name = random design = "Standard Basic Destroyer" }
					}
					while = {
						count = root.ship_cruiser_recovered
						create_ship = { name = random design = "Standard Basic Cruiser" }
					}
					while = {
						count = root.ship_battleship_recovered
						create_ship = { name = random design = "Standard Basic Battleship" }
					}
					while = {
						count = root.ship_titan_recovered
						create_ship = { name = random design = "Standard Basic Titan" }
					}
				}
				set_location = { target = event_target:recovery_fleet_position distance = 8 angle = random }
				set_fleet_stance = aggressive
				set_aggro_range_measure_from = self
				set_aggro_range = 1000
				set_fleet_flag = recovery_fleet
			}
		}
	}
	option = {
		name = EXCELLENT
		hidden_effect = {
			set_variable = { which = ship_corvette_recovered value = 0 }
			set_variable = { which = ship_destroyer_recovered value = 0 }
			set_variable = { which = ship_cruiser_recovered value = 0 }
			set_variable = { which = ship_battleship_recovered value = 0 }
			set_variable = { which = ship_titan_recovered value = 0 }
		}
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.3053
	title = "RECYCLE_PERFORM_SHIPS"
	desc = "RECYCLE_PERFORM_SHIPS_DESC"
	show_sound = event_construction
	picture = GFX_evt_scavenger_bot
	location = capital_scope
	is_triggered_only = yes
	immediate = { set_country_flag = ap_recycling_drones_project_upgrade_added }
	option = { name = EXCELLENT enable_special_project = { name = RECYCLE_PERFORM_SHIPS location = capital_scope owner = root } }
}

country_event = {
	id = UniqueAscensionPerksEvents.3054
	title = "RECYCLE_PERFORM_SHIPS"
	desc = "UniqueAscensionPerksEvents.3054.Desc"
	show_sound = event_construction
	picture = GFX_evt_scavenger_bot
	location = capital_scope
	is_triggered_only = yes
	immediate = { set_country_flag = ap_recycling_drones_project_upgrade }
	option = { name = EXCELLENT }
}

country_event = {
	id = UniqueAscensionPerksEvents.3055
	title = "UniqueAscensionPerksEvents.3055.Name"
	desc = "UniqueAscensionPerksEvents.3055.Desc"
	show_sound = event_construction
	picture = GFX_evt_space_station
	is_triggered_only = yes
	immediate = {
		random_system_within_border = { limit = { is_valid_system_for_recycle_fleet_spawn = yes }
			save_event_target_as = recycle_system_1
			root = { random_system_within_border = { limit = { is_valid_system_for_recycle_fleet_spawn = yes NOT = { is_same_value = event_target:recycle_system_1 } }
				save_event_target_as = recycle_system_2
				root = { random_system_within_border = { limit = { is_valid_system_for_recycle_fleet_spawn = yes NOR = { is_same_value = event_target:recycle_system_1 is_same_value = event_target:recycle_system_2 } }
					save_event_target_as = recycle_system_3
					root = { random_system_within_border = { limit = { is_valid_system_for_recycle_fleet_spawn = yes NOR = { is_same_value = event_target:recycle_system_1 is_same_value = event_target:recycle_system_2 is_same_value = event_target:recycle_system_3 } }
						save_event_target_as = recycle_system_4
						root = { random_system_within_border = { limit = { is_valid_system_for_recycle_fleet_spawn = yes NOR = { is_same_value = event_target:recycle_system_1 is_same_value = event_target:recycle_system_2 is_same_value = event_target:recycle_system_3 is_same_value = event_target:recycle_system_4 } }
							save_event_target_as = recycle_system_5
							root = { random_system_within_border = { limit = { is_valid_system_for_recycle_fleet_spawn = yes NOR = { is_same_value = event_target:recycle_system_1 is_same_value = event_target:recycle_system_2 is_same_value = event_target:recycle_system_3 is_same_value = event_target:recycle_system_4 is_same_value = event_target:recycle_system_5 } } save_event_target_as = recycle_system_6 } }
						} }
					} }
				} }
			} }
		}
	}
	option = {
		name = UniqueAscensionPerksEvents.3055.System.1
		trigger = { exists = event_target:recycle_system_1 }
		hidden_effect = { every_system_within_border = { remove_star_flag = recycle_fleet_spawn_system } event_target:recycle_system_1 = { set_star_flag = recycle_fleet_spawn_system } }
	}
	option = {
		name = UniqueAscensionPerksEvents.3055.System.2
		trigger = { exists = event_target:recycle_system_2 }
		hidden_effect = { every_system_within_border = { remove_star_flag = recycle_fleet_spawn_system } event_target:recycle_system_2 = { set_star_flag = recycle_fleet_spawn_system } }
	}
	option = {
		name = UniqueAscensionPerksEvents.3055.System.3
		trigger = { exists = event_target:recycle_system_3 }
		hidden_effect = { every_system_within_border = { remove_star_flag = recycle_fleet_spawn_system } event_target:recycle_system_3 = { set_star_flag = recycle_fleet_spawn_system } }
	}
	option = {
		name = UniqueAscensionPerksEvents.3055.System.4
		trigger = { exists = event_target:recycle_system_4 }
		hidden_effect = { every_system_within_border = { remove_star_flag = recycle_fleet_spawn_system } event_target:recycle_system_4 = { set_star_flag = recycle_fleet_spawn_system } }
	}
	option = {
		name = UniqueAscensionPerksEvents.3055.System.5
		trigger = { exists = event_target:recycle_system_5 }
		hidden_effect = { every_system_within_border = { remove_star_flag = recycle_fleet_spawn_system } event_target:recycle_system_5 = { set_star_flag = recycle_fleet_spawn_system } }
	}
	option = {
		name = UniqueAscensionPerksEvents.3055.System.6
		trigger = { exists = event_target:recycle_system_6 }
		hidden_effect = { every_system_within_border = { remove_star_flag = recycle_fleet_spawn_system } event_target:recycle_system_6 = { set_star_flag = recycle_fleet_spawn_system } }
	}
	option = { name = "UniqueAscensionPerksEvents.3055.Select" ai_chance = { factor = 0 } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.3055 } } }
	option = { name = CANCEL ai_chance = { factor = 0 } }
}

#######################################
#									 #
######## Emergency Calculation ########
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.53
	title = "ap_emergency_calculation"
	desc = "ap_emergency_calculation_desc"
	show_sound = event_ship_thrusters
	picture = GFX_evt_emergency_calculation
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT add_research_option = tech_jump_drive_1 }
}

country_event = {
	id = UniqueAscensionPerksEvents.8054
	title = "UniqueAscensionPerksEvents.8054.Name"
	desc = "UniqueAscensionPerksEvents.8054.Desc"
	picture = GFX_evt_drifting_gateway
	show_sound = event_mystic_reveal
	location = from
	is_triggered_only = yes
	immediate = { from = { save_event_target_as = gateway_system } }
	option = { name = EXCELLENT }
}

#######################################
#									 #
######### Economic Prosperity #########
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.54
	title = "ap_economic_prospertity"
	desc = "ap_economic_prospertity_desc"
	show_sound = event_galactic_market
	picture = GFX_evt_financial_instruments
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT }
}

#######################################
#									 #
######## Security Strike Forces #######
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.55
	title = "ap_advanced_security"
	desc = "ap_advanced_security_desc"
	show_sound = event_public_unrest
	picture = GFX_evt_security_forces
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT add_resource = { unity = 1000 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.56
	title = "UniqueAscensionPerksEvents.56.Name"
	desc = "UniqueAscensionPerksEvents.56.Desc"
	show_sound = event_public_unrest
	picture = GFX_evt_security_forces
	mean_time_to_happen = { months = 1 }
	location = event_target:spawn_location_system
	trigger = {
		has_ascension_perk = ap_advanced_security
		any_system_within_border = {
			NOT = { has_star_flag = recent_security_strike_force }
			any_fleet_in_system = {
				exists = owner
				owner = {
					OR = {
						is_country_type = pirate
						is_country_type = dormant_marauders
						is_country_type = awakened_marauders
					}
				}
			}
		}
	}
	immediate = {
		# deploy_secury_strike_forces = yes
		create_security_forces_country = yes
		random_system_within_border = {
			limit = {
				NOT = { has_star_flag = recent_security_strike_force }
				any_fleet_in_system = { exists = owner owner = { OR = { is_country_type = pirate is_country_type = dormant_marauders is_country_type = awakened_marauders } } }
			}
			save_event_target_as = spawn_location_system
			set_timed_star_flag = { flag = recent_security_strike_force years = 1 }
			# star = { save_event_target_as = spawn_location }
			create_fleet = {
				name = "Security Strike Forces"
				effect = {
					set_owner = root # event_target:main_country
					while = { count = 10 create_ship = { name = random random_existing_design = corvette } }
					while = { count = 10 random = { chance = 50 create_ship = { name = random random_existing_design = corvette } } }
					set_location = { target = prev.star distance = 325 angle = random }
					set_fleet_stance = aggressive
					set_aggro_range_measure_from = self
					set_aggro_range = 5000
					save_event_target_as = security_fleet
					fleet_event = { id = UniqueAscensionPerksEvents.57 days = 360 } # destroy_fleet
				}
			}
			event_target:security_fleet = { set_owner = event_target:security_forces_country }
		}
	}
	option = { name = OK ai_chance = { factor = 0 } }
}

fleet_event = {
	id = UniqueAscensionPerksEvents.57
	is_triggered_only = yes
	hide_window = yes
	immediate = { destroy_fleet = this }
}

planet_event = {
	id = UniqueAscensionPerksEvents.58
	title = "UniqueAscensionPerksEvents.58.Name"
	desc = "UniqueAscensionPerksEvents.58.Desc"
	show_sound = event_conversation
	picture = GFX_evt_security_place
	location = root
	mean_time_to_happen = { months = 6 }
	pre_triggers = { has_owner = yes }
	trigger = {
		exists = owner
		owner = { has_ascension_perk = ap_advanced_security }
		NOR = {
			has_planet_flag = recent_security_preventive_strike
			has_planet_flag = recent_security_preventive_strike_energy_small
			has_planet_flag = recent_security_preventive_strike_energy_medium
			has_planet_flag = recent_security_preventive_strike_energy_big
			has_planet_flag = recent_security_preventive_strike_energy_huge
			has_planet_flag = recent_security_preventive_strike_energy_minerals
			has_planet_flag = recent_security_preventive_strike_energy_consumers
			has_planet_flag = recent_security_preventive_strike_energy_members
			has_planet_flag = recent_security_preventive_strike_energy_leaders
			has_planet_flag = recent_security_preventive_strike_energy_weapons
			has_planet_flag = recent_security_preventive_strike_energy_ships
		}
		OR = {
			planet_crime > 80
			has_modifier = has_criminal_branch_office
			has_modifier = criminal_underworld
			has_modifier = drone_deviancy
			has_modifier = drone_corruption
		}
	}
	immediate = {
		set_timed_planet_flag = { flag = recent_security_preventive_strike years = 2 }
		random_list = {
			20 = { set_planet_flag = recent_security_preventive_strike_energy_small }
			10 = { set_planet_flag = recent_security_preventive_strike_energy_medium }
			5 = { set_planet_flag = recent_security_preventive_strike_energy_big }
			1 = { set_planet_flag = recent_security_preventive_strike_energy_huge }
			10 = { set_planet_flag = recent_security_preventive_strike_energy_minerals }
			10 = { modifier = { factor = 0 owner = { is_gestalt = yes } } set_planet_flag = recent_security_preventive_strike_energy_consumers }
			10 = { set_planet_flag = recent_security_preventive_strike_energy_members }
			10 = { set_planet_flag = recent_security_preventive_strike_energy_leaders }
			10 = { set_planet_flag = recent_security_preventive_strike_energy_weapons }
			10 = { set_planet_flag = recent_security_preventive_strike_energy_ships }
		}
	}
	option = {
		name = EXCELLENT
		ai_chance = { factor = 0 }
		if = { limit = { has_planet_flag = recent_security_preventive_strike_energy_small } owner = { add_resource = { energy = 250 } } } else_if = { limit = { has_planet_flag = recent_security_preventive_strike_energy_medium } owner = { add_resource = { energy = 500 } } } else_if = { limit = { has_planet_flag = recent_security_preventive_strike_energy_big } owner = { add_resource = { energy = 750 } } } else_if = { limit = { has_planet_flag = recent_security_preventive_strike_energy_huge } owner = { add_resource = { energy = 1000 } } } else_if = { limit = { has_planet_flag = recent_security_preventive_strike_energy_minerals } owner = { add_resource = { minerals = 500 } } } else_if = { limit = { has_planet_flag = recent_security_preventive_strike_energy_consumers } owner = { add_resource = { consumer_goods = 500 } } } else_if = { limit = { has_planet_flag = recent_security_preventive_strike_energy_members } owner = { add_resource = { unity = 500 } } } else_if = { limit = { has_planet_flag = recent_security_preventive_strike_energy_leaders } owner = { add_resource = { influence = 30 } } } else_if = { limit = { has_planet_flag = recent_security_preventive_strike_energy_weapons } owner = { add_resource = { engineering_research = 600 } } } else_if = { limit = { has_planet_flag = recent_security_preventive_strike_energy_ships } owner = { add_resource = { alloys = 300 } } }
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.8059
	title = "UniqueAscensionPerksEvents.8059.Name"
	desc = "UniqueAscensionPerksEvents.8059.Desc"
	show_sound = event_public_unrest
	picture = GFX_evt_security_forces
	location = from
	is_triggered_only = yes
	immediate = {
		random_owned_fleet = { limit = { is_ship_class = shipclass_science_ship } save_event_target_as = ship_1 }
		random_owned_fleet = { limit = { is_ship_class = shipclass_science_ship NOT = { is_same_value = event_target:ship_1 } } save_event_target_as = ship_2 }
		random_owned_fleet = { limit = { is_ship_class = shipclass_science_ship NOR = { is_same_value = event_target:ship_1 is_same_value = event_target:ship_2 } } save_event_target_as = ship_3 }
		random_owned_fleet = { limit = { is_ship_class = shipclass_science_ship NOR = { is_same_value = event_target:ship_1 is_same_value = event_target:ship_2 is_same_value = event_target:ship_3 } } save_event_target_as = ship_4 }
		random_owned_fleet = { limit = { is_ship_class = shipclass_science_ship NOR = { is_same_value = event_target:ship_1 is_same_value = event_target:ship_2 is_same_value = event_target:ship_3 is_same_value = event_target:ship_4 } } save_event_target_as = ship_5 }
		random_owned_fleet = { limit = { is_ship_class = shipclass_science_ship NOR = { is_same_value = event_target:ship_1 is_same_value = event_target:ship_2 is_same_value = event_target:ship_3 is_same_value = event_target:ship_4 is_same_value = event_target:ship_5 } } save_event_target_as = ship_6 }
		random_owned_fleet = { limit = { is_ship_class = shipclass_science_ship NOR = { is_same_value = event_target:ship_1 is_same_value = event_target:ship_2 is_same_value = event_target:ship_3 is_same_value = event_target:ship_4 is_same_value = event_target:ship_5 is_same_value = event_target:ship_6 } } save_event_target_as = ship_7 }
		random_owned_fleet = { limit = { is_ship_class = shipclass_science_ship NOR = { is_same_value = event_target:ship_1 is_same_value = event_target:ship_2 is_same_value = event_target:ship_3 is_same_value = event_target:ship_4 is_same_value = event_target:ship_5 is_same_value = event_target:ship_6 is_same_value = event_target:ship_7 } } save_event_target_as = ship_8 }
	}
	option = {
		name = UniqueAscensionPerksEvents.8059.Ship.1
		allow = { resource_stockpile_compare = { resource = energy value > 500 } resource_stockpile_compare = { resource = influence value > 10 } }
		trigger = { exists = event_target:ship_1 }
		add_resource = { energy = -500 influence = -10 }
		hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.8060 } event_target:ship_1 = { save_event_target_as = ship_escorted } deploy_security_escort_fleet = yes }
	}
	option = {
		name = UniqueAscensionPerksEvents.8059.Ship.2
		allow = { resource_stockpile_compare = { resource = energy value > 500 } resource_stockpile_compare = { resource = influence value > 10 } }
		trigger = { exists = event_target:ship_2 }
		add_resource = { energy = -500 influence = -10 }
		hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.8060 } event_target:ship_2 = { save_event_target_as = ship_escorted } deploy_security_escort_fleet = yes }
	}
	option = {
		name = UniqueAscensionPerksEvents.8059.Ship.3
		allow = { resource_stockpile_compare = { resource = energy value > 500 } resource_stockpile_compare = { resource = influence value > 10 } }
		trigger = { exists = event_target:ship_3 }
		add_resource = { energy = -500 influence = -10 }
		hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.8060 } event_target:ship_3 = { save_event_target_as = ship_escorted } deploy_security_escort_fleet = yes }
	}
	option = {
		name = UniqueAscensionPerksEvents.8059.Ship.4
		allow = { resource_stockpile_compare = { resource = energy value > 500 } resource_stockpile_compare = { resource = influence value > 10 } }
		trigger = { exists = event_target:ship_4 }
		add_resource = { energy = -500 influence = -10 }
		hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.8060 } event_target:ship_4 = { save_event_target_as = ship_escorted } deploy_security_escort_fleet = yes }
	}
	option = {
		name = UniqueAscensionPerksEvents.8059.Ship.5
		allow = { resource_stockpile_compare = { resource = energy value > 500 } resource_stockpile_compare = { resource = influence value > 10 } }
		trigger = { exists = event_target:ship_5 }
		add_resource = { energy = -500 influence = -10 }
		hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.8060 } event_target:ship_5 = { save_event_target_as = ship_escorted } deploy_security_escort_fleet = yes }
	}
	option = {
		name = UniqueAscensionPerksEvents.8059.Ship.6
		allow = { resource_stockpile_compare = { resource = energy value > 500 } resource_stockpile_compare = { resource = influence value > 10 } }
		trigger = { exists = event_target:ship_6 }
		add_resource = { energy = -500 influence = -10 }
		hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.8060 } event_target:ship_6 = { save_event_target_as = ship_escorted } deploy_security_escort_fleet = yes }
	}
	option = {
		name = UniqueAscensionPerksEvents.8059.Ship.7
		allow = { resource_stockpile_compare = { resource = energy value > 500 } resource_stockpile_compare = { resource = influence value > 10 } }
		trigger = { exists = event_target:ship_7 }
		add_resource = { energy = -500 influence = -10 }
		hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.8060 } event_target:ship_7 = { save_event_target_as = ship_escorted } deploy_security_escort_fleet = yes }
	}
	option = {
		name = UniqueAscensionPerksEvents.8059.Ship.8
		allow = { resource_stockpile_compare = { resource = energy value > 500 } resource_stockpile_compare = { resource = influence value > 10 } }
		trigger = { exists = event_target:ship_8 }
		add_resource = { energy = -500 influence = -10 }
		hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.8060 } event_target:ship_8 = { save_event_target_as = ship_escorted } deploy_security_escort_fleet = yes }
	}
	option = { name = "UniqueAscensionPerksEvents.8059.Select" hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.8059 } } }
	option = { name = ABORT }
}

country_event = {
	id = UniqueAscensionPerksEvents.8060
	title = "UniqueAscensionPerksEvents.8060.Name"
	desc = "UniqueAscensionPerksEvents.8060.Desc"
	show_sound = event_public_unrest
	picture = GFX_evt_security_forces
	location = event_target:ship_escorted
	is_triggered_only = yes
	immediate = { event_target:ship_escorted = { save_event_target_as = ship_escorted } }
	option = { name = EXCELLENT }
}

country_event = {
	id = UniqueAscensionPerksEvents.8061
	hide_window = yes
	mean_time_to_happen = { years = 1 }
	location = event_target:spawn_location_system
	trigger = { is_country_type = security_forces any_owned_fleet = { has_fleet_flag = security_escort_fleet is_fleet_idle = yes } }
	immediate = { random_owned_fleet = { limit = { has_fleet_flag = security_escort_fleet is_fleet_idle = yes } destroy_fleet = this } }
}

#######################################
#									 #
########### Friendly Nature ###########
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.59
	title = "ap_friendly_nature"
	desc = "ap_friendly_nature_desc"
	show_sound = event_alien_nature
	picture = GFX_evt_friendly_nature
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT }
}

planet_event = {
	id = UniqueAscensionPerksEvents.60
	title = "decision_nature_pacification"
	desc = "UniqueAscensionPerksEvents.60.Desc"
	show_sound = event_alien_nature
	picture = GFX_evt_friendly_nature
	location = root
	is_triggered_only = yes
	option = { name = EXCELLENT }
}

planet_event = {
	id = UniqueAscensionPerksEvents.3061
	title = "UniqueAscensionPerksEvents.3061.Name"
	desc = "UniqueAscensionPerksEvents.3061.Desc"
	show_sound = event_alien_nature
	picture = GFX_evt_friendly_nature
	location = root
	mean_time_to_happen = { months = 3 }
	pre_triggers = { has_owner = yes }
	trigger = {
		exists = owner
		owner = {
			has_ascension_perk = ap_friendly_nature
			NOT = { has_country_flag = friendly_nature_discovery_cooldown }
		}
		can_find_rare_deposits = yes
		NOT = { has_planet_flag = friendly_nature_discovery }
	}
	immediate = {
		set_planet_flag = friendly_nature_discovery
		owner = { set_timed_country_flag = { flag = friendly_nature_discovery_cooldown years = 1 } }
	}
	option = {
		name = EXCELLENT
		ai_chance = { factor = 0 }
		custom_tooltip = "UniqueAscensionPerksEvents.3061.a.tooltip"
		nature_rare_deposits_found = yes
	}
}

#######################################
#									 #
####### Machine Production Focus ######
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.61
	title = "ap_robot_command"
	desc = "ap_robot_command_desc"
	show_sound = event_administrative_work
	picture = GFX_evt_robot_command
	location = capital_scope
	is_triggered_only = yes
	option = {
		name = EXCELLENT
		if = { limit = { is_gestalt = no }
			give_technology = { tech = tech_droid_workers }
			add_research_option = tech_synthetic_workers
		} else = { add_monthly_resource_mult = { resource = engineering_research value = 1 min = 20000 max = 20000 } }
		give_technology = { tech = tech_unit_assembler } ai_chance = { factor = 0 }
	}
}

planet_event = {
	id = UniqueAscensionPerksEvents.62
	title = "decision_robot_command"
	desc = "UniqueAscensionPerksEvents.62.Desc"
	show_sound = event_ai_started
	picture = GFX_evt_robot_command
	location = root
	is_triggered_only = yes
	option = { name = EXCELLENT }
}

planet_event = {
	id = UniqueAscensionPerksEvents.3063
	hide_window = yes
	mean_time_to_happen = { months = 1 }
	pre_triggers = { has_owner = yes }
	trigger = {
		exists = owner
		owner = { has_ascension_perk = ap_robot_command }
		has_building = building_unit_assembler
	}
	immediate = {
		if = {
			limit = { num_buildings = { type = building_unit_assembler value > 1 } }
			random = { chance = 80 planet_event = { id = UniqueAscensionPerksEvents.3064 days = 1 random = 10 } }
		}
		if = {
			limit = { num_buildings = { type = building_unit_assembler value > 2 } }
			random = { chance = 80 planet_event = { id = UniqueAscensionPerksEvents.3065 days = 1 random = 10 } }
		}
		if = {
			limit = { num_buildings = { type = building_unit_assembler value > 3 } }
			random = { chance = 80 planet_event = { id = UniqueAscensionPerksEvents.3066 days = 1 random = 10 } }
		}
		if = {
			limit = { num_buildings = { type = building_unit_assembler value > 4 } }
			random = { chance = 80 planet_event = { id = UniqueAscensionPerksEvents.3067 days = 1 random = 10 } }
		}
		if = {
			limit = { num_buildings = { type = building_unit_assembler value > 5 } }
			random = { chance = 80 planet_event = { id = UniqueAscensionPerksEvents.3068 days = 1 random = 10 } }
		}
	}
}

planet_event = {
	id = UniqueAscensionPerksEvents.3064
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		if = {
			limit = { check_variable = { which = d_robot_command_1 value < 14 } }
			change_variable = { which = d_robot_command_1 value = 1 }
			add_deposit = d_robot_command_1
		} else = {
			every_deposit = { limit = { is_deposit_type = d_robot_command_1 } remove_deposit = yes }
			set_variable = { which = d_robot_command_1 value = 0 }
			random_owned_pop = {
				limit = { is_robotic_species = yes has_population_control = { value = no country = prev.owner } is_being_purged = no is_being_assimilated = no }
				weights = {
					base = 100
					modifier = { add = 100 is_same_species = root.owner_species }
					modifier = { add = -50 is_enslaved = yes }
				}
				species = { save_event_target_as = selected_species }
			}
			create_pop = { species = event_target:selected_species }
		}
	}
}

planet_event = {
	id = UniqueAscensionPerksEvents.3065
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		if = {
			limit = { check_variable = { which = d_robot_command_2 value < 14 } }
			change_variable = { which = d_robot_command_2 value = 1 }
			add_deposit = d_robot_command_2
		} else = {
			every_deposit = { limit = { is_deposit_type = d_robot_command_2 } remove_deposit = yes }
			set_variable = { which = d_robot_command_2 value = 0 }
			random_owned_pop = {
				limit = { is_robotic_species = yes has_population_control = { value = no country = prev.owner } is_being_purged = no is_being_assimilated = no }
				weights = {
					base = 100
					modifier = { add = 100 is_same_species = root.owner_species }
					modifier = { add = -50 is_enslaved = yes }
				}
				species = { save_event_target_as = selected_species }
			}
			create_pop = { species = event_target:selected_species }
		}
	}
}

planet_event = {
	id = UniqueAscensionPerksEvents.3066
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		if = {
			limit = { check_variable = { which = d_robot_command_3 value < 14 } }
			change_variable = { which = d_robot_command_3 value = 1 }
			add_deposit = d_robot_command_3
		} else = {
			every_deposit = { limit = { is_deposit_type = d_robot_command_3 } remove_deposit = yes }
			set_variable = { which = d_robot_command_3 value = 0 }
			random_owned_pop = {
				limit = { is_robotic_species = yes has_population_control = { value = no country = prev.owner } is_being_purged = no is_being_assimilated = no }
				weights = {
					base = 100
					modifier = { add = 100 is_same_species = root.owner_species }
					modifier = { add = -50 is_enslaved = yes }
				}
				species = { save_event_target_as = selected_species }
			}
			create_pop = { species = event_target:selected_species }
		}
	}
}

planet_event = {
	id = UniqueAscensionPerksEvents.3067
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		if = {
			limit = { check_variable = { which = d_robot_command_4 value < 14 } }
			change_variable = { which = d_robot_command_4 value = 1 }
			add_deposit = d_robot_command_4
		} else = {
			every_deposit = { limit = { is_deposit_type = d_robot_command_4 } remove_deposit = yes }
			set_variable = { which = d_robot_command_4 value = 0 }
			random_owned_pop = {
				limit = { is_robotic_species = yes has_population_control = { value = no country = prev.owner } is_being_purged = no is_being_assimilated = no }
				weights = {
					base = 100
					modifier = { add = 100 is_same_species = root.owner_species }
					modifier = { add = -50 is_enslaved = yes }
				}
				species = { save_event_target_as = selected_species }
			}
			create_pop = { species = event_target:selected_species }
		}
	}
}

planet_event = {
	id = UniqueAscensionPerksEvents.3068
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		if = {
			limit = { check_variable = { which = d_robot_command_5 value < 14 } }
			change_variable = { which = d_robot_command_5 value = 1 }
			add_deposit = d_robot_command_5
		} else = {
			every_deposit = { limit = { is_deposit_type = d_robot_command_5 } remove_deposit = yes }
			set_variable = { which = d_robot_command_5 value = 0 }
			random_owned_pop = {
				limit = { is_robotic_species = yes has_population_control = { value = no country = prev.owner } is_being_purged = no is_being_assimilated = no }
				weights = {
					base = 100
					modifier = { add = 100 is_same_species = root.owner_species }
					modifier = { add = -50 is_enslaved = yes }
				}
				species = { save_event_target_as = selected_species }
			}
			create_pop = { species = event_target:selected_species }
		}
	}
}

planet_event = {
	id = UniqueAscensionPerksEvents.3069
	hide_window = yes
	mean_time_to_happen = { months = 6 }
	trigger = {
		OR = {
			has_deposit = d_robot_command_1
			has_deposit = d_robot_command_2
			has_deposit = d_robot_command_3
			has_deposit = d_robot_command_4
			has_deposit = d_robot_command_5
			has_building = building_unit_assembler
		}
	}
	immediate = {
		if = {
			limit = { has_building = building_unit_assembler exists = owner owner = { NOT = { has_ascension_perk = ap_robot_command } } }
			while = { limit = { has_building = building_unit_assembler } remove_building = building_unit_assembler }
		}
		if = {
			limit = { has_deposit = d_robot_command_1 num_buildings = { type = building_unit_assembler value < 5 } }
			every_deposit = { limit = { is_deposit_type = d_robot_command_1 } remove_deposit = yes }
			set_variable = { which = d_robot_command_1 value = 0 }
		}
		if = {
			limit = { has_deposit = d_robot_command_2 num_buildings = { type = building_unit_assembler value < 2 } }
			every_deposit = { limit = { is_deposit_type = d_robot_command_2 } remove_deposit = yes }
			set_variable = { which = d_robot_command_2 value = 0 }
		}
		if = {
			limit = { has_deposit = d_robot_command_3 num_buildings = { type = building_unit_assembler value < 3 } }
			every_deposit = { limit = { is_deposit_type = d_robot_command_3 } remove_deposit = yes }
			set_variable = { which = d_robot_command_3 value = 0 }
		}
		if = {
			limit = { has_deposit = d_robot_command_4 num_buildings = { type = building_unit_assembler value < 4 } }
			every_deposit = { limit = { is_deposit_type = d_robot_command_4 } remove_deposit = yes }
			set_variable = { which = d_robot_command_4 value = 0 }
		}
		if = {
			limit = { has_deposit = d_robot_command_5 num_buildings = { type = building_unit_assembler value < 1 } }
			every_deposit = { limit = { is_deposit_type = d_robot_command_5 } remove_deposit = yes }
			set_variable = { which = d_robot_command_5 value = 0 }
		}
	}
}

#######################################
#									 #
############ The Recomposer ###########
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.63
	title = "ap_recomposer"
	desc = "ap_recomposer_desc"
	show_sound = event_ai_started
	picture = GFX_evt_recomposer
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT enable_special_project = { name = RECOMPOSER location = capital_scope owner = root } }
}

country_event = {
	id = UniqueAscensionPerksEvents.64
	title = "UniqueAscensionPerksEvents.64.Name"
	desc = "UniqueAscensionPerksEvents.64.Desc"
	show_sound = event_ai_started
	picture = GFX_evt_recomposer
	location = capital_scope
	is_triggered_only = yes
	immediate = { set_country_flag = recomposer_project }
	option = {
		name = EXCELLENT
		ai_chance = { factor = 0 }
		add_monthly_resource_mult = { resource = engineering_research value = 22 min = 5000 max = 15000 }
		custom_tooltip = "ap_recomposer_tooltip"
	}
}

planet_event = {
	id = UniqueAscensionPerksEvents.65
	title = "UniqueAscensionPerksEvents.65.Name"
	desc = "UniqueAscensionPerksEvents.65.Desc"
	show_sound = event_ai_started
	picture = GFX_evt_recomposer
	location = root
	is_triggered_only = yes
	option = { name = EXCELLENT }
}

planet_event = {
	id = UniqueAscensionPerksEvents.66
	title = "UniqueAscensionPerksEvents.66.Name"
	desc = "UniqueAscensionPerksEvents.66.Desc"
	show_sound = event_ai_started
	picture = GFX_evt_recomposer
	location = root
	is_triggered_only = yes
	option = { name = EXCELLENT }
}

#######################################
#									 #
########### Imposed Megacorp ##########
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.67
	title = "ap_megacorp"
	desc = "ap_megacorp_desc"
	show_sound = event_galactic_market
	picture = GFX_evt_megacorp
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT }
}
# on_yearly_pulse
event = {
	id = UniqueAscensionPerksEvents.8068
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		OR = {
			AND = {
				any_country = { merg_is_default_empire = yes is_gestalt = no has_ascension_perk = ap_megacorp }
				any_country = { merg_is_default_empire = yes is_gestalt = no NOT = { has_ascension_perk = ap_megacorp has_modifier = aggressive_marketing_target } }
			}
			any_country = { merg_is_default_empire = yes is_gestalt = no has_ascension_perk = ap_megacorp has_modifier = aggressive_marketing_target }
		}
	}
	immediate = {
		random_playable_country = {
			limit = { merg_is_default_empire = yes is_gestalt = no has_ascension_perk = ap_megacorp has_modifier = aggressive_marketing_target }
			remove_modifier = aggressive_marketing_target
		}
		random_playable_country = {
			limit = { NOR = { is_gestalt = yes has_ascension_perk = ap_megacorp has_modifier = aggressive_marketing_target } }
			add_modifier = { modifier = aggressive_marketing_target }
		}
	}
}

#######################################
#									 #
########### Fallen Disciple ###########
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.68
	title = "ap_fallen_disciple"
	desc = "ap_fallen_disciple_desc"
	show_sound = event_cityscape
	picture = GFX_evt_fallen_disciple
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT enable_special_project = { name = AWAKEN_FALLEN_EMPIRE_PROJECT location = capital_scope owner = root } }
}

country_event = {
	id = UniqueAscensionPerksEvents.69
	title = "UniqueAscensionPerksEvents.69.Name"
	desc = "UniqueAscensionPerksEvents.69.Desc"
	show_sound = event_cityscape
	picture = GFX_evt_fallen_disciple
	mean_time_to_happen = { years = 6 }
	trigger = {
		has_ascension_perk = ap_fallen_disciple
		any_country = { is_valid_fallen_empire_for_fallen_disciple = yes }
	}
	immediate = {
		random_country = { limit = { is_valid_fallen_empire_for_fallen_disciple = yes }
			save_event_target_as = fallen_empire_1
			random_country = { limit = { is_valid_fallen_empire_for_fallen_disciple = yes NOT = { is_same_empire = event_target:fallen_empire_1 } }
				save_event_target_as = fallen_empire_2
				random_country = { limit = { is_valid_fallen_empire_for_fallen_disciple = yes NOR = { is_same_empire = event_target:fallen_empire_1 is_same_empire = event_target:fallen_empire_2 } }
					save_event_target_as = fallen_empire_3
					random_country = { limit = { is_valid_fallen_empire_for_fallen_disciple = yes NOR = { is_same_empire = event_target:fallen_empire_1 is_same_empire = event_target:fallen_empire_2 is_same_empire = event_target:fallen_empire_3 } }
						save_event_target_as = fallen_empire_4
						random_country = { limit = { is_valid_fallen_empire_for_fallen_disciple = yes NOR = { is_same_empire = event_target:fallen_empire_1 is_same_empire = event_target:fallen_empire_2 is_same_empire = event_target:fallen_empire_3 is_same_empire = event_target:fallen_empire_4 } }
							save_event_target_as = fallen_empire_5
							random_country = { limit = { is_valid_fallen_empire_for_fallen_disciple = yes NOR = { is_same_empire = event_target:fallen_empire_1 is_same_empire = event_target:fallen_empire_2 is_same_empire = event_target:fallen_empire_3 is_same_empire = event_target:fallen_empire_4 is_same_empire = event_target:fallen_empire_5 } } save_event_target_as = fallen_empire_6 }
						}
					}
				}
			}
		}
	}
	option = {
		name = "UniqueAscensionPerksEvents.72.Fallen.1"
		trigger = { exists = event_target:fallen_empire_1 }
		hidden_effect = { event_target:fallen_empire_1 = { save_event_target_as = FallenEmpireTaskOrigin } fe_select_gift = yes country_event = { id = UniqueAscensionPerksEvents.70 } }
	}
	option = {
		name = "UniqueAscensionPerksEvents.72.Fallen.2"
		trigger = { exists = event_target:fallen_empire_2 }
		hidden_effect = { event_target:fallen_empire_2 = { save_event_target_as = FallenEmpireTaskOrigin } fe_select_gift = yes country_event = { id = UniqueAscensionPerksEvents.70 } }
	}
	option = {
		name = "UniqueAscensionPerksEvents.72.Fallen.3"
		trigger = { exists = event_target:fallen_empire_3 }
		hidden_effect = { event_target:fallen_empire_3 = { save_event_target_as = FallenEmpireTaskOrigin } fe_select_gift = yes country_event = { id = UniqueAscensionPerksEvents.70 } }
	}
	option = {
		name = "UniqueAscensionPerksEvents.72.Fallen.4"
		trigger = { exists = event_target:fallen_empire_4 }
		hidden_effect = { event_target:fallen_empire_4 = { save_event_target_as = FallenEmpireTaskOrigin } fe_select_gift = yes country_event = { id = UniqueAscensionPerksEvents.70 } }
	}
	option = {
		name = "UniqueAscensionPerksEvents.72.Fallen.5"
		trigger = { exists = event_target:fallen_empire_5 }
		hidden_effect = { event_target:fallen_empire_5 = { save_event_target_as = FallenEmpireTaskOrigin } fe_select_gift = yes country_event = { id = UniqueAscensionPerksEvents.70 } }
	}
	option = {
		name = "UniqueAscensionPerksEvents.72.Fallen.6"
		trigger = { exists = event_target:fallen_empire_6 }
		hidden_effect = { event_target:fallen_empire_6 = { save_event_target_as = FallenEmpireTaskOrigin } fe_select_gift = yes country_event = { id = UniqueAscensionPerksEvents.70 } }
	}
	option = { name = "UniqueAscensionPerksEvents.69.Select" hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.69 } } }
	option = { name = "UniqueAscensionPerksEvents.69.b" ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.70
	title = fallen_empires_tasks.2.name
	is_triggered_only = yes
	diplomatic = yes
	picture_event_data = {
		portrait = event_target:FallenEmpireTaskOrigin
		planet_background = event_target:FallenEmpireTaskOrigin
		graphical_culture = event_target:FallenEmpireTaskOrigin
		city_level = event_target:FallenEmpireTaskOrigin
		room = event_target:FallenEmpireTaskOrigin.ruler
	}
	desc = { text = fallen_empires_tasks.2.desc.a.materialist trigger = { fe_gift_resources = yes event_target:FallenEmpireTaskOrigin = { has_ethic = ethic_fanatic_materialist } } }
	desc = { text = fallen_empires_tasks.2.desc.a.xenophile trigger = { fe_gift_resources = yes event_target:FallenEmpireTaskOrigin = { has_ethic = ethic_fanatic_xenophile } } }
	desc = { text = fallen_empires_tasks.2.desc.a.spiritualist trigger = { fe_gift_resources = yes event_target:FallenEmpireTaskOrigin = { has_ethic = ethic_fanatic_spiritualist } } }
	desc = { text = fallen_empires_tasks.2.desc.a.machine.o trigger = { fe_gift_resources = yes fe_gift_target_is_not_machine = yes event_target:FallenEmpireTaskOrigin = { has_authority = auth_machine_intelligence } } }
	desc = { text = fallen_empires_tasks.2.desc.a.machine.s trigger = { fe_gift_resources = yes fe_gift_target_is_machine = yes event_target:FallenEmpireTaskOrigin = { has_authority = auth_machine_intelligence } } }
	desc = { text = fallen_empires_tasks.2.desc.b.materialist trigger = { fe_gift_tech = yes event_target:FallenEmpireTaskOrigin = { has_ethic = ethic_fanatic_materialist } } }
	desc = { text = fallen_empires_tasks.2.desc.b.xenophile trigger = { fe_gift_tech = yes event_target:FallenEmpireTaskOrigin = { has_ethic = ethic_fanatic_xenophile } } }
	desc = { text = fallen_empires_tasks.2.desc.b.spiritualist trigger = { fe_gift_tech = yes event_target:FallenEmpireTaskOrigin = { has_ethic = ethic_fanatic_spiritualist } } }
	desc = { text = fallen_empires_tasks.2.desc.b.machine.o trigger = { fe_gift_tech = yes fe_gift_target_is_not_machine = yes event_target:FallenEmpireTaskOrigin = { has_authority = auth_machine_intelligence } } }
	desc = { text = fallen_empires_tasks.2.desc.b.machine.s trigger = { fe_gift_tech = yes fe_gift_target_is_machine = yes event_target:FallenEmpireTaskOrigin = { has_authority = auth_machine_intelligence } } }
	desc = { text = fallen_empires_tasks.2.desc.c.materialist trigger = { has_country_flag = fe_gift_escorts event_target:FallenEmpireTaskOrigin = { has_ethic = ethic_fanatic_materialist } } }
	desc = { text = fallen_empires_tasks.2.desc.c.xenophile trigger = { has_country_flag = fe_gift_escorts event_target:FallenEmpireTaskOrigin = { has_ethic = ethic_fanatic_xenophile } } }
	desc = { text = fallen_empires_tasks.2.desc.c.spiritualist trigger = { has_country_flag = fe_gift_escorts event_target:FallenEmpireTaskOrigin = { has_ethic = ethic_fanatic_spiritualist } } }
	desc = { text = fallen_empires_tasks.2.desc.c.machine.o trigger = { fe_gift_ships = yes fe_gift_target_is_not_machine = yes event_target:FallenEmpireTaskOrigin = { has_authority = auth_machine_intelligence } } }
	desc = { text = fallen_empires_tasks.2.desc.c.machine.s trigger = { fe_gift_ships = yes fe_gift_target_is_machine = yes	event_target:FallenEmpireTaskOrigin = { has_authority = auth_machine_intelligence } } }
	desc = { text = fallen_empires_tasks.2.desc.d.materialist trigger = { has_country_flag = fe_gift_battlecruiser event_target:FallenEmpireTaskOrigin = { has_ethic = ethic_fanatic_materialist } } }
	desc = { text = fallen_empires_tasks.2.desc.d.xenophile trigger = { has_country_flag = fe_gift_battlecruiser event_target:FallenEmpireTaskOrigin = { has_ethic = ethic_fanatic_xenophile } } }
	desc = { text = fallen_empires_tasks.2.desc.d.spiritualist trigger = { has_country_flag = fe_gift_battlecruiser event_target:FallenEmpireTaskOrigin = { has_ethic = ethic_fanatic_spiritualist } } }
	option = { name = fallen_empires_tasks.2.a fe_gift_action = yes }
	option = { name = fallen_empires_tasks.2.b ai_chance = { factor = 0 } fe_refuse_gift_action = yes }
}

country_event = {
	id = UniqueAscensionPerksEvents.71
	title = "AWAKEN_FALLEN_EMPIRE_PROJECT"
	desc = "UniqueAscensionPerksEvents.71.Desc"
	show_sound = event_cityscape
	picture = GFX_evt_fallen_disciple
	location = capital_scope
	is_triggered_only = yes
	immediate = { set_country_flag = fallen_disciple_project }
	option = { name = EXCELLENT custom_tooltip = "ap_fallen_disciple_tooltip_3" }
}

country_event = {
	id = UniqueAscensionPerksEvents.72
	title = "UniqueAscensionPerksEvents.72.Name"
	desc = "UniqueAscensionPerksEvents.72.Desc"
	show_sound = event_cityscape
	picture = GFX_evt_fallen_disciple
	is_triggered_only = yes
	immediate = {
		random_country = { limit = { is_valid_fallen_empire_for_fallen_disciple = yes }
			save_event_target_as = fallen_empire_1
			random_country = { limit = { is_valid_fallen_empire_for_fallen_disciple = yes NOT = { is_same_empire = event_target:fallen_empire_1 } }
				save_event_target_as = fallen_empire_2
				random_country = { limit = { is_valid_fallen_empire_for_fallen_disciple = yes NOR = { is_same_empire = event_target:fallen_empire_1 is_same_empire = event_target:fallen_empire_2 } }
					save_event_target_as = fallen_empire_3
					random_country = { limit = { is_valid_fallen_empire_for_fallen_disciple = yes NOR = { is_same_empire = event_target:fallen_empire_1 is_same_empire = event_target:fallen_empire_2 is_same_empire = event_target:fallen_empire_3 } }
						save_event_target_as = fallen_empire_4
						random_country = { limit = { is_valid_fallen_empire_for_fallen_disciple = yes NOR = { is_same_empire = event_target:fallen_empire_1 is_same_empire = event_target:fallen_empire_2 is_same_empire = event_target:fallen_empire_3 is_same_empire = event_target:fallen_empire_4 } }
							save_event_target_as = fallen_empire_5
							random_country = { limit = { is_valid_fallen_empire_for_fallen_disciple = yes NOR = { is_same_empire = event_target:fallen_empire_1 is_same_empire = event_target:fallen_empire_2 is_same_empire = event_target:fallen_empire_3 is_same_empire = event_target:fallen_empire_4 is_same_empire = event_target:fallen_empire_5 } } save_event_target_as = fallen_empire_6 }
						}
					}
				}
			}
		}
	}
	option = {
		name = "UniqueAscensionPerksEvents.72.Fallen.1"
		trigger = { exists = event_target:fallen_empire_1 }
		hidden_effect = { event_target:fallen_empire_1 = { save_event_target_as = FallenEmpireTaskOrigin } country_event = { id = UniqueAscensionPerksEvents.73 } }
	}
	option = {
		name = "UniqueAscensionPerksEvents.72.Fallen.2"
		trigger = { exists = event_target:fallen_empire_2 }
		hidden_effect = { event_target:fallen_empire_2 = { save_event_target_as = FallenEmpireTaskOrigin } country_event = { id = UniqueAscensionPerksEvents.73 } }
	}
	option = {
		name = "UniqueAscensionPerksEvents.72.Fallen.3"
		trigger = { exists = event_target:fallen_empire_3 }
		hidden_effect = { event_target:fallen_empire_3 = { save_event_target_as = FallenEmpireTaskOrigin } country_event = { id = UniqueAscensionPerksEvents.73 } }
	}
	option = {
		name = "UniqueAscensionPerksEvents.72.Fallen.4"
		trigger = { exists = event_target:fallen_empire_4 }
		hidden_effect = { event_target:fallen_empire_4 = { save_event_target_as = FallenEmpireTaskOrigin } country_event = { id = UniqueAscensionPerksEvents.73 } }
	}
	option = {
		name = "UniqueAscensionPerksEvents.72.Fallen.5"
		trigger = { exists = event_target:fallen_empire_5 }
		hidden_effect = { event_target:fallen_empire_5 = { save_event_target_as = FallenEmpireTaskOrigin } country_event = { id = UniqueAscensionPerksEvents.73 } }
	}
	option = {
		name = "UniqueAscensionPerksEvents.72.Fallen.6"
		trigger = { exists = event_target:fallen_empire_6 }
		hidden_effect = { event_target:fallen_empire_6 = { save_event_target_as = FallenEmpireTaskOrigin } country_event = { id = UniqueAscensionPerksEvents.73 } }
	}
	option = { name = "UniqueAscensionPerksEvents.72.Abort" add_resource = { influence = 1000 } ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.73
	title = fallen_empires_tasks.2.name
	desc = UniqueAscensionPerksEvents.73.Desc
	is_triggered_only = yes
	diplomatic = yes
	picture_event_data = {
		portrait = event_target:FallenEmpireTaskOrigin
		planet_background = event_target:FallenEmpireTaskOrigin
		graphical_culture = event_target:FallenEmpireTaskOrigin
		city_level = event_target:FallenEmpireTaskOrigin
		room = event_target:FallenEmpireTaskOrigin.ruler
	}
	immediate = {
		event_target:FallenEmpireTaskOrigin = {
			add_opinion_modifier = { modifier = opinion_influenced_awaken_fallen_empire who = prevprev }
			if = {
				limit = { is_country_type = fallen_empire has_authority = auth_machine_intelligence }
				country_event = { id = fallen_machine_empire.1 days = 360 random = 180 } else = { country_event = { id = UniqueAscensionPerksEvents.74 days = 360 random = 180 } }
			}
		}
	}
	option = { name = EXCELLENT }
}

country_event = {
	id = UniqueAscensionPerksEvents.74
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		set_global_flag = sleepers_awake_happened
		country_event = { id = fallen_empires_awakening.3 }
		# Notify players
		every_playable_country = { limit = { is_ai = no } country_event = { id = fallen_empires_awakening.2 } }
		observer_event = { id = observer.73 }
		# War in Heaven
		if = {
			limit = { host_has_dlc = "Leviathans Story Pack" }
			random_list = {
				40 = { # War in Heaven with Fallen Empire of opposing ethos.
					random_country = {
						limit = {
							NOT = { is_same_value = root }
							is_country_type = fallen_empire
							NOT = { has_ethic = ethic_gestalt_consciousness }
							OR = {
								AND = { has_ethic = ethic_fanatic_xenophobe ROOT = { has_ethic = ethic_fanatic_xenophile } }
								AND = { has_ethic = ethic_fanatic_xenophile ROOT = { has_ethic = ethic_fanatic_xenophobe } }
								AND = { has_ethic = ethic_fanatic_spiritualist ROOT = { has_ethic = ethic_fanatic_materialist } }
								AND = { has_ethic = ethic_fanatic_materialist ROOT = { has_ethic = ethic_fanatic_spiritualist } }
							}
						}
						set_country_flag = sleepers_awake_ancient_rival
						set_timed_country_flag = { flag = timed_ancient_rival days = 3650 }
						set_timed_country_flag = { flag = ai_no_wars days = 3650 }
						root = { set_timed_country_flag = { flag = ai_no_wars days = 3650 } }
						every_playable_country = {
							# limit = { }
							set_timed_country_flag = { flag = ai_no_wars days = 3650 }
						}
					}
				}
				20 = { # War in Heaven with Fallen Empire of different ethos.
					random_country = {
						limit = {
							NOT = { is_same_value = root }
							is_country_type = fallen_empire
							NOT = { has_ethic = ethic_gestalt_consciousness }
						}
						set_country_flag = sleepers_awake_ancient_rival
						set_timed_country_flag = { flag = timed_ancient_rival days = 3650 }
						set_timed_country_flag = { flag = ai_no_wars days = 3650 }
						root = { set_timed_country_flag = { flag = ai_no_wars days = 3650 } }
						every_playable_country = {
							# limit = { }
							set_timed_country_flag = { flag = ai_no_wars days = 3650 }
						}
					}
				}
				40 = { } # No War in Heaven
			}
		}
	}
}

#######################################
#									 #
######## Stability Celebration ########
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.80
	title = "ap_stability_celebration"
	desc = "ap_stability_celebration_desc"
	show_sound = event_celebration
	picture = GFX_evt_stability_celebration
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT add_resource = { unity = 2000 influence = 100 } }
}

planet_event = {
	id = UniqueAscensionPerksEvents.81
	title = "UniqueAscensionPerksEvents.81.Name"
	desc = "UniqueAscensionPerksEvents.81.Desc"
	show_sound = event_celebration
	picture = GFX_evt_stability_celebration
	location = root
	pre_triggers = { has_owner = yes is_ai = no }
	is_triggered_only = yes
	trigger = { owner = { is_ai = no NOT = { has_country_flag = ap_stability_celebration_no_warning } } }
	option = { name = EXCELLENT }
	option = {
		name = "UniqueAscensionPerks.no_message"
		custom_tooltip = "UniqueAscensionPerks.no_message.tooltip"
		owner = { set_country_flag = ap_stability_celebration_no_warning }
	}
}

# TODO performance opt
planet_event = {
	id = UniqueAscensionPerksEvents.8082
	hide_window = yes
	mean_time_to_happen = { months = 4 }
	pre_triggers = { has_owner = yes }
	trigger = {
		exists = owner
		owner = { has_ascension_perk = ap_stability_celebration }
		planet_stability > 55
		planet_crime < 20
		free_housing > 0
		free_jobs > 0
		free_amenities > 0
		num_pops > 20
		NOR = {
			has_modifier = stability_celebration
			has_planet_flag = stability_celebration_message
		}
		OR = {
			AND = {
				owner = {
					OR = {
						has_policy_flag = ai_full_rights
						is_synthetic_empire = yes
					}
				}
				count_owned_pop = {
					count > 20
					limit = {
						is_enslaved = no
						is_being_purged = no
						is_being_assimilated = no
						is_unemployed = no
						is_robot_pop = yes
					}
				}
			}
			count_owned_pop = {
				count > 20
				limit = {
					is_enslaved = no
					is_being_purged = no
					is_being_assimilated = no
					is_unemployed = no
					is_robot_pop = no
				}
			}
		}
	}
	immediate = {
		set_timed_planet_flag = { flag = stability_celebration_message days = 1080 }
		owner = {
			add_monthly_resource_mult = { resource = energy value = 4 min = 500 max = 2000 }
			add_monthly_resource_mult = { resource = minerals value = 4 min = 500 max = 2000 }
			add_monthly_resource_mult = { resource = influence value = 2 min = 15 max = 35 }
			add_monthly_resource_mult = { resource = unity value = 6 min = 100 max = 500 }
		}
		add_modifier = { modifier = stability_celebration days = 3600 }
		if = { limit = { owner = { is_ai = no NOT = { has_country_flag = ap_stability_celebration_no_warning } } }
			planet_event = { id = UniqueAscensionPerksEvents.81 }
		}
	}
}

#######################################
#									 #
############ Galaxy Center ############
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.82
	title = "ap_galaxy_center"
	desc = "ap_galaxy_center_desc"
	show_sound = event_cityscape
	picture = GFX_evt_galaxy_center
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT }
}

planet_event = {
	id = UniqueAscensionPerksEvents.83
	title = "UniqueAscensionPerksEvents.83.Name"
	desc = "UniqueAscensionPerksEvents.83.Desc"
	show_sound = event_administrative_work
	picture = GFX_evt_galaxy_center
	location = root
	is_triggered_only = yes
	option = { name = EXCELLENT }
}

planet_event = {
	id = UniqueAscensionPerksEvents.84
	show_sound = event_cityscape
	title = "ap_galaxy_center"
	desc = {
		trigger = {
			text = "UniqueAscensionPerksEvents.84.Desc"
			text = newline
			text = "UniqueAscensionPerksEvents.84.Energy"
			text = "UniqueAscensionPerksEvents.84.Mineral"
			text = "UniqueAscensionPerksEvents.84.Food"
			text = "UniqueAscensionPerksEvents.84.Research"
			success_text = { text = "UniqueAscensionPerksEvents.84.Trade" owner = { is_gestalt = no } }
			success_text = { text = "UniqueAscensionPerksEvents.84.Hive" owner = { is_hive_empire = yes } }
			success_text = { text = "UniqueAscensionPerksEvents.84.Auto" owner = { is_machine_empire = yes } }
			success_text = { text = "UniqueAscensionPerksEvents.84.Entrepot" owner = { is_machine_empire = yes } }
			text = newline
			success_text = { text = "UniqueAscensionPerksEvents.84.Casino.title" has_planet_flag = galaxy_center_casino }
			success_text = { text = "UniqueAscensionPerksEvents.84.Administration.title" has_planet_flag = galaxy_center_administration }
			success_text = { text = "UniqueAscensionPerksEvents.84.Museum.title" has_planet_flag = galaxy_center_museum }
			success_text = { text = "UniqueAscensionPerksEvents.84.Shipyard.Off" NOT = { has_planet_flag = galaxy_center_super_shipyard } }
			success_text = { text = "UniqueAscensionPerksEvents.84.Shipyard.On" has_planet_flag = galaxy_center_super_shipyard }
		}
	}
	diplomatic = yes
	force_open = yes
	picture_event_data = { room = galaxy_center_room }
	is_triggered_only = yes
	location = this
	option = { name = "UniqueAscensionPerksEvents.84.Features" hidden_effect = { planet_event = { id = UniqueAscensionPerksEvents.85 } } }
	option = {
		name = "UniqueAscensionPerksEvents.84.Casino"
		trigger = { NOT = { has_planet_flag = galaxy_center_casino } }
		allow = {
			custom_tooltip = { fail_text = UniqueAscensionPerksEvents.84.Req01 NOT = { has_planet_flag = galaxy_center_casino } }
			owner = { resource_stockpile_compare = { resource = energy value > 20000 } }
		}
		owner = { add_resource = { energy = -20000 } }
		hidden_effect = {
			set_planet_flag = galaxy_center_casino
			change_variable = { which = galaxy_center_casino value = 28000 }
			planet_event = { id = UniqueAscensionPerksEvents.84 }
		}
	}
	option = {
		name = "UniqueAscensionPerksEvents.84.Administration"
		trigger = { NOT = { has_planet_flag = galaxy_center_administration } }
		allow = {
			custom_tooltip = { fail_text = UniqueAscensionPerksEvents.84.Req02 NOT = { has_planet_flag = galaxy_center_administration } }
			owner = { resource_stockpile_compare = { resource = minerals value > 15000 } }
		}
		owner = { add_resource = { minerals = -15000 } }
		hidden_effect = {
			set_planet_flag = galaxy_center_administration
			change_variable = { which = galaxy_center_administration value = 35 }
			planet_event = { id = UniqueAscensionPerksEvents.84 }
		}
	}
	option = {
		name = "UniqueAscensionPerksEvents.84.Museum"
		trigger = { NOT = { has_planet_flag = galaxy_center_museum } }
		allow = {
			custom_tooltip = { fail_text = UniqueAscensionPerksEvents.84.Req03 NOT = { has_planet_flag = galaxy_center_museum } }
			owner = { resource_stockpile_compare = { resource = minerals value > 15000 } }
		}
		owner = { add_resource = { minerals = -15000 } }
		hidden_effect = {
			set_planet_flag = galaxy_center_museum
			change_variable = { which = galaxy_center_museum value = 7500 }
			planet_event = { id = UniqueAscensionPerksEvents.84 }
		}
	}
	option = {
		name = "UniqueAscensionPerksEvents.84.Shipyard"
		trigger = { NOT = { has_planet_flag = galaxy_center_super_shipyard } }
		allow = { owner = { resource_stockpile_compare = { resource = minerals value > 15000 } } }
		owner = { add_resource = { minerals = -15000 } }
		hidden_effect = {
			set_planet_flag = galaxy_center_super_shipyard
			planet_event = { id = UniqueAscensionPerksEvents.84 }
		}
	}
	option = {
		name = "UniqueAscensionPerksEvents.84.Menu"
		trigger = { has_planet_flag = galaxy_center_super_shipyard }
		custom_tooltip = "UniqueAscensionPerksEvents.84.Menu.tooltip"
		hidden_effect = { planet_event = { id = UniqueAscensionPerksEvents.3086 } }
	}
	option = { name = EXIT ai_chance = { factor = 0 } }
}

planet_event = {
	id = UniqueAscensionPerksEvents.85
	title = "UniqueAscensionPerksEvents.85.Name"
	desc = {
		trigger = {
			text = "UniqueAscensionPerksEvents.85.Desc"
			text = newline
			text = "UniqueAscensionPerksEvents.84.Energy"
			text = "UniqueAscensionPerksEvents.84.Mineral"
			text = "UniqueAscensionPerksEvents.84.Food"
			text = "UniqueAscensionPerksEvents.84.Research"
			success_text = { text = "UniqueAscensionPerksEvents.84.Trade" owner = { is_gestalt = no } }
			success_text = { text = "UniqueAscensionPerksEvents.84.Hive" owner = { is_hive_empire = yes } }
			success_text = { text = "UniqueAscensionPerksEvents.84.Auto" owner = { is_machine_empire = yes } }
			success_text = { text = "UniqueAscensionPerksEvents.84.Entrepot" owner = { is_machine_empire = yes } }
		}
	}
	show_sound = event_cityscape
	diplomatic = yes
	force_open = yes
	picture_event_data = { room = galaxy_center_room }
	is_triggered_only = yes
	location = root
	option = {
		name = "d_energy_generator"
		allow = { owner = { resource_stockpile_compare = { resource = minerals value > 850 } } }
		owner = { add_resource = { minerals = -850 } }
		add_deposit = d_energy_generator
		hidden_effect = { change_variable = { which = energy_generator value = 1 } }# planet_event = { id = UniqueAscensionPerksEvents.85 }
		is_dialog_only = yes
		response_text = "UniqueAscensionPerksEvents.85.Desc"
	}
	option = {
		name = "d_mineral_replicator"
		allow = { owner = { resource_stockpile_compare = { resource = minerals value > 850 } } }
		owner = { add_resource = { minerals = -850 } }
		add_deposit = d_mineral_replicator
		hidden_effect = { change_variable = { which = mineral_replicator value = 1 } }
		is_dialog_only = yes
		response_text = "UniqueAscensionPerksEvents.85.Desc"
	}
	option = {
		name = "d_house_farming"
		allow = { owner = { resource_stockpile_compare = { resource = minerals value > 850 } } }
		owner = { add_resource = { minerals = -850 } }
		add_deposit = d_house_farming
		hidden_effect = { change_variable = { which = house_farming value = 1 } }
		is_dialog_only = yes
		response_text = "UniqueAscensionPerksEvents.85.Desc"
	}
	option = {
		name = "d_research_center"
		allow = { owner = { resource_stockpile_compare = { resource = minerals value > 850 } } }
		owner = { add_resource = { minerals = -850 } }
		add_deposit = d_research_center
		hidden_effect = { change_variable = { which = research_center value = 1 } }
		is_dialog_only = yes
		response_text = "UniqueAscensionPerksEvents.85.Desc"
	}
	option = {
		name = "d_trade_depot"
		allow = { owner = { is_gestalt = no resource_stockpile_compare = { resource = minerals value > 850 } } }
		owner = { add_resource = { minerals = -850 } }
		add_deposit = d_trade_depot
		hidden_effect = { change_variable = { which = trade_depot value = 1 } }
		is_dialog_only = yes
		response_text = "UniqueAscensionPerksEvents.85.Desc"
	}
	option = {
		name = "d_hivemind_node"
		allow = { owner = { is_hive_empire = yes resource_stockpile_compare = { resource = food value > 850 } } }
		owner = { add_resource = { food = -850 } }
		add_deposit = d_hivemind_node
		hidden_effect = { change_variable = { which = hivemind_node value = 1 } }
		is_dialog_only = yes
		response_text = "UniqueAscensionPerksEvents.85.Desc"
	}
	option = {
		name = "d_auto_factory"
		allow = { owner = { is_machine_empire = yes resource_stockpile_compare = { resource = minerals value > 850 } } }
		owner = { add_resource = { minerals = -850 } }
		add_deposit = d_auto_factory
		hidden_effect = { change_variable = { which = auto_factory value = 1 } }
		is_dialog_only = yes
		response_text = "UniqueAscensionPerksEvents.85.Desc"
	}
	option = {
		name = "d_unit_entrepot"
		allow = { owner = { is_machine_empire = yes resource_stockpile_compare = { resource = minerals value > 850 } } }
		owner = { add_resource = { minerals = -850 } }
		add_deposit = d_unit_entrepot
		hidden_effect = { change_variable = { which = unity_entrepot value = 1 } }
		is_dialog_only = yes
		response_text = "UniqueAscensionPerksEvents.85.Desc"
	}
	option = { name = BACK hidden_effect = { planet_event = { id = UniqueAscensionPerksEvents.84 } } ai_chance = { factor = 0 } }
}

planet_event = {
	id = UniqueAscensionPerksEvents.3086
	title = "UniqueAscensionPerksEvents.3086.Name"
	desc = "UniqueAscensionPerksEvents.3086.Desc"
	show_sound = event_cityscape
	diplomatic = yes
	force_open = yes
	picture_event_data = { room = galaxy_center_room }
	is_triggered_only = yes
	location = root
	pre_triggers = { has_owner = yes }
	option = {
		name = "CORVETTE"
		allow = { owner = { resource_stockpile_compare = { resource = alloys value > 150 } } }
		owner = { add_resource = { alloys = -150 } }
		galaxy_center_build_corvette = yes
		# hidden_effect = { planet_event = { id = UniqueAscensionPerksEvents.3086 } }
		is_dialog_only = yes
		response_text = "UniqueAscensionPerksEvents.3086.Desc"
	}
	option = {
		name = "DESTROYER"
		allow = { owner = { resource_stockpile_compare = { resource = alloys value > 300 } has_technology = tech_destroyers } }
		owner = { add_resource = { alloys = -300 } }
		galaxy_center_build_destroyer = yes
		# hidden_effect = { planet_event = { id = UniqueAscensionPerksEvents.3086 } }
		is_dialog_only = yes
		response_text = "UniqueAscensionPerksEvents.3086.Desc"
	}
	option = {
		name = "CRUISER"
		allow = { owner = { resource_stockpile_compare = { resource = alloys value > 550 } has_technology = tech_cruisers } }
		owner = { add_resource = { alloys = -550 } }
		galaxy_center_build_cruiser = yes
		# hidden_effect = { planet_event = { id = UniqueAscensionPerksEvents.3086 } }
		is_dialog_only = yes
		response_text = "UniqueAscensionPerksEvents.3086.Desc"
	}
	option = {
		name = "BATTLESHIP"
		allow = { owner = { resource_stockpile_compare = { resource = alloys value > 900 } has_technology = tech_battleships } }
		owner = { add_resource = { alloys = -900 } }
		galaxy_center_build_battleship = yes
		# hidden_effect = { planet_event = { id = UniqueAscensionPerksEvents.3086 } }
		is_dialog_only = yes
		response_text = "UniqueAscensionPerksEvents.3086.Desc"
	}
	option = { name = BACK hidden_effect = { planet_event = { id = UniqueAscensionPerksEvents.84 } } ai_chance = { factor = 0 } }
}
# on_bi_yearly_pulse
event = {
	id = UniqueAscensionPerksEvents.86
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		# galaxy_center_yearly_effect = yes
		random_playable_country = {
			limit = {
				has_ascension_perk = ap_galaxy_center
				any_owned_planet = {
					has_planet_flag = galaxy_center_planet
					OR = {
						has_planet_flag = galaxy_center_casino
						has_planet_flag = galaxy_center_administration
						has_planet_flag = galaxy_center_museum
					}
				}
			}
			random_owned_planet = {
				limit = {
					has_planet_flag = galaxy_center_planet
					OR = {
						has_planet_flag = galaxy_center_casino
						has_planet_flag = galaxy_center_administration
						has_planet_flag = galaxy_center_museum
					}
				}
				if = {
					limit = { has_planet_flag = galaxy_center_casino }
					set_variable = { which = galaxy_center_casino value = 0 }
					while = {
						count = 750
						random_list = {
							1 = {}
							2 = { change_variable = { which = galaxy_center_casino value = 1 } }
							1 = { change_variable = { which = galaxy_center_casino value = 2 } }
							1 = { change_variable = { which = galaxy_center_casino value = 3 } }
							1 = { change_variable = { which = galaxy_center_casino value = -1 } }
						}
					}
					owner = { add_resource = { energy = 100 mult = galaxy_center_casino } }
				}
				if = {
					limit = { has_planet_flag = galaxy_center_administration }
					set_variable = { which = galaxy_center_administration value = 0 }
					while = {
						count = 75
						random_list = {
							1 = {}
							2 = { change_variable = { which = galaxy_center_administration value = 1 } }
							1 = { change_variable = { which = galaxy_center_administration value = 2 } }
							1 = { change_variable = { which = galaxy_center_administration value = 3 } }
							1 = { change_variable = { which = galaxy_center_administration value = -1 } }
						}
					}
					owner = { add_resource = { influence = 1 mult = galaxy_center_administration } }
				}
				if = {
					limit = { has_planet_flag = galaxy_center_museum }
					set_variable = { which = galaxy_center_museum value = 0 }
					while = {
						count = 250
						random_list = {
							1 = {}
							2 = { change_variable = { which = galaxy_center_museum value = 1 } }
							1 = { change_variable = { which = galaxy_center_museum value = 2 } }
							1 = { change_variable = { which = galaxy_center_museum value = 3 } }
							1 = { change_variable = { which = galaxy_center_museum value = -1 } }
						}
					}
					owner = { add_resource = { unity = 100 mult = galaxy_center_museum } }
				}
			}
		}
	}
}

#######################################
#									 #
###### Influenceable Population #######
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.87
	title = "ap_advanced_government_1"
	desc = "ap_advanced_government_1_desc"
	show_sound = event_mystic_reveal
	picture = GFX_evt_galactic_senate
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT }
}

planet_event = {
	id = UniqueAscensionPerksEvents.4088
	hide_window = yes
	mean_time_to_happen = { months = 1 }
	pre_triggers = { has_owner = yes }
	trigger = {
		exists = owner
		owner = { has_ascension_perk = ap_advanced_government_1 }
		any_owned_pop = { pop_has_wrong_ethics = yes }
	}
	immediate = {
		random_owned_pop = {
			limit = { pop_has_wrong_ethics = yes }
			clear_ethos = yes
			random_list = {
				1 = { modifier = { factor = 500 owner = { has_ethic = ethic_materialist } } modifier = { factor = 100 owner = { has_ethic = ethic_fanatic_materialist } } pop_change_ethic = ethic_materialist }
				1 = { modifier = { factor = 500 owner = { has_ethic = ethic_spiritualist } } modifier = { factor = 100 owner = { has_ethic = ethic_fanatic_spiritualist } } pop_change_ethic = ethic_spiritualist }
				1 = { modifier = { factor = 500 owner = { has_ethic = ethic_xenophile } } modifier = { factor = 100 owner = { has_ethic = ethic_fanatic_xenophile } } pop_change_ethic = ethic_xenophile }
				1 = { modifier = { factor = 500 owner = { has_ethic = ethic_xenophobe } } modifier = { factor = 100 owner = { has_ethic = ethic_fanatic_xenophobe } } pop_change_ethic = ethic_xenophobe }
				1 = { modifier = { factor = 500 owner = { has_ethic = ethic_militarist } } modifier = { factor = 100 owner = { has_ethic = ethic_fanatic_militarist } } pop_change_ethic = ethic_militarist }
				1 = { modifier = { factor = 500 owner = { has_ethic = ethic_pacifist } } modifier = { factor = 100 owner = { has_ethic = ethic_fanatic_pacifist } } pop_change_ethic = ethic_pacifist }
				1 = { modifier = { factor = 500 owner = { has_ethic = ethic_egalitarian } } modifier = { factor = 100 owner = { has_ethic = ethic_fanatic_egalitarian } } pop_change_ethic = ethic_egalitarian }
				1 = { modifier = { factor = 500 owner = { has_ethic = ethic_authoritarian } } modifier = { factor = 100 owner = { has_ethic = ethic_fanatic_authoritarian } } pop_change_ethic = ethic_authoritarian }
			}
		}
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.4089
	title = "decision_ethic_shift"
	desc = "UniqueAscensionPerksEvents.4089.Desc"
	show_sound = event_celebration
	picture = GFX_evt_alien_propaganda
	location = event_target:ethic_planet
	is_triggered_only = yes
	option = {
		name = EXCELLENT
		ai_chance = { factor = 0 }
		if = { limit = { event_target:ethic_planet = { count_owned_pop = { limit = { pop_has_right_ethics = yes } count <= 10 } } } add_resource = { influence = 10 } } else_if = { limit = { event_target:ethic_planet = { count_owned_pop = { limit = { pop_has_right_ethics = yes } count <= 20 } } } add_resource = { influence = 20 } } else_if = { limit = { event_target:ethic_planet = { count_owned_pop = { limit = { pop_has_right_ethics = yes } count <= 30 } } } add_resource = { influence = 30 } } else_if = { limit = { event_target:ethic_planet = { count_owned_pop = { limit = { pop_has_right_ethics = yes } count <= 40 } } } add_resource = { influence = 40 } } else_if = { limit = { event_target:ethic_planet = { count_owned_pop = { limit = { pop_has_right_ethics = yes } count <= 50 } } } add_resource = { influence = 50 } } else_if = { limit = { event_target:ethic_planet = { count_owned_pop = { limit = { pop_has_right_ethics = yes } count <= 60 } } } add_resource = { influence = 60 } } else_if = { limit = { event_target:ethic_planet = { count_owned_pop = { limit = { pop_has_right_ethics = yes } count <= 70 } } } add_resource = { influence = 70 } } else_if = { limit = { event_target:ethic_planet = { count_owned_pop = { limit = { pop_has_right_ethics = yes } count <= 80 } } } add_resource = { influence = 80 } } else_if = { limit = { event_target:ethic_planet = { count_owned_pop = { limit = { pop_has_right_ethics = yes } count <= 90 } } } add_resource = { influence = 90 } }
		else_if = { limit = { event_target:ethic_planet = { count_owned_pop = { limit = { pop_has_right_ethics = yes } count <= 100 } } } add_resource = { influence = 100 } } else_if = { limit = { event_target:ethic_planet = { count_owned_pop = { limit = { pop_has_right_ethics = yes } count <= 110 } } } add_resource = { influence = 110 } } else_if = { limit = { event_target:ethic_planet = { count_owned_pop = { limit = { pop_has_right_ethics = yes } count <= 120 } } } add_resource = { influence = 120 } } else_if = { limit = { event_target:ethic_planet = { count_owned_pop = { limit = { pop_has_right_ethics = yes } count <= 130 } } } add_resource = { influence = 130 } } else_if = { limit = { event_target:ethic_planet = { count_owned_pop = { limit = { pop_has_right_ethics = yes } count <= 140 } } } add_resource = { influence = 140 } } else_if = { limit = { event_target:ethic_planet = { count_owned_pop = { limit = { pop_has_right_ethics = yes } count <= 150 } } } add_resource = { influence = 150 } } else_if = { limit = { event_target:ethic_planet = { count_owned_pop = { limit = { pop_has_right_ethics = yes } count <= 160 } } } add_resource = { influence = 160 } } else_if = { limit = { event_target:ethic_planet = { count_owned_pop = { limit = { pop_has_right_ethics = yes } count <= 170 } } } add_resource = { influence = 170 } } else_if = { limit = { event_target:ethic_planet = { count_owned_pop = { limit = { pop_has_right_ethics = yes } count <= 180 } } } add_resource = { influence = 180 } } else_if = { limit = { event_target:ethic_planet = { count_owned_pop = { limit = { pop_has_right_ethics = yes } count <= 190 } } } add_resource = { influence = 190 } } else_if = { limit = { event_target:ethic_planet = { count_owned_pop = { limit = { pop_has_right_ethics = yes } count <= 200 } } } add_resource = { influence = 200 } } else_if = { limit = { event_target:ethic_planet = { count_owned_pop = { limit = { pop_has_right_ethics = yes } count > 200 } } } add_resource = { influence = 200 } }
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.4090
	title = "UniqueAscensionPerksEvents.4090.Name"
	desc = "UniqueAscensionPerksEvents.4090.Desc"
	picture = GFX_evt_galactic_senate
	show_sound = event_conversation
	location = event_target:ethic_planet
	is_triggered_only = yes
	option = { name = OK ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.88
	title = "ap_advanced_government_2"
	desc = "ap_advanced_government_2_desc"
	show_sound = event_psionic
	picture = GFX_evt_unity_symbol
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.89 } } }
}

country_event = {
	id = UniqueAscensionPerksEvents.89
	show_sound = event_administrative_work
	title = "ap_advanced_government_2"
	desc = {
		trigger = {
			text = "UniqueAscensionPerksEvents.89.Desc"
			text = newline
			success_text = { text = "Unity.Gain.Militarist" is_militarist = yes }
			success_text = { text = "Unity.Gain.Pacifist" is_pacifist = yes }
			success_text = { text = "Unity.Gain.Xenophile" is_xenophile = yes }
			success_text = { text = "Unity.Gain.Xenophobe" is_xenophobe = yes }
			success_text = { text = "Unity.Gain.Materialist" is_materialist = yes }
			success_text = { text = "Unity.Gain.Spiritualist" is_spiritualist = yes }
			success_text = { text = "Unity.Gain.Authoritarian" is_authoritarian = yes }
			success_text = { text = "Unity.Gain.Egalitarian" is_egalitarian = yes }
			success_text = { text = "Unity.Gain.Gestalt" has_ethic = ethic_gestalt_consciousness }
		}
	}
	diplomatic = yes
	force_open = yes
	picture_event_data = { room = ethic_spaceship_room }
	is_triggered_only = yes
	option = { name = "UniqueAscensionPerksEvents.89.a" }
}

country_event = {
	id = UniqueAscensionPerksEvents.90
	title = "UniqueAscensionPerksEvents.90.Name"
	desc = "UniqueAscensionPerksEvents.90.Desc"
	picture = GFX_evt_unity_symbol
	show_sound = event_think_tank_build_upgrade
	location = from
	is_triggered_only = yes
	option = { name = EXCELLENT }
}

#######################################
#									 #
############ Super Hivemind ###########
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.100
	title = "ap_super_hive_mind"
	desc = "ap_super_hive_mind_desc"
	picture = GFX_evt_hive_mind
	show_sound = event_alien_nature
	location = from
	is_triggered_only = yes
	option = { name = EXCELLENT enable_special_project = { name = SUPER_HIVEMIND location = capital_scope owner = root } }
}

country_event = {
	id = UniqueAscensionPerksEvents.101
	title = "UniqueAscensionPerksEvents.101.Name"
	desc = "UniqueAscensionPerksEvents.101.Desc"
	picture = GFX_evt_hive_mind
	show_sound = event_alien_nature
	location = from
	is_triggered_only = yes
	immediate = { set_country_flag = super_hivemind_project }
	option = {
		name = EXCELLENT
		ai_chance = { factor = 0 }
		custom_tooltip = "ap_super_hive_mind_tooltip_3"
		add_research_option = tech_super_hivemind
		hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.103 } add_resource = { food = 750 } }
	}
}

# Clone Ship (on_ship_built)
ship_event = {
	id = UniqueAscensionPerksEvents.102
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		exists = owner
		exists = fleet
		owner = { has_ascension_perk = ap_super_hive_mind }
	}
	immediate = {
		fleet = {
			# save_event_target_as = fleet_location
			random = {
				chance = 30
				# create_fleet = {
				# 	name = "Cloned Ship"
				# effect = {
				# set_owner = root.owner
				if = { limit = { root = { is_ship_size = corvette } } create_ship = { name = random random_existing_design = corvette prefix = yes } }
				else_if = { limit = { root = { is_ship_size = destroyer } } create_ship = { name = random random_existing_design = destroyer prefix = yes } }
				else_if = { limit = { root = { is_ship_size = cruiser } } create_ship = { name = random random_existing_design = cruiser prefix = yes } }
				else_if = { limit = { root = { is_ship_size = battleship } } create_ship = { name = random random_existing_design = battleship prefix = yes } }
				# set_fleet_flag = cloned_fleet
				# set_location = event_target:fleet_location # root
			}
		}
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.103
	title = "UniqueAscensionPerksEvents.103.Name"
	desc = "UniqueAscensionPerksEvents.103.Desc"
	picture = GFX_evt_hive_mind
	show_sound = event_alien_nature
	location = from
	is_triggered_only = yes
	immediate = {
		random_owned_leader = { limit = { NOT = { leader_class = ruler } } save_event_target_as = leader_1 }
		random_owned_leader = { limit = { NOR = { leader_class = ruler is_same_value = event_target:leader_1 } } save_event_target_as = leader_2 }
		random_owned_leader = { limit = { NOR = { leader_class = ruler is_same_value = event_target:leader_1 is_same_value = event_target:leader_2 } } save_event_target_as = leader_3 }
		random_owned_leader = { limit = { NOR = { leader_class = ruler is_same_value = event_target:leader_1 is_same_value = event_target:leader_2 is_same_value = event_target:leader_3 } } save_event_target_as = leader_4 }
		random_owned_leader = { limit = { NOR = { leader_class = ruler is_same_value = event_target:leader_1 is_same_value = event_target:leader_2 is_same_value = event_target:leader_3 is_same_value = event_target:leader_4 } } save_event_target_as = leader_5 }
		random_owned_leader = { limit = { NOR = { leader_class = ruler is_same_value = event_target:leader_1 is_same_value = event_target:leader_2 is_same_value = event_target:leader_3 is_same_value = event_target:leader_4 is_same_value = event_target:leader_5 } } save_event_target_as = leader_6 }
		random_owned_leader = { limit = { NOR = { leader_class = ruler is_same_value = event_target:leader_1 is_same_value = event_target:leader_2 is_same_value = event_target:leader_3 is_same_value = event_target:leader_4 is_same_value = event_target:leader_5 is_same_value = event_target:leader_6 } } save_event_target_as = leader_7 }
		random_owned_leader = { limit = { NOR = { leader_class = ruler is_same_value = event_target:leader_1 is_same_value = event_target:leader_2 is_same_value = event_target:leader_3 is_same_value = event_target:leader_4 is_same_value = event_target:leader_5 is_same_value = event_target:leader_6 is_same_value = event_target:leader_7 } } save_event_target_as = leader_8 }
	}
	option = { name = "UniqueAscensionPerksEvents.251.Leader.1" trigger = { exists = event_target:leader_1 } hidden_effect = { event_target:leader_1 = { save_event_target_as = leader_cloned } country_event = { id = UniqueAscensionPerksEvents.104 } } }
	option = { name = "UniqueAscensionPerksEvents.251.Leader.2" trigger = { exists = event_target:leader_2 } hidden_effect = { event_target:leader_2 = { save_event_target_as = leader_cloned } country_event = { id = UniqueAscensionPerksEvents.104 } } }
	option = { name = "UniqueAscensionPerksEvents.251.Leader.3" trigger = { exists = event_target:leader_3 } hidden_effect = { event_target:leader_3 = { save_event_target_as = leader_cloned } country_event = { id = UniqueAscensionPerksEvents.104 } } }
	option = { name = "UniqueAscensionPerksEvents.251.Leader.4" trigger = { exists = event_target:leader_4 } hidden_effect = { event_target:leader_4 = { save_event_target_as = leader_cloned } country_event = { id = UniqueAscensionPerksEvents.104 } } }
	option = { name = "UniqueAscensionPerksEvents.251.Leader.5" trigger = { exists = event_target:leader_5 } hidden_effect = { event_target:leader_5 = { save_event_target_as = leader_cloned } country_event = { id = UniqueAscensionPerksEvents.104 } } }
	option = { name = "UniqueAscensionPerksEvents.251.Leader.6" trigger = { exists = event_target:leader_6 } hidden_effect = { event_target:leader_6 = { save_event_target_as = leader_cloned } country_event = { id = UniqueAscensionPerksEvents.104 } } }
	option = { name = "UniqueAscensionPerksEvents.251.Leader.7" trigger = { exists = event_target:leader_7 } hidden_effect = { event_target:leader_7 = { save_event_target_as = leader_cloned } country_event = { id = UniqueAscensionPerksEvents.104 } } }
	option = { name = "UniqueAscensionPerksEvents.251.Leader.8" trigger = { exists = event_target:leader_8 } hidden_effect = { event_target:leader_8 = { save_event_target_as = leader_cloned } country_event = { id = UniqueAscensionPerksEvents.104 } } }
	option = { name = "UniqueAscensionPerks.select_leader" hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.103 } } }
	option = { name = ABORT ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.104
	title = "UniqueAscensionPerksEvents.104.Name"
	desc = "UniqueAscensionPerksEvents.104.Desc"
	picture = GFX_evt_hive_mind
	show_sound = event_alien_nature
	location = from
	is_triggered_only = yes
	immediate = { event_target:leader_cloned = { save_event_target_as = leader_cloned } set_variable = { which = "cloned_leader_number" value = 0 } }
	option = { name = "UniqueAscensionPerksEvents.252.1" allow = { resource_stockpile_compare = { resource = influence value > 75	} } add_resource = { influence = -75	} hidden_effect = { while = { count = 1 make_leader_clone = yes } country_event = { id = UniqueAscensionPerksEvents.105 } } }
	option = { name = "UniqueAscensionPerksEvents.252.2" allow = { resource_stockpile_compare = { resource = influence value > 150	} } add_resource = { influence = -150	} hidden_effect = { while = { count = 2 make_leader_clone = yes } country_event = { id = UniqueAscensionPerksEvents.105 } } }
	option = { name = "UniqueAscensionPerksEvents.252.3" allow = { resource_stockpile_compare = { resource = influence value > 225	} } add_resource = { influence = -225	} hidden_effect = { while = { count = 3 make_leader_clone = yes } country_event = { id = UniqueAscensionPerksEvents.105 } } }
	option = { name = "UniqueAscensionPerksEvents.252.4" allow = { resource_stockpile_compare = { resource = influence value > 300	} } add_resource = { influence = -300	} hidden_effect = { while = { count = 4 make_leader_clone = yes } country_event = { id = UniqueAscensionPerksEvents.105 } } }
	option = { name = "UniqueAscensionPerksEvents.252.5" allow = { resource_stockpile_compare = { resource = influence value > 375	} } add_resource = { influence = -375	} hidden_effect = { while = { count = 5 make_leader_clone = yes } country_event = { id = UniqueAscensionPerksEvents.105 } } }
	option = { name = "UniqueAscensionPerksEvents.252.6" allow = { resource_stockpile_compare = { resource = influence value > 450	} } add_resource = { influence = -450	} hidden_effect = { while = { count = 6 make_leader_clone = yes } country_event = { id = UniqueAscensionPerksEvents.105 } } }
	option = { name = "UniqueAscensionPerksEvents.252.7" allow = { resource_stockpile_compare = { resource = influence value > 525	} } add_resource = { influence = -525	} hidden_effect = { while = { count = 7 make_leader_clone = yes } country_event = { id = UniqueAscensionPerksEvents.105 } } }
	option = { name = ABORT ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.105
	title = "UniqueAscensionPerksEvents.105.Name"
	desc = "UniqueAscensionPerksEvents.105.Desc"
	picture = GFX_evt_hive_mind
	show_sound = event_alien_nature
	location = capital_scope
	is_triggered_only = yes
	immediate = { event_target:leader_cloned = { save_event_target_as = leader_cloned } }
	option = { name = "UniqueAscensionPerks.lets_again" hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.103 } } }
	option = { name = EXCELLENT }
}

#######################################
#									 #
############# Mega Hivemind ###########
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.110
	title = "ap_mega_hive_mind"
	desc = "ap_mega_hive_mind_desc"
	picture = GFX_evt_mega_hive_mind
	show_sound = event_mystic_reveal
	location = from
	is_triggered_only = yes
	option = { name = EXCELLENT enable_special_project = { name = MEGA_HIVEMIND location = capital_scope owner = root } }
}

country_event = {
	id = UniqueAscensionPerksEvents.111
	title = "UniqueAscensionPerksEvents.111.Name"
	desc = "UniqueAscensionPerksEvents.111.Desc"
	show_sound = event_mystic_reveal
	diplomatic = yes
	force_open = yes
	picture_event_data = { room = mega_hive_mind_room }
	is_triggered_only = yes
	immediate = { set_country_flag = mega_hivemind_project }
	option = {
		name = EXCELLENT
		ai_chance = { factor = 0 }
		custom_tooltip = "ap_mega_hive_mind_tooltip_2"
		hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.112 } }
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.112
	title = "ap_mega_hive_mind"
	desc = "UniqueAscensionPerksEvents.112.Desc"
	show_sound = event_mystic_reveal
	diplomatic = yes
	force_open = yes
	picture_event_data = { room = mega_hive_mind_room }
	is_triggered_only = yes
	option = {
		name = "UniqueAscensionPerksEvents.112.a"
		allow = { resource_stockpile_compare = { resource = exotic_gases value > 500 } }
		add_resource = { exotic_gases = -500 }
		hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.113 } }
	}
	option = { name = "cara_home_exit" ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.113
	title = "ap_mega_hive_mind"
	desc = "UniqueAscensionPerksEvents.113.Desc"
	show_sound = event_mystic_reveal
	diplomatic = yes
	force_open = yes
	picture_event_data = { room = mega_hive_mind_room }
	is_triggered_only = yes
	option = {
		name = "UniqueAscensionPerksEvents.113.a"
		hidden_effect = {
			set_country_flag = realm_destination_entrance
			set_timed_country_flag = { flag = realm_destination_entrance_cooldown years = 1 }
			country_event = { id = UniqueAscensionPerksEvents.115 days = 360 }
			country_event = { id = UniqueAscensionPerksEvents.114 }
		}
	}
	option = { name = "UniqueAscensionPerksEvents.113.b" ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.114
	title = "ap_mega_hive_mind"
	desc = {
		trigger = {
			success_text = { text = "UniqueAscensionPerksEvents.114.Entrance" has_country_flag = realm_destination_entrance }
			success_text = { text = "UniqueAscensionPerksEvents.114.Nothing" has_country_flag = realm_destination_nothing }
			success_text = { text = "UniqueAscensionPerksEvents.114.Intersection" has_country_flag = realm_destination_intersection }
			success_text = { text = "UniqueAscensionPerksEvents.114.Elevator" has_country_flag = realm_destination_elevator }
			success_text = { text = "UniqueAscensionPerksEvents.114.Chest" has_country_flag = realm_destination_chest }
			success_text = { text = "UniqueAscensionPerksEvents.114.Chest.Bad" has_country_flag = realm_chest_event_bad }
			success_text = { text = "UniqueAscensionPerksEvents.114.Chest.Medium" has_country_flag = realm_chest_event_medium }
			success_text = { text = "UniqueAscensionPerksEvents.114.Chest.Good" has_country_flag = realm_chest_event_good }
			success_text = { text = "UniqueAscensionPerksEvents.114.Encounter" has_country_flag = realm_destination_encounter }
			success_text = { text = "UniqueAscensionPerksEvents.114.Encounter.Farmer" has_country_flag = realm_destination_encounter_farmer }
			success_text = { text = "UniqueAscensionPerksEvents.114.Encounter.Hunter" has_country_flag = realm_destination_encounter_swarm }
			success_text = { text = "UniqueAscensionPerksEvents.114.Encounter.Researcher.Physics" has_country_flag = realm_destination_encounter_researcher_physics }
			success_text = { text = "UniqueAscensionPerksEvents.114.Encounter.Researcher.Society" has_country_flag = realm_destination_encounter_researcher_society }
			success_text = { text = "UniqueAscensionPerksEvents.114.Encounter.Researcher.Engineering" has_country_flag = realm_destination_encounter_researcher_engineering }
			success_text = { text = "UniqueAscensionPerksEvents.114.Encounter.Breeder" has_country_flag = realm_destination_encounter_breeder }
			success_text = { text = "UniqueAscensionPerksEvents.114.Encounter.Success" has_country_flag = realm_encounter_result_success }
			success_text = { text = "UniqueAscensionPerksEvents.114.Encounter.Perfect" has_country_flag = realm_encounter_result_perfect }
			success_text = { text = "UniqueAscensionPerksEvents.114.Encounter.Failure" has_country_flag = realm_encounter_result_failure }
			success_text = { text = "UniqueAscensionPerksEvents.114.Encounter.Hunter.Success" has_country_flag = realm_swarm_group_success }
			success_text = { text = "UniqueAscensionPerksEvents.114.Encounter.Hunter.Failure" has_country_flag = realm_swarm_group_failure }
			success_text = { text = "UniqueAscensionPerksEvents.114.Technology" has_country_flag = realm_destination_technology }
			success_text = { text = "UniqueAscensionPerksEvents.114.Technology.Success" has_country_flag = realm_technology_success }
			success_text = { text = "UniqueAscensionPerksEvents.114.Technology.Failure" has_country_flag = realm_technology_failed }
			success_text = { text = "UniqueAscensionPerksEvents.114.Dropper" has_country_flag = realm_destination_dropper }
			success_text = { text = "UniqueAscensionPerksEvents.114.Dropper.Activated" has_country_flag = realm_destination_dropper_activated }
			success_text = { text = "UniqueAscensionPerksEvents.114.Dropper.Deactivated" has_country_flag = realm_destination_dropper_deactivated }
		}
	}
	show_sound = event_mystic_reveal
	diplomatic = yes
	force_open = yes
	picture_event_data = { room = mega_hive_mind_room }
	is_triggered_only = yes
	option = { name = "UniqueAscensionPerksEvents.114.North" trigger = { realm_destination_north = yes } realm_select_north = yes }
	option = { name = "UniqueAscensionPerksEvents.114.West" trigger = { realm_destination_west = yes } realm_select_west = yes }
	option = { name = "UniqueAscensionPerksEvents.114.South" trigger = { realm_destination_south = yes } realm_select_south = yes }
	option = { name = "UniqueAscensionPerksEvents.114.East" trigger = { realm_destination_east = yes } realm_select_east = yes }
	option = { name = "UniqueAscensionPerksEvents.114.Back" trigger = { realm_destination_back = yes } realm_move_back = yes	}
	option = { name = "UniqueAscensionPerksEvents.114.Up" trigger = { realm_destination_up = yes } realm_select_up = yes	}
	option = { name = "UniqueAscensionPerksEvents.114.Forward" trigger = { realm_destination_forward = yes } realm_select_down = yes }
	option = { name = "UniqueAscensionPerksEvents.114.Down" trigger = { realm_destination_down = yes } realm_select_forward = yes }
	option = { name = "UniqueAscensionPerksEvents.112.Chest.Blue" trigger = { realm_opening_chest = yes } realm_opening_chest_blue = yes }
	option = { name = "UniqueAscensionPerksEvents.112.Chest.Yellow" trigger = { realm_opening_chest = yes } realm_opening_chest_yellow = yes }
	option = { name = "UniqueAscensionPerksEvents.112.Chest.Red" trigger = { realm_opening_chest = yes } realm_opening_chest_red = yes }
	option = { trigger = { has_country_flag = realm_chest_event_good has_country_flag = realm_chest_energy } add_resource = { energy = 15000 } name = EXCELLENT hidden_effect = { realm_clear_flags = yes } }
	option = { trigger = { has_country_flag = realm_chest_event_good has_country_flag = realm_chest_minerals } add_resource = { energy = 15000 } name = EXCELLENT hidden_effect = { realm_clear_flags = yes } }
	option = { trigger = { has_country_flag = realm_chest_event_good has_country_flag = realm_chest_alloys } add_resource = { energy = 15000 } name = EXCELLENT hidden_effect = { realm_clear_flags = yes } }
	option = { trigger = { has_country_flag = realm_chest_event_medium has_country_flag = realm_chest_energy } add_resource = { energy = 4000 } name = OK hidden_effect = { realm_clear_flags = yes } }
	option = { trigger = { has_country_flag = realm_chest_event_medium has_country_flag = realm_chest_minerals } add_resource = { energy = 4000 } name = OK hidden_effect = { realm_clear_flags = yes } }
	option = { trigger = { has_country_flag = realm_chest_event_medium has_country_flag = realm_chest_alloys } add_resource = { energy = 1600 } name = OK hidden_effect = { realm_clear_flags = yes } }
	option = { trigger = { has_country_flag = realm_chest_event_bad has_country_flag = realm_chest_energy } add_resource = { energy = 800 } name = "UniqueAscensionPerksEvents.114.Bad" hidden_effect = { realm_clear_flags = yes } }
	option = { trigger = { has_country_flag = realm_chest_event_bad has_country_flag = realm_chest_minerals } add_resource = { energy = 800 } name = "UniqueAscensionPerksEvents.114.Bad" hidden_effect = { realm_clear_flags = yes } }
	option = { trigger = { has_country_flag = realm_chest_event_bad has_country_flag = realm_chest_alloys } add_resource = { energy = 320 } name = "UniqueAscensionPerksEvents.114.Bad" hidden_effect = { realm_clear_flags = yes } }
	option = { name = "UniqueAscensionPerksEvents.114.Communicate" trigger = { realm_communicate = yes } realm_communicating = yes }
	option = { name = "UniqueAscensionPerksEvents.114.Plant" trigger = { has_country_flag = realm_destination_encounter_farmer } realm_farmer_select = yes }
	option = { name = "UniqueAscensionPerksEvents.114.Small" trigger = { has_country_flag = realm_destination_encounter_swarm } realm_select_small_swarm_group = yes }
	option = { name = "UniqueAscensionPerksEvents.114.Medium" trigger = { has_country_flag = realm_destination_encounter_swarm } realm_select_medium_swarm_group = yes }
	option = { name = "UniqueAscensionPerksEvents.114.Big" trigger = { has_country_flag = realm_destination_encounter_swarm } realm_select_big_swarm_group = yes }
	option = { name = "UniqueAscensionPerksEvents.114.Knowledge" trigger = { has_country_flag = realm_destination_encounter_researcher_physics } realm_physics_select = yes }
	option = { name = "UniqueAscensionPerksEvents.114.Knowledge" trigger = { has_country_flag = realm_destination_encounter_researcher_society } realm_society_select = yes }
	option = { name = "UniqueAscensionPerksEvents.114.Knowledge" trigger = { has_country_flag = realm_destination_encounter_researcher_engineering } realm_engineering_select = yes }
	option = { name = "UniqueAscensionPerksEvents.114.Breeding" trigger = { has_country_flag = realm_destination_encounter_breeder } realm_breeding_select = yes }
	option = { name = EXCELLENT trigger = { has_country_flag = realm_encounter_result_success has_country_flag = realm_encounter_result_farmer } add_modifier = { modifier = mega_hivemind_food_success years = 10 } hidden_effect = { realm_clear_flags = yes } }
	option = { name = EXCELLENT trigger = { has_country_flag = realm_encounter_result_success has_country_flag = realm_encounter_result_physics } add_modifier = { modifier = mega_hivemind_physics_success years = 10 } hidden_effect = { realm_clear_flags = yes } }
	option = { name = EXCELLENT trigger = { has_country_flag = realm_encounter_result_success has_country_flag = realm_encounter_result_society } add_modifier = { modifier = mega_hivemind_society_success years = 10 } hidden_effect = { realm_clear_flags = yes } }
	option = { name = EXCELLENT trigger = { has_country_flag = realm_encounter_result_success has_country_flag = realm_encounter_result_engineering } add_modifier = { modifier = mega_hivemind_engineering_success years = 10 } hidden_effect = { realm_clear_flags = yes } }
	option = { name = EXCELLENT trigger = { has_country_flag = realm_encounter_result_success has_country_flag = realm_encounter_result_breeding } add_modifier = { modifier = mega_hivemind_breeding_success years = 10 } hidden_effect = { realm_clear_flags = yes } }
	option = { name = "UniqueAscensionPerksEvents.114.Perfect" trigger = { has_country_flag = realm_encounter_result_perfect has_country_flag = realm_encounter_result_farmer } add_modifier = { modifier = mega_hivemind_food_perfect years = 10 } hidden_effect = { realm_clear_flags = yes } }
	option = { name = "UniqueAscensionPerksEvents.114.Perfect" trigger = { has_country_flag = realm_encounter_result_perfect has_country_flag = realm_encounter_result_physics } add_modifier = { modifier = mega_hivemind_physics_perfect years = 10 } hidden_effect = { realm_clear_flags = yes } }
	option = { name = "UniqueAscensionPerksEvents.114.Perfect" trigger = { has_country_flag = realm_encounter_result_perfect has_country_flag = realm_encounter_result_society } add_modifier = { modifier = mega_hivemind_society_perfect years = 10 } hidden_effect = { realm_clear_flags = yes } }
	option = { name = "UniqueAscensionPerksEvents.114.Perfect" trigger = { has_country_flag = realm_encounter_result_perfect has_country_flag = realm_encounter_result_engineering } add_modifier = { modifier = mega_hivemind_engineering_perfect years = 10 } hidden_effect = { realm_clear_flags = yes } }
	option = { name = "UniqueAscensionPerksEvents.114.Perfect" trigger = { has_country_flag = realm_encounter_result_perfect has_country_flag = realm_encounter_result_breeding } add_modifier = { modifier = mega_hivemind_breeding_perfect years = 10 } hidden_effect = { realm_clear_flags = yes } }
	option = { name = "UniqueAscensionPerksEvents.114.Damn" trigger = { has_country_flag = realm_encounter_result_failure has_country_flag = realm_encounter_result_farmer } add_modifier = { modifier = mega_hivemind_food_failure years = 5 } hidden_effect = { realm_clear_flags = yes } }
	option = { name = "UniqueAscensionPerksEvents.114.Damn" trigger = { has_country_flag = realm_encounter_result_failure has_country_flag = realm_encounter_result_physics } add_modifier = { modifier = mega_hivemind_physics_failure years = 5 } hidden_effect = { realm_clear_flags = yes } }
	option = { name = "UniqueAscensionPerksEvents.114.Damn" trigger = { has_country_flag = realm_encounter_result_failure has_country_flag = realm_encounter_result_society } add_modifier = { modifier = mega_hivemind_society_failure years = 5 } hidden_effect = { realm_clear_flags = yes } }
	option = { name = "UniqueAscensionPerksEvents.114.Damn" trigger = { has_country_flag = realm_encounter_result_failure has_country_flag = realm_encounter_result_engineering } add_modifier = { modifier = mega_hivemind_engineering_failure years = 5 } hidden_effect = { realm_clear_flags = yes } }
	option = { name = "UniqueAscensionPerksEvents.114.Damn" trigger = { has_country_flag = realm_encounter_result_failure has_country_flag = realm_encounter_result_breeding } add_modifier = { modifier = mega_hivemind_breeding_failure years = 5 } hidden_effect = { realm_clear_flags = yes } }
	option = { name = EXCELLENT trigger = { has_country_flag = realm_swarm_group_success has_country_flag = realm_swarm_group_small } hidden_effect = { realm_swarm_small_group_success = yes } }
	option = { name = EXCELLENT trigger = { has_country_flag = realm_swarm_group_success has_country_flag = realm_swarm_group_medium } hidden_effect = { realm_swarm_medium_group_success = yes } }
	option = { name = EXCELLENT trigger = { has_country_flag = realm_swarm_group_success has_country_flag = realm_swarm_group_big } hidden_effect = { realm_swarm_big_group_success = yes } }
	option = { name = BATTLESTATIONS trigger = { has_country_flag = realm_swarm_group_failure has_country_flag = realm_swarm_group_small } hidden_effect = { realm_swarm_small_group_failure = yes } }
	option = { name = BATTLESTATIONS trigger = { has_country_flag = realm_swarm_group_failure has_country_flag = realm_swarm_group_medium } hidden_effect = { realm_swarm_medium_group_failure = yes } }
	option = { name = BATTLESTATIONS trigger = { has_country_flag = realm_swarm_group_failure has_country_flag = realm_swarm_group_big } hidden_effect = { realm_swarm_big_group_failure = yes } }
	option = { name = "UniqueAscensionPerksEvents.114.Wait" trigger = { has_country_flag = realm_destination_technology } realm_select_technology = yes }
	option = { name = "UniqueAscensionPerksEvents.114.Bad" trigger = { has_country_flag = realm_technology_failed } hidden_effect = { realm_clear_flags = yes } }
	option = { name = EXCELLENT trigger = { has_country_flag = realm_technology_success has_country_flag = realm_technology_psi_jump_drive } add_research_option = tech_psi_jump_drive_1 realm_clear_flags = yes }
	option = { name = EXCELLENT trigger = { has_country_flag = realm_technology_success has_country_flag = realm_tech_dark_matter_deflector } add_research_option = tech_dark_matter_deflector realm_clear_flags = yes }
	option = { name = EXCELLENT trigger = { has_country_flag = realm_technology_success has_country_flag = realm_tech_dark_matter_power_core } add_research_option = tech_dark_matter_power_core realm_clear_flags = yes }
	option = { name = EXCELLENT trigger = { has_country_flag = realm_technology_success has_country_flag = realm_tech_dark_matter_propulsion } add_research_option = tech_dark_matter_propulsion realm_clear_flags = yes }
	option = { name = EXCELLENT trigger = { has_country_flag = realm_technology_success has_country_flag = realm_tech_mineral_extraction } add_research_option = tech_mineral_extraction realm_clear_flags = yes }
	option = { name = EXCELLENT trigger = { has_country_flag = realm_technology_success has_country_flag = realm_tech_food_farming } add_research_option = tech_food_farming realm_clear_flags = yes }
	option = { name = EXCELLENT trigger = { has_country_flag = realm_technology_success has_country_flag = realm_tech_energy_producing } add_research_option = tech_energy_producing realm_clear_flags = yes }
	option = { name = EXCELLENT trigger = { has_country_flag = realm_technology_success has_country_flag = realm_tech_habitability_mutation } add_research_option = tech_habitability_mutation realm_clear_flags = yes }
	option = { name = EXCELLENT trigger = { has_country_flag = realm_technology_success has_country_flag = realm_tech_points } realm_technology_points = yes realm_clear_flags = yes }
	option = { name = "UniqueAscensionPerksEvents.114.Activate" trigger = { has_country_flag = realm_destination_dropper } allow = { resource_stockpile_compare = { resource = food value > 1500 } } add_resource = { energy = -1500 } realm_destination_dropper = yes }
	option = { name = OK trigger = { has_country_flag = realm_destination_dropper_activated has_country_flag = realm_destination_dropper_nothing } custom_tooltip = "Nothing. " realm_destination_restart_or_not = yes }
	option = { name = OK trigger = { has_country_flag = realm_destination_dropper_activated has_country_flag = realm_destination_dropper_food_bad } add_resource = { food = 100 } realm_destination_restart_or_not = yes }
	option = { name = OK trigger = { has_country_flag = realm_destination_dropper_activated has_country_flag = realm_destination_dropper_food_good } add_resource = { food = 1500 } realm_destination_restart_or_not = yes }
	option = { name = OK trigger = { has_country_flag = realm_destination_dropper_activated has_country_flag = realm_destination_dropper_gases } add_resource = { exotic_gases = 250 } realm_destination_restart_or_not = yes }
	option = { name = OK trigger = { has_country_flag = realm_destination_dropper_activated has_country_flag = realm_destination_dropper_motes } add_resource = { volatile_motes = 250 } realm_destination_restart_or_not = yes }
	option = { name = OK trigger = { has_country_flag = realm_destination_dropper_activated has_country_flag = realm_destination_dropper_alloys } add_resource = { alloys = 750 } realm_destination_restart_or_not = yes }
	option = { name = OK trigger = { has_country_flag = realm_destination_dropper_activated has_country_flag = realm_destination_dropper_minerals } add_resource = { minerals = 1000 } realm_destination_restart_or_not = yes }
	option = { name = OK trigger = { has_country_flag = realm_destination_dropper_activated has_country_flag = realm_destination_dropper_energy } add_resource = { energy = 1000 } realm_destination_restart_or_not = yes }
	option = { name = OK trigger = { has_country_flag = realm_destination_dropper_activated has_country_flag = realm_destination_dropper_society } add_monthly_resource_mult = { resource = society_research value = 1 min = 3000 max = 3000 } realm_destination_restart_or_not = yes }
	option = { name = OK trigger = { has_country_flag = realm_destination_dropper_activated has_country_flag = realm_destination_dropper_engineering } add_monthly_resource_mult = { resource = engineering_research value = 1 min = 3000 max = 3000 } realm_destination_restart_or_not = yes }
	option = { name = OK trigger = { has_country_flag = realm_destination_dropper_activated has_country_flag = realm_destination_dropper_physics } add_monthly_resource_mult = { resource = physics_research value = 1 min = 3000 max = 3000 } realm_destination_restart_or_not = yes }
	option = { name = OK trigger = { has_country_flag = realm_destination_dropper_activated has_country_flag = realm_destination_dropper_crystals } add_resource = { rare_crystals = 250 } realm_destination_restart_or_not = yes }
	option = { trigger = { realm_can_normal_exit = yes } name = "UniqueAscensionPerksEvents.113.b" ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.115
	title = "UniqueAscensionPerksEvents.115.Name"
	desc = "UniqueAscensionPerksEvents.115.Desc"
	show_sound = event_mystic_reveal
	diplomatic = yes
	force_open = yes
	picture_event_data = { room = mega_hive_mind_room }
	is_triggered_only = yes
	option = { name = "UniqueAscensionPerksEvents.115.a" hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.112 } } }
	option = { name = OK ai_chance = { factor = 0 } }
}

#######################################
#									 #
######### Aggressive Hivemind #########
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.120
	title = "ap_aggressive_hivemind"
	desc = "ap_aggressive_hivemind_desc"
	picture = GFX_evt_aggressive_hivemind
	show_sound = event_ai_started
	location = from
	is_triggered_only = yes
	option = { name = EXCELLENT enable_special_project = { name = AGGRESSIVE_HIVEMIND location = capital_scope owner = root } }
}

country_event = {
	id = UniqueAscensionPerksEvents.121
	title = "UniqueAscensionPerksEvents.121.Name"
	desc = "UniqueAscensionPerksEvents.121.Desc"
	immediate = { set_country_flag = aggressive_hivemind_project }
	picture = GFX_evt_aggressive_hivemind
	show_sound = event_ai_started
	location = from
	is_triggered_only = yes
	option = {
		name = EXCELLENT
		ai_chance = { factor = 0 }
		custom_tooltip = "ap_recycling_drones_tooltip_3"
		hidden_effect = {
			country_event = { id = UniqueAscensionPerksEvents.3125 days = 30 random = 30 }
			capital_scope = { solar_system = { set_star_flag = recycle_fleet_spawn_system } }
		}
	}
}

# on_ship_destroyed_perp
country_event = {
	id = UniqueAscensionPerksEvents.122
	hide_window = yes
	is_triggered_only = yes
	trigger = { has_country_flag = aggressive_hivemind_project }
	immediate = {
		fromfrom = {
			# perform_aggressive_hivemind_ship_check = yes
			random = {
				chance = 25
				switch = {
					trigger = is_ship_size
					corvette	= { ROOT = { change_variable = { which = ship_corvette_infested value = 1 } } }
					destroyer	= { ROOT = { change_variable = { which = ship_destroyer_infested value = 1 } } }
					cruiser		= { ROOT = { change_variable = { which = ship_cruiser_infested value = 1 } } }
					battleship	= { ROOT = { change_variable = { which = ship_battleship_infested value = 1 } } }
					titan		= { ROOT = { change_variable = { which = ship_titan_infested value = 1 } } }
				}
			}
		}
	}
}

# on_yearly_pulse
event = {
	id = UniqueAscensionPerksEvents.123
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		random_playable_country = {
			limit = {
				has_country_flag = aggressive_hivemind_project
				OR = {
					check_variable = { which = ship_corvette_infested value > 1 }
					check_variable = { which = ship_destroyer_infested value > 1 }
					check_variable = { which = ship_cruiser_infested value > 1 }
					check_variable = { which = ship_battleship_infested value > 1 }
					check_variable = { which = ship_titan_infested value > 1 }
				}
			}
			country_event = { id = UniqueAscensionPerksEvents.124 }
		}
	}
}

# on_yearly_pulse
country_event = {
	id = UniqueAscensionPerksEvents.124
	title = "UniqueAscensionPerksEvents.124.Name"
	desc = "UniqueAscensionPerksEvents.124.Desc"
	show_sound = event_ai_started
	picture = GFX_evt_aggressive_hivemind
	location = event_target:recovery_fleet_position
	is_triggered_only = yes
	immediate = {
		# perform_aggressive_hivemind_infested_fleet = yes
		random_system_within_border = {
			limit = { has_star_flag = recycle_fleet_spawn_system }
			star = { save_event_target_as = recovery_fleet_position }
		}
		if = { limit = { NOT = { exists = event_target:recovery_fleet_position } }
			random_system_within_border = {
				limit = { exists = starbase any_system_planet = { is_colony = yes } }
				weights = { base = 1 modifier = { add = 3 is_capital_system = yes } }
				star = { save_event_target_as = recovery_fleet_position }
			}
		}

		create_fleet = {
			name = "Infested Fleet"
			settings = { spawn_debris = no }
			effect = {
				set_owner = prev
				if = { limit = { ROOT = { has_country_flag = aggressive_hivemind_project_upgrade } }
					while = {
						count = root.ship_corvette_infested
						create_ship = { name = random random_existing_design = corvette }
					}
					while = {
						count = root.ship_destroyer_infested
						create_ship = { name = random random_existing_design = destroyer }
					}
					while = {
						count = root.ship_cruiser_infested
						create_ship = { name = random random_existing_design = cruiser }
					}
					while = {
						count = root.ship_battleship_infested
						create_ship = { name = random random_existing_design = battleship }
					}
					while = {
						count = root.ship_titan_infested
						create_ship = { name = random random_existing_design = titan }
					}
				} else = {
					while = {
						count = root.ship_corvette_infested
						create_ship = { name = random design = "Standard Basic Corvette" }
					}
					while = {
						count = root.ship_destroyer_infested
						create_ship = { name = random design = "Standard Basic Destroyer" }
					}
					while = {
						count = root.ship_cruiser_infested
						create_ship = { name = random design = "Standard Basic Cruiser" }
					}
					while = {
						count = root.ship_battleship_infested
						create_ship = { name = random design = "Standard Basic Battleship" }
					}
					while = {
						count = root.ship_titan_infested
						create_ship = { name = random design = "Standard Basic Titan" }
					}
				}
				set_location = { target = event_target:recovery_fleet_position distance = 8 angle = random }
				set_fleet_stance = aggressive
				set_aggro_range_measure_from = self
				set_aggro_range = 1000
				set_fleet_flag = aggressive_hivemind_infested_fleet
			}
		}
	}
	after = {
		set_variable = { which = ship_corvette_infested value = 0 }
		set_variable = { which = ship_destroyer_infested value = 0 }
		set_variable = { which = ship_cruiser_infested value = 0 }
		set_variable = { which = ship_battleship_infested value = 0 }
		set_variable = { which = ship_titan_infested value = 0 }
	}
	option = { name = EXCELLENT }
}

country_event = {
	id = UniqueAscensionPerksEvents.3125
	title = "AGGRESSIVE_HIVEMIND_UPGRADE"
	desc = "AGGRESSIVE_HIVEMIND_UPGRADE_DESC"
	show_sound = event_ai_started
	picture = GFX_evt_aggressive_hivemind
	location = capital_scope
	is_triggered_only = yes
	immediate = { set_country_flag = aggressive_hivemind_project_upgrade_added }
	option = { name = EXCELLENT enable_special_project = { name = AGGRESSIVE_HIVEMIND_UPGRADE location = capital_scope owner = root } }
}

country_event = {
	id = UniqueAscensionPerksEvents.3126
	title = "AGGRESSIVE_HIVEMIND_UPGRADE"
	desc = "UniqueAscensionPerksEvents.3126.Desc"
	show_sound = event_ai_started
	picture = GFX_evt_aggressive_hivemind
	location = capital_scope
	is_triggered_only = yes
	immediate = { set_country_flag = aggressive_hivemind_project_upgrade }
	option = { name = EXCELLENT }
}

#######################################
#									 #
########### Spreading Will ############
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.125
	title = "ap_connected_hivemind"
	desc = "ap_connected_hivemind_desc"
	picture = GFX_evt_connected_hivemind
	show_sound = event_psionic
	location = from
	is_triggered_only = yes
	option = { name = EXCELLENT }
}

# convert all pops on_yearly_pulse
event = {
	id = UniqueAscensionPerksEvents.126
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		random_playable_country = {
			limit = {
				is_hive_empire = yes
				has_ascension_perk = ap_connected_hivemind
				any_owned_pop = { is_robot_pop = no NOT = { is_same_species = owner_species } }
			}
			every_owned_planet = {
				limit = { any_owned_pop = { is_robot_pop = no NOT = { is_same_species = owner_species } } }
				every_owned_pop = {
					limit = { is_robot_pop = no NOT = { is_same_species = owner_species } }
					prev = { create_pop = { species = owner_species } }
					kill_pop = yes
				}
				# while = {
				# 	limit = { any_owned_pop = { is_robot_pop = no NOT = { is_same_species = owner_species } } }
				# 	create_pop = { species = prevprev }
				# 	random_owned_pop = { limit = { is_robot_pop = no NOT = { is_same_species = owner_species } } kill_pop = yes }
				# }
			}
		}
	}
}

#######################################
#									 #
######### Connected Reserves ##########
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.127
	title = "ap_hivemind_reserve"
	desc = "ap_hivemind_reserve_desc"
	picture = GFX_evt_hivemind_reserve
	show_sound = event_mystic_reveal
	location = from
	is_triggered_only = yes
	option = { name = EXCELLENT }
}

country_event = {
	id = UniqueAscensionPerksEvents.3128
	title = "UniqueAscensionPerksEvents.3128.Name"
	desc = "UniqueAscensionPerksEvents.3128.Desc"
	picture = GFX_evt_hivemind_reserve
	show_sound = event_mystic_reveal
	location = event_target:hivemind_reserve_planet
	is_triggered_only = yes
	option = { name = OK ai_chance = { factor = 0 } }
	option = {
		name = "UniqueAscensionPerksEvents.3128.a"
		allow = {
			resource_stockpile_compare = { resource = food value > 900 }
			OR = {
				AND = { event_target:hivemind_reserve_planet = { exists = owner is_owned_by = root } }
				AND = { event_target:hivemind_reserve_planet = { solar_system = { exists = space_owner space_owner = { is_same_empire = root } } } }
			}
		}
		add_resource = { food = -900 }
		custom_tooltip = "UniqueAscensionPerksEvents.3128.a.tooltip"
		event_target:hivemind_reserve_planet = {
			add_deposit = d_hivemind_reserve
			save_event_target_as = hivemind_reserve_planet
			set_timed_planet_flag = { flag = decision_hivemind_reserve_cooldown days = 540 }
			ROOT = { country_event = { id = UniqueAscensionPerksEvents.3128 days = 540 } }
		}
	}
}

planet_event = {
	id = UniqueAscensionPerksEvents.3129
	title = "UniqueAscensionPerksEvents.3129.Name"
	desc = "UniqueAscensionPerksEvents.3129.Desc"
	picture = GFX_evt_hivemind_reserve
	show_sound = event_mystic_reveal
	location = root
	pre_triggers = { has_owner = yes is_ai = no }
	is_triggered_only = yes
	trigger = {
		exists = owner
		owner = { is_ai = no has_ascension_perk = ap_hivemind_reserve NOT = { has_country_flag = ap_hivemind_reserve_new_pop_no_warning } }
		has_deposit = d_hivemind_reserve
	}
	# immediate = { create_pop = { species = owner_main_species } }
	option = { name = EXCELLENT }
	option = {
		name = "UniqueAscensionPerks.no_message"
		owner = {
			set_country_flag = ap_hivemind_reserve_new_pop_no_warning
			custom_tooltip = "UniqueAscensionPerks.no_message.tooltip"
		}
	}
}

planet_event = {
	id = UniqueAscensionPerksEvents.3130
	hide_window = yes
	location = root
	mean_time_to_happen = {
		months = 70
		# TODO use scripted values
		modifier = { factor = 0.9 count_deposits = { type = d_hivemind_reserve count > 1 } }
		modifier = { factor = 0.9 count_deposits = { type = d_hivemind_reserve count > 3 } }
		modifier = { factor = 0.9 count_deposits = { type = d_hivemind_reserve count > 5 } }
		modifier = { factor = 0.9 count_deposits = { type = d_hivemind_reserve count > 7 } }
		modifier = { factor = 0.9 count_deposits = { type = d_hivemind_reserve count > 9 } }
		modifier = { factor = 0.9 count_deposits = { type = d_hivemind_reserve count > 11 } }
		modifier = { factor = 0.9 count_deposits = { type = d_hivemind_reserve count > 13 } }
		modifier = { factor = 0.9 count_deposits = { type = d_hivemind_reserve count > 15 } }
		modifier = { factor = 0.9 count_deposits = { type = d_hivemind_reserve count > 17 } }
		modifier = { factor = 0.9 count_deposits = { type = d_hivemind_reserve count > 19 } }
		modifier = { factor = 0.9 count_deposits = { type = d_hivemind_reserve count > 21 } }
		modifier = { factor = 0.9 count_deposits = { type = d_hivemind_reserve count > 23 } }
		modifier = { factor = 0.9 count_deposits = { type = d_hivemind_reserve count > 25 } }
		modifier = { factor = 0.9 count_deposits = { type = d_hivemind_reserve count > 27 } }
		modifier = { factor = 0.9 count_deposits = { type = d_hivemind_reserve count > 29 } }
	}
	pre_triggers = { has_owner = yes }
	trigger = {
		exists = owner
		owner = { is_hive_empire = yes has_ascension_perk = ap_hivemind_reserve }
		has_deposit = d_hivemind_reserve
	}
	immediate = {
		create_pop = { species = owner_main_species }
		if = { limit = { owner = { is_ai = no NOT = { has_country_flag = ap_hivemind_reserve_new_pop_no_warning } } }
			planet_event = { id = UniqueAscensionPerksEvents.3129 } # notify
		}
	}
}

#######################################
#									 #
######### Eternal Vigilance ###########
#									 #
#######################################

event = {
	id = UniqueAscensionPerksEvents.128
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		random_playable_country = {
			limit = { has_ascension_perk = ap_eternal_vigilance NOT = { has_country_flag = ap_eternal_vigilance_project_available } }
			country_event = { id = UniqueAscensionPerksEvents.129 }
		}
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.129
	title = "ap_eternal_vigilance"
	desc = "ap_eternal_vigilance_desc"
	show_sound = event_ship_bridge
	picture = GFX_evt_eternal_vigilance
	location = capital_scope
	is_triggered_only = yes
	immediate = { set_country_flag = ap_eternal_vigilance_project_available }
	option = { name = EXCELLENT enable_special_project = { name = ETERNAL_VIGILANCE location = capital_scope owner = root } }
}

country_event = {
	id = UniqueAscensionPerksEvents.130
	title = "ETERNAL_VIGILANCE"
	desc = "UniqueAscensionPerksEvents.130.Desc"
	show_sound = event_ship_bridge
	picture = GFX_evt_eternal_vigilance
	location = capital_scope
	is_triggered_only = yes
	immediate = { set_country_flag = ap_eternal_vigilance_project }
	option = { name = EXCELLENT }
}

country_event = {
	id = UniqueAscensionPerksEvents.131
	hide_window = yes
	mean_time_to_happen = { years = 2 }
	trigger = {
		has_country_flag = ap_eternal_vigilance_project
		any_system_within_border = { NOR = { any_fleet_in_system = { has_fleet_flag = eternal_vigilance_fleet exists = owner is_owned_by = root } has_star_flag = vigilance_system } }
	}
	immediate = {
		random_system_within_border = {
			limit = { NOR = { any_fleet_in_system = { has_fleet_flag = eternal_vigilance_fleet exists = owner is_owned_by = root } has_star_flag = vigilance_system } }
			set_timed_star_flag = { flag = vigilance_system years = 15 }
			star = { save_event_target_as = spawn_location }
			create_fleet = {
				name = "Eternal Vigilance Fleet"
				settings = { spawn_debris = no uses_naval_capacity = no }
				effect = {
					set_owner = root
					create_ship = { name = random random_existing_design = military_station_small }
					set_location = { target = event_target:spawn_location distance = 100 angle = random }
					set_fleet_flag = eternal_vigilance_fleet
					add_modifier = { modifier = eternal_vigilance_fleet }
				}
			}
			while = {
				count = 3
				random = {
					chance = 50
					create_fleet = {
						name = "Eternal Vigilance Fleet"
						settings = { spawn_debris = no uses_naval_capacity = no }
						effect = {
							set_owner = root
							create_ship = { name = random random_existing_design = military_station_small }
							set_location = { target = event_target:spawn_location distance = 100 angle = random }
							set_fleet_flag = eternal_vigilance_fleet
							add_modifier = { modifier = eternal_vigilance_fleet }
						}
					}
				}
			}
		}
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.132
	hide_window = yes
	mean_time_to_happen = { months = 6 }
	trigger = {
		has_country_flag = ap_eternal_vigilance_project
		has_technology = tech_titans
		host_has_dlc = "Apocalypse"
		any_owned_planet = { NOT = { has_planet_flag = vigilance_planet } }
	}
	immediate = {
		random_owned_planet = {
			limit = { NOT = { has_planet_flag = vigilance_planet } }
			save_event_target_as = spawn_location
			set_timed_planet_flag = { flag = vigilance_planet years = 15 }
			create_fleet = {
				name = "Eternal Vigilance Fleet"
				settings = { spawn_debris = no uses_naval_capacity = no }
				effect = {
					set_owner = root
					create_ship = { name = random random_existing_design = ion_cannon }
					set_location = { target = event_target:spawn_location distance = 8 angle = random }
					set_fleet_flag = eternal_vigilance_fleet_ion_cannon
					add_modifier = { modifier = eternal_vigilance_fleet }
				}
			}
		}
	}
}

#######################################
#									 #
######### Primitive Creation ##########
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.140
	title = "ap_primitives_creation"
	desc = "ap_primitives_creation_desc"
	show_sound = event_primitive_civilization
	picture = GFX_evt_medieval_alien_civilization
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT }
}

country_event = {
	id = UniqueAscensionPerksEvents.141
	title = "UniqueAscensionPerksEvents.141.Name"
	desc = "UniqueAscensionPerksEvents.141.Desc"
	show_sound = event_primitive_civilization
	picture = GFX_evt_medieval_alien_civilization
	location = event_target:new_primitive_world
	is_triggered_only = yes
	option = { name = EXCELLENT }
}

planet_event = {
	id = UniqueAscensionPerksEvents.3142
	hide_window = yes
	mean_time_to_happen = { months = 24 }
	pre_triggers = { has_owner = yes }
	trigger = {
		exists = owner
		owner = { is_country_type = primitive }
		has_planet_flag = primitive_creation_done
		NOT = { has_planet_flag = primitive_creation_planet_cooldown }
		has_observation_outpost = yes
		observation_outpost_owner = { has_ascension_perk = ap_primitives_creation }
	}

	immediate = {
		save_event_target_as = primitive_creation_planet
		owner = { save_event_target_as = primitive_creation_country }
		set_timed_planet_flag = { flag = primitive_creation_planet_cooldown months = 60 }
		observation_outpost_owner = {
			random_list = {
				5 = { modifier = { factor = 0 is_primitive_stage_one = no } country_event = { id = UniqueAscensionPerksEvents.3143 } }
				15 = { modifier = { factor = 0 is_primitive_stage_one = no } country_event = { id = UniqueAscensionPerksEvents.3144 } }
				20 = { modifier = { factor = 0 is_primitive_stage_one = no } country_event = { id = UniqueAscensionPerksEvents.3145 } }
				10 = { modifier = { factor = 0 is_primitive_stage_two = no } country_event = { id = UniqueAscensionPerksEvents.3146 } }
				10 = { modifier = { factor = 0 is_primitive_stage_two = no } country_event = { id = UniqueAscensionPerksEvents.3147 } }
				10 = { modifier = { factor = 0 is_primitive_stage_two = no } country_event = { id = UniqueAscensionPerksEvents.3148 } }
				3 = { modifier = { factor = 0 is_primitive_stage_three = yes } country_event = { id = UniqueAscensionPerksEvents.3149 } }
				5 = { modifier = { factor = 0 is_primitive_stage_three = no } country_event = { id = UniqueAscensionPerksEvents.3150 } }
			}
		}
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.3143
	title = "UniqueAscensionPerksEvents.3143.Name"
	desc = "UniqueAscensionPerksEvents.3143.Desc"
	show_sound = event_primitive_civilization
	picture = GFX_evt_medieval_alien_civilization
	location = event_target:primitive_creation_planet
	is_triggered_only = yes
	option = { name = "UniqueAscensionPerksEvents.3143.a" ai_chance = { factor = 0 } add_resource = { alloys = 350 } }
	option = { name = "UniqueAscensionPerksEvents.3143.b" random = { chance = 20 primitive_country_into_next_age = yes } }
}

country_event = {
	id = UniqueAscensionPerksEvents.3144
	title = "UniqueAscensionPerksEvents.3144.Name"
	desc = "UniqueAscensionPerksEvents.3144.Desc"
	show_sound = event_primitive_civilization
	picture = GFX_evt_medieval_alien_civilization
	location = event_target:primitive_creation_planet
	is_triggered_only = yes
	option = { name = "UniqueAscensionPerksEvents.3144.a" ai_chance = { factor = 0 } add_resource = { food = 500 } }
	option = { name = "UniqueAscensionPerksEvents.3143.b" random = { chance = 40 primitive_country_into_next_age = yes } }
}

country_event = {
	id = UniqueAscensionPerksEvents.3145
	title = "UniqueAscensionPerksEvents.3145.Name"
	desc = "UniqueAscensionPerksEvents.3145.Desc"
	show_sound = event_primitive_civilization
	picture = GFX_evt_medieval_alien_civilization
	location = event_target:primitive_creation_planet
	is_triggered_only = yes
	option = { name = INTERESTING ai_chance = { factor = 0 } add_monthly_resource_mult = { resource = society_research value = 5 min = 250 max = 1000 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.3146
	title = "UniqueAscensionPerksEvents.3146.Name"
	desc = "UniqueAscensionPerksEvents.3146.Desc"
	show_sound = event_cityscape
	picture = GFX_evt_metropolis
	location = event_target:primitive_creation_planet
	is_triggered_only = yes
	option = { name = INTERESTING ai_chance = { factor = 0 } add_monthly_resource_mult = { resource = unity value = 5 min = 500 max = 1500 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.3147
	title = "UniqueAscensionPerksEvents.3147.Name"
	desc = "UniqueAscensionPerksEvents.3147.Desc"
	show_sound = event_cityscape
	picture = GFX_evt_mining_operations
	location = event_target:primitive_creation_planet
	is_triggered_only = yes
	option = { name = "UniqueAscensionPerksEvents.3147.a" ai_chance = { factor = 0 } add_resource = { minerals = 1000 } }
	option = { name = "UniqueAscensionPerksEvents.3143.b" random_list = { 95 = {} 5 = { modifier = { factor = 0 is_primitive_stage_three = yes } primitive_country_into_next_age = yes } } }
}

country_event = {
	id = UniqueAscensionPerksEvents.3148
	title = "UniqueAscensionPerksEvents.3148.Name"
	desc = "UniqueAscensionPerksEvents.3148.Desc"
	show_sound = event_cityscape
	picture = GFX_evt_drilling_for_gas
	location = event_target:primitive_creation_planet
	is_triggered_only = yes
	option = { name = "UniqueAscensionPerksEvents.3148.a" ai_chance = { factor = 0 } add_resource = { energy = 1000 } }
	option = { name = "UniqueAscensionPerksEvents.3143.b" random_list = { 95 = {} 5 = { modifier = { factor = 0 is_primitive_stage_three = yes } primitive_country_into_next_age = yes } } }
}

country_event = {
	id = UniqueAscensionPerksEvents.3149
	title = "UniqueAscensionPerksEvents.3149.Name"
	desc = "UniqueAscensionPerksEvents.3149.Desc"
	show_sound = event_primitive_civilization
	picture = GFX_evt_medieval_alien_civilization
	location = event_target:primitive_creation_planet
	is_triggered_only = yes
	option = { name = AMAZING ai_chance = { factor = 0 } add_resource = { influence = 30 } primitive_country_into_next_age = yes }
}

country_event = {
	id = UniqueAscensionPerksEvents.3150
	title = "UniqueAscensionPerksEvents.3150.Name"
	desc = "UniqueAscensionPerksEvents.3150.Desc"
	show_sound = event_radio_chatter
	picture = GFX_evt_star_chart
	location = event_target:primitive_creation_planet
	is_triggered_only = yes
	option = {
		name = "UniqueAscensionPerksEvents.3150.a"
		hidden_effect = {
			random_list = {
				999 = { modifier = { factor = 0 is_primitive_stage_three_contact = yes } country_event = { id = UniqueAscensionPerksEvents.3151 } }
				1 = { country_event = { id = UniqueAscensionPerksEvents.3152 } }
				1 = { country_event = { id = UniqueAscensionPerksEvents.3153 } }
				# 5 = { country_event = { id = UniqueAscensionPerksEvents.3154 } }
				# 5 = { country_event = { id = UniqueAscensionPerksEvents.3155 } }
				# 5 = { country_event = { id = UniqueAscensionPerksEvents.3156 } }
			}
		}
	}
	option = { name = "UniqueAscensionPerksEvents.3150.b" ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.3151
	title = "UniqueAscensionPerksEvents.3152.Name"
	desc = "UniqueAscensionPerksEvents.3151.Desc"
	is_triggered_only = yes
	diplomatic = yes
	picture_event_data = {
		portrait = event_target:primitive_creation_country
		planet_background = event_target:primitive_creation_country
		graphical_culture = event_target:primitive_creation_country
		city_level = event_target:primitive_creation_country
		room = event_target:primitive_creation_country.ruler
	}
	immediate = {
		event_target:primitive_creation_country = {
			set_country_flag = early_space_age_contact
			random_owned_pop = { species = { save_event_target_as = primitive_creation_species } }
		}
	}
	option = {
		name = "UniqueAscensionPerksEvents.3151.a"
		allow = {
			any_owned_pop = { is_same_species = event_target:primitive_creation_species }
			NOR = { has_country_flag = early_space_age_contact_same_species_confirmed has_country_flag = early_space_age_contact_not_same_species_confirmed }
		}
		is_dialog_only = yes
		hidden_effect = { set_country_flag = early_space_age_contact_same_species_confirmed }
		add_resource = { influence = 50 }
		response_text = "UniqueAscensionPerksEvents.3151.Same.Species"
	}
	option = {
		name = "UniqueAscensionPerksEvents.3151.b"
		allow = { NOR = { has_country_flag = early_space_age_contact_not_same_species_confirmed has_country_flag = early_space_age_contact_same_species_confirmed } }
		is_dialog_only = yes
		hidden_effect = { set_country_flag = early_space_age_contact_not_same_species_confirmed }
		response_text = "UniqueAscensionPerksEvents.3151.NotSame.Species"
	}
	option = { name = "cara_home_exit" ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.3152
	title = "UniqueAscensionPerksEvents.3152.Name"
	desc = "UniqueAscensionPerksEvents.3152.Desc"
	is_triggered_only = yes
	diplomatic = yes
	picture_event_data = {
		portrait = event_target:primitive_creation_country
		planet_background = event_target:primitive_creation_country
		graphical_culture = event_target:primitive_creation_country
		city_level = event_target:primitive_creation_country
		room = event_target:primitive_creation_country.ruler
	}
	option = { name = "UniqueAscensionPerksEvents.3152.a" add_resource = { consumer_goods = 500 } }
	option = { name = "cara_home_exit" ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.3153
	title = "UniqueAscensionPerksEvents.3152.Name"
	desc = "UniqueAscensionPerksEvents.3153.Desc"
	is_triggered_only = yes
	diplomatic = yes
	picture_event_data = {
		portrait = event_target:primitive_creation_country
		planet_background = event_target:primitive_creation_country
		graphical_culture = event_target:primitive_creation_country
		city_level = event_target:primitive_creation_country
		room = event_target:primitive_creation_country.ruler
	}
	option = {
		name = "UniqueAscensionPerksEvents.3153.a"
		custom_tooltip = "UniqueAscensionPerksEvents.3153.a.tooltip"
		hidden_effect = {
			create_fleet = {
				name = "Primitive Corvette Fleet"
				settings = { spawn_debris = no }
				effect = {
					set_owner = root
					while = { count = 5 create_ship = { name = random design = "Standard Basic Corvette" } }
					set_location = { target = event_target:primitive_creation_planet distance = 8 angle = random }
					set_fleet_stance = aggressive
					set_aggro_range_measure_from = self
					set_aggro_range = 1000
					set_fleet_flag = recovery_fleet
				}
			}
		}
	}
	option = { name = "cara_home_exit" ai_chance = { factor = 0 } }
}

planet_event = {
	id = UniqueAscensionPerksEvents.3160
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		save_event_target_as = primitive_creation_planet
		owner = { save_event_target_as = primitive_creation_country }
		primitive_country_into_next_age = yes
	}
}

#######################################
#									 #
########## Powerful Vassals ###########
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.142
	title = "ap_powerful_vassals"
	desc = "ap_powerful_vassals_desc"
	show_sound = event_mystic_reveal_light
	picture = GFX_evt_powerful_vassals
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.8143
	title = "UniqueAscensionPerksEvents.8143.Name"
	desc = "UniqueAscensionPerksEvents.8143.Desc"
	show_sound = event_construction
	picture = GFX_evt_hangar_bay
	is_triggered_only = yes
	immediate = {
		random_subject = { limit = { is_valid_vassal = yes }
			save_event_target_as = country_1
			root = { random_subject = { limit = { is_valid_vassal = yes NOT = { is_same_empire = event_target:country_1 } }
				save_event_target_as = country_2
				root = { random_subject = { limit = { is_valid_vassal = yes NOR = { is_same_empire = event_target:country_1 is_same_empire = event_target:country_2 } }
					save_event_target_as = country_3
					root = { random_subject = { limit = { is_valid_vassal = yes NOR = { is_same_empire = event_target:country_1 is_same_empire = event_target:country_2 is_same_empire = event_target:country_3 } }
						save_event_target_as = country_4
						root = { random_subject = { limit = { is_valid_vassal = yes NOR = { is_same_empire = event_target:country_1 is_same_empire = event_target:country_2 is_same_empire = event_target:country_3 is_same_empire = event_target:country_4 } }
							save_event_target_as = country_5
							root = { random_subject = { limit = { is_valid_vassal = yes NOR = { is_same_empire = event_target:country_1 is_same_empire = event_target:country_2 is_same_empire = event_target:country_3 is_same_empire = event_target:country_4 is_same_empire = event_target:country_5 } } save_event_target_as = country_6 } }
						} }
					} }
				} }
			} }
		}
	}
	option = {
		name = "UniqueAscensionPerksEvents.206.Country.1"
		trigger = { exists = event_target:country_1 }
		hidden_effect = { event_target:country_1 = { save_event_target_as = VassalNavyInvesmentTarget } country_event = { id = UniqueAscensionPerksEvents.8144 } }
	}
	option = {
		name = "UniqueAscensionPerksEvents.206.Country.2"
		trigger = { exists = event_target:country_2 }
		hidden_effect = { event_target:country_2 = { save_event_target_as = VassalNavyInvesmentTarget } country_event = { id = UniqueAscensionPerksEvents.8144 } }
	}
	option = {
		name = "UniqueAscensionPerksEvents.206.Country.3"
		trigger = { exists = event_target:country_3 }
		hidden_effect = { event_target:country_3 = { save_event_target_as = VassalNavyInvesmentTarget } country_event = { id = UniqueAscensionPerksEvents.8144 } }
	}
	option = {
		name = "UniqueAscensionPerksEvents.206.Country.4"
		trigger = { exists = event_target:country_4 }
		hidden_effect = { event_target:country_4 = { save_event_target_as = VassalNavyInvesmentTarget } country_event = { id = UniqueAscensionPerksEvents.8144 } }
	}
	option = {
		name = "UniqueAscensionPerksEvents.206.Country.5"
		trigger = { exists = event_target:country_5 }
		hidden_effect = { event_target:country_5 = { save_event_target_as = VassalNavyInvesmentTarget } country_event = { id = UniqueAscensionPerksEvents.8144 } }
	}
	option = {
		name = "UniqueAscensionPerksEvents.206.Country.6"
		trigger = { exists = event_target:country_6 }
		hidden_effect = { event_target:country_6 = { save_event_target_as = VassalNavyInvesmentTarget } country_event = { id = UniqueAscensionPerksEvents.8144 } }
	}
	option = { name = "UniqueAscensionPerks.select_country" hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.8143 } } }
	option = { name = ABORT ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.8144
	title = "UniqueAscensionPerksEvents.8144.Name"
	desc = "UniqueAscensionPerksEvents.8144.Desc"
	show_sound = event_construction
	picture = GFX_evt_hangar_bay
	is_triggered_only = yes
	immediate = { event_target:VassalNavyInvesmentTarget = { save_event_target_as = VassalNavyInvesmentTarget } }
	option = {
		name = UniqueAscensionPerksEvents.8144.Investment.1
		allow = { resource_stockpile_compare = { resource = alloys value > 2000 } resource_stockpile_compare = { resource = energy value > 1000 } }
		add_resource = { alloys = -2000 energy = -1000 }
		hidden_effect = { event_target:VassalNavyInvesmentTarget = { save_event_target_as = VassalNavyInvesmentTarget set_country_flag = subject_navy_investment_1 } country_event = { id = UniqueAscensionPerksEvents.8145 days = 30 random = 15 } country_event = { id = UniqueAscensionPerksEvents.8146 } }
		custom_tooltip = "UniqueAscensionPerksEvents.8144.Investment.1.tooltip"
	}
	option = {
		name = UniqueAscensionPerksEvents.8144.Investment.2
		allow = { resource_stockpile_compare = { resource = alloys value > 5000 } resource_stockpile_compare = { resource = energy value > 2000 } }
		add_resource = { alloys = -5000 energy = -2000 }
		hidden_effect = { event_target:VassalNavyInvesmentTarget = { save_event_target_as = VassalNavyInvesmentTarget set_country_flag = subject_navy_investment_2 } country_event = { id = UniqueAscensionPerksEvents.8145 days = 60 random = 30 } country_event = { id = UniqueAscensionPerksEvents.8146 } }
		custom_tooltip = "UniqueAscensionPerksEvents.8144.Investment.2.tooltip"
	}
	option = {
		name = UniqueAscensionPerksEvents.8144.Investment.3
		allow = { resource_stockpile_compare = { resource = alloys value > 10000 } resource_stockpile_compare = { resource = energy value > 4000 } }
		add_resource = { alloys = -10000 energy = -4000 }
		hidden_effect = { event_target:VassalNavyInvesmentTarget = { save_event_target_as = VassalNavyInvesmentTarget set_country_flag = subject_navy_investment_3 } country_event = { id = UniqueAscensionPerksEvents.8145 days = 120 random = 60 } country_event = { id = UniqueAscensionPerksEvents.8146 } }
		custom_tooltip = "UniqueAscensionPerksEvents.8144.Investment.3.tooltip"
	}
	option = {
		name = UniqueAscensionPerksEvents.8144.Investment.4
		allow = { resource_stockpile_compare = { resource = alloys value > 20000 } resource_stockpile_compare = { resource = energy value > 8000 } }
		add_resource = { alloys = -20000 energy = -8000 }
		hidden_effect = { event_target:VassalNavyInvesmentTarget = { save_event_target_as = VassalNavyInvesmentTarget set_country_flag = subject_navy_investment_4 } country_event = { id = UniqueAscensionPerksEvents.8145 days = 240 random = 120 } country_event = { id = UniqueAscensionPerksEvents.8146 } }
		custom_tooltip = "UniqueAscensionPerksEvents.8144.Investment.4.tooltip"
	}
	option = {
		name = UniqueAscensionPerksEvents.8144.Investment.5
		allow = { resource_stockpile_compare = { resource = alloys value > 40000 } resource_stockpile_compare = { resource = energy value > 16000 } }
		add_resource = { alloys = -40000 energy = -16000 }
		hidden_effect = { event_target:VassalNavyInvesmentTarget = { save_event_target_as = VassalNavyInvesmentTarget set_country_flag = subject_navy_investment_5 } country_event = { id = UniqueAscensionPerksEvents.8145 days = 480 random = 240 } country_event = { id = UniqueAscensionPerksEvents.8146 } }
		custom_tooltip = "UniqueAscensionPerksEvents.8144.Investment.5.tooltip"
	}
	option = { name = BACK ai_chance = { factor = 0 } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.8143 } } }
}

country_event = {
	id = UniqueAscensionPerksEvents.8145
	title = "UniqueAscensionPerksEvents.8145.Name"
	desc = "UniqueAscensionPerksEvents.8145.Desc"
	show_sound = event_ship_thrusters
	picture = GFX_evt_fleet_neutral
	is_triggered_only = yes
	location = event_target:camera_location
	immediate = {
		event_target:VassalNavyInvesmentTarget = {
			save_event_target_as = VassalNavyInvesmentTarget
			# add_modifier = { modifier = vassal_navy_capacity_boost }
			random_owned_planet = { limit = { is_capital = yes } save_event_target_as = camera_location }
			if = {
				limit = { has_country_flag = subject_navy_investment_1 }
				ROOT = {
					create_navy_fleet_for_subject = yes # create_fleet_from_naval_cap = 0.1
					last_created_fleet = { set_owner = event_target:VassalNavyInvesmentTarget add_modifier = { modifier = eternal_vigilance_fleet } }
					event_target:VassalNavyInvesmentTarget = { random_owned_planet = { limit = { is_capital = yes } last_created_fleet = { set_location = prev } } }
				}
				remove_country_flag = subject_navy_investment_1
			} else_if = {
				limit = { has_country_flag = subject_navy_investment_2 }
				ROOT = {
					create_navy_fleet_for_subject = yes # create_fleet_from_naval_cap = 0.2
					last_created_fleet = { set_owner = event_target:VassalNavyInvesmentTarget add_modifier = { modifier = eternal_vigilance_fleet } }
					event_target:VassalNavyInvesmentTarget = { random_owned_planet = { limit = { is_capital = yes } last_created_fleet = { set_location = prev } } }
				}
				remove_country_flag = subject_navy_investment_2
			} else_if = {
				limit = { has_country_flag = subject_navy_investment_3 }
				ROOT = {
					create_navy_fleet_for_subject = yes # create_fleet_from_naval_cap = 0.35
					last_created_fleet = { set_owner = event_target:VassalNavyInvesmentTarget add_modifier = { modifier = eternal_vigilance_fleet } }
					event_target:VassalNavyInvesmentTarget = { random_owned_planet = { limit = { is_capital = yes } last_created_fleet = { set_location = prev } } }
				}
				remove_country_flag = subject_navy_investment_3
			} else_if = {
				limit = { has_country_flag = subject_navy_investment_4 }
				ROOT = {
					create_navy_fleet_for_subject = yes # create_fleet_from_naval_cap = 0.55
					last_created_fleet = { set_owner = event_target:VassalNavyInvesmentTarget add_modifier = { modifier = eternal_vigilance_fleet } }
					event_target:VassalNavyInvesmentTarget = { random_owned_planet = { limit = { is_capital = yes } last_created_fleet = { set_location = prev } } }
				}
				remove_country_flag = subject_navy_investment_4
			} else_if = {
				limit = { has_country_flag = subject_navy_investment_5 }
				ROOT = {
					create_navy_fleet_for_subject = yes # create_fleet_from_naval_cap = 0.75
					last_created_fleet = { set_owner = event_target:VassalNavyInvesmentTarget add_modifier = { modifier = eternal_vigilance_fleet } }
					event_target:VassalNavyInvesmentTarget = { random_owned_planet = { limit = { is_capital = yes } last_created_fleet = { set_location = prev } } }
				}
				remove_country_flag = subject_navy_investment_5
			}
		}
	}
	option = { name = EXCELLENT }
}

country_event = {
	id = UniqueAscensionPerksEvents.8146
	title = "UniqueAscensionPerksEvents.8146.Name"
	desc = "UniqueAscensionPerksEvents.8146.Desc"
	show_sound = event_construction
	picture = GFX_evt_hangar_bay
	location = capital_scope
	is_triggered_only = yes
	immediate = { event_target:VassalNavyInvesmentTarget = { save_event_target_as = VassalNavyInvesmentTarget } }
	# option = { name = "Let's select another subject." hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.8143 } } }
	option = { name = OK ai_chance = { factor = 0 } }
}

#######################################
#									 #
########## Void Expeditions ###########
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.143
	title = "ap_void_expedition"
	desc = "ap_void_expedition_desc"
	show_sound = event_mystic_reveal
	picture = GFX_evt_void_expedition
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT enable_special_project = { name = VOID_EXPEDITIONS location = capital_scope owner = root } }
}

country_event = {
	id = UniqueAscensionPerksEvents.144
	title = "UniqueAscensionPerksEvents.144.Name"
	desc = "UniqueAscensionPerksEvents.144.Desc"
	show_sound = event_mystic_reveal
	picture = GFX_evt_void_expedition
	location = capital_scope
	is_triggered_only = yes
	immediate = {
		set_country_flag = ap_void_expedition_project
		change_variable = { which = "expedition_sector_number" value = 1 }
		change_variable = { which = "expedition_sector_resources" value = 1 }
		change_variable = { which = "expedition_sector_science" value = 2 }
		change_variable = { which = "expedition_sector_danger" value = 1 }
	}
	option = { name = EXCELLENT custom_tooltip = "ap_void_expedition_tooltip_2" add_research_option = tech_max_expedition_ships_1 }
}

country_event = {
	id = UniqueAscensionPerksEvents.145
	title = "ap_void_expedition"
	desc = {
		trigger = {
			text = "UniqueAscensionPerksEvents.145.Desc"
			text = newline
			success_text = { text = "UniqueAscensionPerksEvents.145.Ships.0" NOT = { has_technology = tech_max_expedition_ships_1 } }
			success_text = { text = "UniqueAscensionPerksEvents.145.Ships.1" NOT = { has_technology = tech_max_expedition_ships_2 } has_technology = tech_max_expedition_ships_1 }
			success_text = { text = "UniqueAscensionPerksEvents.145.Ships.2" NOT = { has_technology = tech_max_expedition_ships_3 } has_technology = tech_max_expedition_ships_1 has_technology = tech_max_expedition_ships_2 }
			success_text = { text = "UniqueAscensionPerksEvents.145.Ships.3" has_technology = tech_max_expedition_ships_1 has_technology = tech_max_expedition_ships_2 has_technology = tech_max_expedition_ships_3 }
			success_text = { text = "UniqueAscensionPerksEvents.145.Resources.VeryLow" check_variable = { which = expedition_sector_resources value = 1 } }
			success_text = { text = "UniqueAscensionPerksEvents.145.Resources.Low" check_variable = { which = expedition_sector_resources value = 2 } }
			success_text = { text = "UniqueAscensionPerksEvents.145.Resources.Medium" check_variable = { which = expedition_sector_resources value = 3 } }
			success_text = { text = "UniqueAscensionPerksEvents.145.Resources.High" check_variable = { which = expedition_sector_resources value = 4 } }
			success_text = { text = "UniqueAscensionPerksEvents.145.Resources.VeryHigh" check_variable = { which = expedition_sector_resources value = 5 } }
			success_text = { text = "UniqueAscensionPerksEvents.145.Resources.Pristine" check_variable = { which = expedition_sector_resources value = 6 } }
			success_text = { text = "UniqueAscensionPerksEvents.145.Science.Low" check_variable = { which = expedition_sector_science value = 1 } }
			success_text = { text = "UniqueAscensionPerksEvents.145.Science.Medium" check_variable = { which = expedition_sector_science value = 2 } }
			success_text = { text = "UniqueAscensionPerksEvents.145.Science.High" check_variable = { which = expedition_sector_science value = 3 } }
			success_text = { text = "UniqueAscensionPerksEvents.145.Danger.VeryLow" check_variable = { which = expedition_sector_danger value = 1 } }
			success_text = { text = "UniqueAscensionPerksEvents.145.Danger.Low" check_variable = { which = expedition_sector_danger value = 2 } }
			success_text = { text = "UniqueAscensionPerksEvents.145.Danger.Medium" check_variable = { which = expedition_sector_danger value = 3 } }
			success_text = { text = "UniqueAscensionPerksEvents.145.Danger.High" check_variable = { which = expedition_sector_danger value = 4 } }
			success_text = { text = "UniqueAscensionPerksEvents.145.Danger.VeryHigh" check_variable = { which = expedition_sector_danger value = 5 } }
			success_text = { text = "UniqueAscensionPerksEvents.145.Danger.Insane" check_variable = { which = expedition_sector_danger value = 6 } }
			text = newline
			text = "UniqueAscensionPerksEvents.145.Expedition.Resources"
			text = "UniqueAscensionPerksEvents.145.Expedition.Minerals"
			text = "UniqueAscensionPerksEvents.145.Expedition.Energy"
			text = "UniqueAscensionPerksEvents.145.Expedition.DarkMatter"
			text = "UniqueAscensionPerksEvents.145.Expedition.Motes"
			text = "UniqueAscensionPerksEvents.145.Expedition.Crystals"
			text = "UniqueAscensionPerksEvents.145.Expedition.Gas"
			text = newline
			text = "UniqueAscensionPerksEvents.145.Expedition.Research"
			text = "UniqueAscensionPerksEvents.145.Expedition.Physics"
			text = "UniqueAscensionPerksEvents.145.Expedition.Society"
			text = "UniqueAscensionPerksEvents.145.Expedition.Engineering"
		}
	}
	show_sound = event_mystic_reveal
	diplomatic = yes
	force_open = yes
	picture_event_data = { room = void_expedition_room }
	is_triggered_only = yes
	option = {
		name = "UniqueAscensionPerksEvents.145.Build"
		allow = {
			resource_stockpile_compare = { resource = alloys value > 600 }
			resource_stockpile_compare = { resource = energy value > 500 }
			custom_tooltip = { fail_text = UniqueAscensionPerksEvents.145.Req01 NOT = { has_country_flag = build_expedition_ship_cooldown } }
			custom_tooltip = { fail_text = UniqueAscensionPerksEvents.145.Req02 can_build_expedition_science_ship = yes }
		}
		custom_tooltip = "UniqueAscensionPerksEvents.145.Build.tooltip"
		add_resource = { alloys = -600 energy = -500 }
		hidden_effect = {
			country_event = { id = UniqueAscensionPerksEvents.145 }
			set_timed_country_flag = { flag = build_expedition_ship_cooldown months = 3 }
			change_variable = { which = "expedition_research_ships" value = 1 }
			expedition_add_resources_info = yes
		}
	}
	option = {
		name = "UniqueAscensionPerksEvents.145.Move"
		allow = {
			resource_stockpile_compare = { resource = energy value > 3000 }
			resource_stockpile_compare = { resource = sr_dark_matter value > 50 }
			custom_tooltip = { fail_text = UniqueAscensionPerksEvents.145.Req03 NOT = { has_country_flag = move_to_next_sector_cooldown } }
		}
		custom_tooltip = "UniqueAscensionPerksEvents.145.Move.tooltip"
		add_resource = { energy = -3000 sr_dark_matter = -50 }
		hidden_effect = {
			country_event = { id = UniqueAscensionPerksEvents.145 }
			set_timed_country_flag = { flag = move_to_next_sector_cooldown days = 360 }
			move_to_next_sector = yes
		}
	}
	option = { name = EXIT ai_chance = { factor = 0 } }
}

event = {
	id = UniqueAscensionPerksEvents.150
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		random_playable_country = {
			limit = { has_country_flag = ap_void_expedition_project }
			country_event = { id = UniqueAscensionPerksEvents.151 days = 10 random = 10 }
		}
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.151
	is_triggered_only = yes
	hide_window = yes
	trigger = { has_country_flag = ap_void_expedition_project }
	immediate = {
		expedition_yearly_resources_gain = yes
		expedition_yearly_resources_gain_info = yes
	}
}

# on_monthly_pulse
event = {
	id = UniqueAscensionPerksEvents.152
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		random_playable_country = {
			limit = { has_country_flag = ap_void_expedition_project NOT = { has_country_flag = expedition_discovery_cooldown } }
			set_timed_country_flag = { flag = expedition_discovery_cooldown years = 2 }
			country_event = { id = UniqueAscensionPerksEvents.153 days = 90 random = 60 }
		}
		random_playable_country = {
			limit = { has_technology = tech_star_expedition any_planet_within_border = { can_star_increase_energy_deposits = yes } }
			every_planet_within_border = {
				limit = { can_star_increase_energy_deposits = yes }
				set_planet_flag = deposit_secret_increased
				add_deposit = d_energy_6
			}
		}
		random_playable_country = {
			limit = { has_technology = tech_blackhole_expedition any_planet_within_border = { can_blackhole_increase_darkmatter_deposits = yes } }
			every_planet_within_border = {
				limit = { can_blackhole_increase_darkmatter_deposits = yes }
				set_planet_flag = deposit_secret_increased
				add_deposit = d_dark_matter_deposit_2
			}
		}
		random_playable_country = {
			limit = { has_technology = tech_pulsar_expedition any_planet_within_border = { can_pulsar_increase_physics_deposits = yes } }
			every_planet_within_border = {
				limit = { can_pulsar_increase_physics_deposits = yes }
				set_planet_flag = deposit_secret_increased
				add_deposit = d_physics_8
			}
		}
		random_playable_country = {
			limit = { has_technology = tech_neutron_expedition any_planet_within_border = { can_neutron_increase_engineering_deposits = yes } }
			every_planet_within_border = {
				limit = { can_neutron_increase_engineering_deposits = yes }
				set_planet_flag = deposit_secret_increased
				add_deposit = d_engineering_8
			}
		}
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.153
	title = "UniqueAscensionPerksEvents.153.Name"
	desc = {
		trigger = {
			text = "UniqueAscensionPerksEvents.153.Desc"
			text = newline
			success_text = { text = "UniqueAscensionPerksEvents.145.Resources.VeryLow" check_variable = { which = expedition_sector_resources value = 1 } }
			success_text = { text = "UniqueAscensionPerksEvents.145.Resources.Low" check_variable = { which = expedition_sector_resources value = 2 } }
			success_text = { text = "UniqueAscensionPerksEvents.145.Resources.Medium" check_variable = { which = expedition_sector_resources value = 3 } }
			success_text = { text = "UniqueAscensionPerksEvents.145.Resources.High" check_variable = { which = expedition_sector_resources value = 4 } }
			success_text = { text = "UniqueAscensionPerksEvents.145.Resources.VeryHigh" check_variable = { which = expedition_sector_resources value = 5 } }
			success_text = { text = "UniqueAscensionPerksEvents.145.Resources.Pristine" check_variable = { which = expedition_sector_resources value = 6 } }
			success_text = { text = "UniqueAscensionPerksEvents.145.Science.Low" check_variable = { which = expedition_sector_science value = 1 } }
			success_text = { text = "UniqueAscensionPerksEvents.145.Science.Medium" check_variable = { which = expedition_sector_science value = 2 } }
			success_text = { text = "UniqueAscensionPerksEvents.145.Science.High" check_variable = { which = expedition_sector_science value = 3 } }
			success_text = { text = "UniqueAscensionPerksEvents.145.Danger.VeryLow" check_variable = { which = expedition_sector_danger value = 1 } }
			success_text = { text = "UniqueAscensionPerksEvents.145.Danger.Low" check_variable = { which = expedition_sector_danger value = 2 } }
			success_text = { text = "UniqueAscensionPerksEvents.145.Danger.Medium" check_variable = { which = expedition_sector_danger value = 3 } }
			success_text = { text = "UniqueAscensionPerksEvents.145.Danger.High" check_variable = { which = expedition_sector_danger value = 4 } }
			success_text = { text = "UniqueAscensionPerksEvents.145.Danger.VeryHigh" check_variable = { which = expedition_sector_danger value = 5 } }
			success_text = { text = "UniqueAscensionPerksEvents.145.Danger.Insane" check_variable = { which = expedition_sector_danger value = 6 } }
			text = newline
			text = "UniqueAscensionPerksEvents.153.Info"
		}
	}
	show_sound = event_mystic_reveal
	picture = GFX_evt_void_expedition
	location = capital_scope
	is_triggered_only = yes
	option = { name = "UniqueAscensionPerksEvents.153.a" hidden_effect = { expeditition_monthly_event = yes } }
	option = { name = "UniqueAscensionPerksEvents.153.b" ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.160
	title = "UniqueAscensionPerksEvents.160.Name"
	desc = "UniqueAscensionPerksEvents.160.Desc"
	show_sound = event_alien_signal
	picture = GFX_evt_ship_in_orbit
	location = capital_scope
	is_triggered_only = yes
	option = { name = OK ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.161
	title = "UniqueAscensionPerksEvents.161.Name"
	desc = "UniqueAscensionPerksEvents.161.Desc"
	show_sound = event_ship_thrusters
	picture = GFX_evt_cargoship_caravan
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT add_modifier = { modifier = expedition_minerals_loot years = 5 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.162
	title = "UniqueAscensionPerksEvents.162.Name"
	desc = "UniqueAscensionPerksEvents.162.Desc"
	show_sound = event_ship_thrusters
	picture = GFX_evt_caravaneers
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT add_modifier = { modifier = expedition_energy_loot years = 5 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.163
	title = "UniqueAscensionPerksEvents.163.Name"
	desc = "UniqueAscensionPerksEvents.163.Desc"
	show_sound = event_ship_thrusters
	picture = GFX_evt_busy_spaceport
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT add_modifier = { modifier = expedition_alloys_loot years = 5 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.164
	title = "UniqueAscensionPerksEvents.164.Name"
	desc = "UniqueAscensionPerksEvents.164.Desc"
	show_sound = event_mystic_reveal
	picture = GFX_evt_strategic_resources
	location = capital_scope
	is_triggered_only = yes
	option = {
		name = EXCELLENT
		ai_chance = { factor = 0 }
		random_list = {
			10 = { add_resource = { volatile_motes = 1000 } }
			10 = { add_resource = { rare_crystals = 1000 } }
			10 = { add_resource = { exotic_gases = 1000 } }
			10 = { add_resource = { sr_dark_matter = 500 } }
			10 = { add_resource = { sr_zro = 300 } }
			10 = { add_resource = { sr_living_metal = 200 } }
		}
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.165
	title = "UniqueAscensionPerksEvents.165.Name"
	desc = "UniqueAscensionPerksEvents.165.Desc"
	show_sound = event_laboratory_sound
	picture = GFX_evt_physics_research
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT add_modifier = { modifier = expedition_physics_discovery years = 5 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.166
	title = "UniqueAscensionPerksEvents.166.Name"
	desc = "UniqueAscensionPerksEvents.166.Desc"
	show_sound = event_laboratory_sound
	picture = GFX_evt_society_research
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT add_modifier = { modifier = expedition_society_discovery years = 5 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.167
	title = "UniqueAscensionPerksEvents.167.Name"
	desc = "UniqueAscensionPerksEvents.167.Desc"
	show_sound = event_laboratory_sound
	picture = GFX_evt_engineering_research
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT add_modifier = { modifier = expedition_engineering_discovery years = 5 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.168
	title = "UniqueAscensionPerksEvents.168.Name"
	desc = "UniqueAscensionPerksEvents.168.Desc"
	show_sound = event_mystic_reveal
	picture = GFX_evt_gray_gooed_planet
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT add_resource = { nanites = 700 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.169
	title = "UniqueAscensionPerksEvents.169.Name"
	desc = "UniqueAscensionPerksEvents.169.Desc"
	show_sound = event_mystic_reveal
	picture = GFX_evt_star_yellow
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT add_research_option = tech_star_expedition }
}

country_event = {
	id = UniqueAscensionPerksEvents.170
	title = "UniqueAscensionPerksEvents.170.Name"
	desc = "UniqueAscensionPerksEvents.170.Desc"
	show_sound = event_mystic_reveal
	picture = GFX_evt_black_hole
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT add_research_option = tech_blackhole_expedition }
}

country_event = {
	id = UniqueAscensionPerksEvents.171
	title = "UniqueAscensionPerksEvents.171.Name"
	desc = "UniqueAscensionPerksEvents.171.Desc"
	show_sound = event_mystic_reveal
	picture = GFX_evt_star_pulsar
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT add_research_option = tech_pulsar_expedition }
}

country_event = {
	id = UniqueAscensionPerksEvents.172
	title = "UniqueAscensionPerksEvents.172.Name"
	desc = "UniqueAscensionPerksEvents.172.Desc"
	show_sound = event_mystic_reveal
	picture = GFX_evt_star_neutron
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT add_research_option = tech_neutron_expedition }
}

country_event = {
	id = UniqueAscensionPerksEvents.173
	title = "UniqueAscensionPerksEvents.173.Name"
	desc = "UniqueAscensionPerksEvents.173.Desc"
	show_sound = event_mystic_reveal
	picture = GFX_evt_enigmatic_cache
	location = capital_scope
	is_triggered_only = yes
	option = {
		name = EXCELLENT
		ai_chance = { factor = 0 }
		add_monthly_resource_mult = { resource = physics_research value = 12 min = 2000 max = 8000 }
		add_monthly_resource_mult = { resource = society_research value = 12 min = 2000 max = 8000 }
		add_monthly_resource_mult = { resource = engineering_research value = 12 min = 2000 max = 8000 }
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.174
	title = "UniqueAscensionPerksEvents.174.Name"
	desc = "UniqueAscensionPerksEvents.174.Desc"
	show_sound = event_ship_thrusters
	picture = GFX_evt_fleet_neutral
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT expedition_navy_fleet_found = yes }
}

country_event = {
	id = UniqueAscensionPerksEvents.175
	title = "UniqueAscensionPerksEvents.175.Name"
	desc = "UniqueAscensionPerksEvents.175.Desc"
	show_sound = event_mystic_reveal
	picture = GFX_evt_unidentified_monster
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT add_resource = { influence = 75 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.176
	title = "UniqueAscensionPerksEvents.176.Name"
	desc = "UniqueAscensionPerksEvents.176.Desc"
	show_sound = event_ship_thrusters
	picture = GFX_evt_unidentified_ship
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT expedition_navy_titan_found = yes }
}

country_event = {
	id = UniqueAscensionPerksEvents.177
	title = "UniqueAscensionPerksEvents.177.Name"
	desc = "UniqueAscensionPerksEvents.177.Desc"
	show_sound = event_red_alert
	picture = GFX_evt_pirates_attacking_cargo
	location = capital_scope
	is_triggered_only = yes
	option = {
		name = OK
		ai_chance = { factor = 0 }
		custom_tooltip = "expedition.ship.destroyed.1"
		hidden_effect = { change_variable = { which = "expedition_research_ships" value = -1 } }
		add_resource = { minerals = 400 energy = 400 }
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.178
	title = "UniqueAscensionPerksEvents.178.Name"
	desc = "UniqueAscensionPerksEvents.178.Desc"
	show_sound = event_red_alert
	picture = GFX_evt_friendly_amoeba
	location = capital_scope
	is_triggered_only = yes
	option = {
		name = OK
		ai_chance = { factor = 0 }
		custom_tooltip = "expedition.ship.destroyed.2"
		hidden_effect = { change_variable = { which = "expedition_research_ships" value = -2 } }
		add_resource = { food = 250 }
		add_monthly_resource_mult = { resource = society_research value = 1 min = 1000 max = 1000 }
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.179
	title = "UniqueAscensionPerksEvents.179.Name"
	desc = "UniqueAscensionPerksEvents.179.Desc"
	show_sound = event_red_alert
	picture = GFX_evt_fleet_evil
	location = capital_scope
	is_triggered_only = yes
	option = {
		name = OK
		ai_chance = { factor = 0 }
		custom_tooltip = "expedition.ship.destroyed.4"
		hidden_effect = { change_variable = { which = "expedition_research_ships" value = -4 } }
		add_resource = { alloys = 400 minerals = 800 energy = 800 }
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.180
	title = "UniqueAscensionPerksEvents.180.Name"
	desc = "UniqueAscensionPerksEvents.180.Desc"
	show_sound = event_red_alert
	picture = GFX_evt_gray_goo_ships
	location = capital_scope
	is_triggered_only = yes
	option = {
		name = OK
		ai_chance = { factor = 0 }
		custom_tooltip = "expedition.ship.destroyed.8"
		hidden_effect = { change_variable = { which = "expedition_research_ships" value = -8 } }
		add_resource = { nanites = 900 }
		add_monthly_resource_mult = { resource = engineering_research value = 1 min = 2000 max = 2000 }
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.181
	title = "UniqueAscensionPerksEvents.181.Name"
	desc = "UniqueAscensionPerksEvents.181.Desc"
	show_sound = event_red_alert
	picture = GFX_evt_machine_space_battle
	location = capital_scope
	is_triggered_only = yes
	option = {
		name = OK
		ai_chance = { factor = 0 }
		custom_tooltip = "expedition.ship.destroyed.8"
		hidden_effect = { change_variable = { which = "expedition_research_ships" value = -8 } }
		add_resource = { alloys = 1500 }
		add_monthly_resource_mult = { resource = engineering_research value = 1 min = 2000 max = 2000 }
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.182
	title = "UniqueAscensionPerksEvents.182.Name"
	desc = "UniqueAscensionPerksEvents.182.Desc"
	show_sound = event_red_alert
	picture = GFX_evt_space_monster
	location = capital_scope
	is_triggered_only = yes
	option = {
		name = OK
		ai_chance = { factor = 0 }
		custom_tooltip = "expedition.ship.destroyed.16"
		hidden_effect = { change_variable = { which = "expedition_research_ships" value = -16 } }
		add_resource = { influence = 100 }
		add_monthly_resource_mult = { resource = society_research value = 1 min = 4000 max = 4000 }
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.183
	title = "UniqueAscensionPerksEvents.183.Name"
	desc = "UniqueAscensionPerksEvents.183.Desc"
	show_sound = event_red_alert
	picture = GFX_evt_dimensional_horror
	location = capital_scope
	is_triggered_only = yes
	option = {
		name = OK
		ai_chance = { factor = 0 }
		custom_tooltip = "expedition.ship.destroyed.32"
		hidden_effect = { change_variable = { which = "expedition_research_ships" value = -32 } }
		add_resource = { energy = 4000 sr_dark_matter = 1000 }
		add_monthly_resource_mult = { resource = physics_research value = 1 min = 7500 max = 7500 }
	}
}

#######################################
#									 #
######### Mechanical Prophet ##########
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.200
	title = "ap_mechanical_prophet"
	desc = "ap_mechanical_prophet_desc"
	show_sound = event_ai_started
	picture = GFX_evt_mechanical_prophet
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT enable_special_project = { name = MECHANICAL_PROPHET location = capital_scope owner = root } }
}

country_event = {
	id = UniqueAscensionPerksEvents.201
	title = "UniqueAscensionPerksEvents.201.Name"
	desc = "UniqueAscensionPerksEvents.201.Desc"
	show_sound = event_ai_started
	picture = GFX_evt_mechanical_prophet
	location = capital_scope
	is_triggered_only = yes
	immediate = { set_country_flag = ap_mechanical_prophet_project }
	option = { name = EXCELLENT custom_tooltip = "ap_mechanical_prophet_tooltip_2" }
}

country_event = {
	id = UniqueAscensionPerksEvents.202
	title = "UniqueAscensionPerksEvents.202.Name"
	desc = {
		trigger = {
			text = "UniqueAscensionPerksEvents.202.Desc"
			text = newline
			text = "UniqueAscensionPerksEvents.202.Criteria.1"
			text = "UniqueAscensionPerksEvents.202.Criteria.2"
			text = "UniqueAscensionPerksEvents.202.Criteria.3"
			text = "UniqueAscensionPerksEvents.202.Criteria.4"
			text = "UniqueAscensionPerksEvents.202.Criteria.5"
			text = newline
			text = "UniqueAscensionPerksEvents.202.Ask"
		}
	}
	show_sound = event_ai_started
	picture = GFX_evt_mechanical_prophet
	is_triggered_only = yes
	immediate = {
		random_country = { limit = { is_valid_country_for_machine_uprising = yes NOT = { is_same_empire = root } }
			save_event_target_as = country_1
			random_country = { limit = { is_valid_country_for_machine_uprising = yes NOR = { is_same_empire = root is_same_empire = event_target:country_1 } }
				save_event_target_as = country_2
				random_country = { limit = { is_valid_country_for_machine_uprising = yes NOR = { is_same_empire = root is_same_empire = event_target:country_1 is_same_empire = event_target:country_2 } }
					save_event_target_as = country_3
					random_country = { limit = { is_valid_country_for_machine_uprising = yes NOR = { is_same_empire = root is_same_empire = event_target:country_1 is_same_empire = event_target:country_2 is_same_empire = event_target:country_3 } }
						save_event_target_as = country_4
						random_country = { limit = { is_valid_country_for_machine_uprising = yes NOR = { is_same_empire = root is_same_empire = event_target:country_1 is_same_empire = event_target:country_2 is_same_empire = event_target:country_3 is_same_empire = event_target:country_4 } }
							save_event_target_as = country_5
							random_country = { limit = { is_valid_country_for_machine_uprising = yes NOR = { is_same_empire = root is_same_empire = event_target:country_1 is_same_empire = event_target:country_2 is_same_empire = event_target:country_3 is_same_empire = event_target:country_4 is_same_empire = event_target:country_5 } } save_event_target_as = country_6 }
						}
					}
				}
			}
		}
	}
	option = {
		name = "UniqueAscensionPerksEvents.206.Country.1"
		trigger = { exists = event_target:country_1 }
		hidden_effect = { save_event_target_as = MachineEmpireUprisingOrigin event_target:country_1 = { country_event = { id = UniqueAscensionPerksEvents.203 days = 6 random = 7 } set_country_flag = incoming_machine_uprising } }
		custom_tooltip = "UniqueAscensionPerksEvents.202.Country.1.tooltip"
	}
	option = {
		name = "UniqueAscensionPerksEvents.206.Country.2"
		trigger = { exists = event_target:country_2 }
		hidden_effect = { save_event_target_as = MachineEmpireUprisingOrigin event_target:country_2 = { country_event = { id = UniqueAscensionPerksEvents.203 days = 6 random = 7 } set_country_flag = incoming_machine_uprising } }
		custom_tooltip = "UniqueAscensionPerksEvents.202.Country.1.tooltip"
	}
	option = {
		name = "UniqueAscensionPerksEvents.206.Country.3"
		trigger = { exists = event_target:country_3 }
		hidden_effect = { save_event_target_as = MachineEmpireUprisingOrigin event_target:country_3 = { country_event = { id = UniqueAscensionPerksEvents.203 days = 6 random = 7 } set_country_flag = incoming_machine_uprising } }
		custom_tooltip = "UniqueAscensionPerksEvents.202.Country.1.tooltip"
	}
	option = {
		name = "UniqueAscensionPerksEvents.206.Country.4"
		trigger = { exists = event_target:country_4 }
		hidden_effect = { save_event_target_as = MachineEmpireUprisingOrigin event_target:country_4 = { country_event = { id = UniqueAscensionPerksEvents.203 days = 6 random = 7 } set_country_flag = incoming_machine_uprising } }
		custom_tooltip = "UniqueAscensionPerksEvents.202.Country.1.tooltip"
	}
	option = {
		name = "UniqueAscensionPerksEvents.206.Country.5"
		trigger = { exists = event_target:country_5 }
		hidden_effect = { save_event_target_as = MachineEmpireUprisingOrigin event_target:country_5 = { country_event = { id = UniqueAscensionPerksEvents.203 days = 6 random = 7 } set_country_flag = incoming_machine_uprising } }
		custom_tooltip = "UniqueAscensionPerksEvents.202.Country.1.tooltip"
	}
	option = {
		name = "UniqueAscensionPerksEvents.206.Country.6"
		trigger = { exists = event_target:country_6 }
		hidden_effect = { save_event_target_as = MachineEmpireUprisingOrigin event_target:country_6 = { country_event = { id = UniqueAscensionPerksEvents.203 days = 6 random = 7 } set_country_flag = incoming_machine_uprising } }
		custom_tooltip = "UniqueAscensionPerksEvents.202.Country.1.tooltip"
	}
	option = { name = "UniqueAscensionPerks.select_country" hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.202 } } }
	option = { name = "UniqueAscensionPerksEvents.72.Abort" add_resource = { energy = 50000 influence = 200 } ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.203
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		event_target:MachineEmpireUprisingOrigin = { save_event_target_as = MachineEmpireUprisingOrigin }
		remove_country_flag = incoming_machine_uprising
		remove_country_flag = machine_infiltration_completed
		random_owned_planet = { planet_event = { id = UniqueAscensionPerksEvents.204 } }
	}
}

planet_event = {
	id = UniqueAscensionPerksEvents.204
	title = syndaw.1020.name
	desc = { trigger = { owner = { is_materialist = yes } } text = syndaw.1020.desc.mater }
	desc = { trigger = { owner = { is_spiritualist = yes } } text = syndaw.1020.desc.spiri }
	desc = { trigger = { owner = { is_militarist = yes } } text = syndaw.1020.desc.milit }
	desc = { trigger = { owner = { is_pacifist = yes } } text = syndaw.1020.desc.pacif }
	desc = { trigger = { owner = { is_egalitarian = yes } } text = syndaw.1020.desc.egali }
	desc = { trigger = { owner = { is_authoritarian = yes } } text = syndaw.1020.desc.autho }
	desc = { trigger = { owner = { is_xenophile = yes } } text = syndaw.1020.desc.phile }
	desc = { trigger = { owner = { is_xenophobe = yes } } text = syndaw.1020.desc.phobe }
	desc = { trigger = { owner = { NOR = { is_xenophobe = yes is_xenophile = yes is_authoritarian = yes is_egalitarian = yes is_pacifist = yes is_militarist = yes is_spiritualist = yes is_materialist = yes } } } text = syndaw.1020.desc }
	picture = GFX_evt_machine_sapience
	show_sound = event_ai_started
	is_triggered_only = yes
	immediate = { launch_machine_uprising = yes }
	option = { name = syndaw.1020.a custom_tooltip = syndaw.1020.a.tooltip }
	option = { name = syndaw.1020.b custom_tooltip = syndaw.1020.b.tooltip hidden_effect = { if = { limit = { event_target:organic_empire = { num_owned_planets > 0 } } event_target:current_uprising = { set_player = event_target:current_uprising_originator } } } }
	after = { hidden_effect = { event_target:current_uprising_originator = { every_owned_fleet = { set_event_locked = no } } } }
}

country_event = {
	id = UniqueAscensionPerksEvents.205
	hide_window = yes
	is_triggered_only = yes
	immediate = { launch_machine_uprising_settings = yes }
}

country_event = {
	id = UniqueAscensionPerksEvents.206
	title = "edict_machine_infiltration_menu"
	desc = {
		trigger = {
			text = "UniqueAscensionPerksEvents.206.Desc"
			text = newline
			text = "UniqueAscensionPerksEvents.206.Criteria.1"
			text = "UniqueAscensionPerksEvents.206.Criteria.2"
			text = "UniqueAscensionPerksEvents.206.Criteria.3"
			text = "UniqueAscensionPerksEvents.206.Criteria.4"
			text = "UniqueAscensionPerksEvents.206.Criteria.5"
			text = "UniqueAscensionPerksEvents.206.Criteria.6"
			text = newline
			text = "UniqueAscensionPerksEvents.206.Ask"
		}
	}
	show_sound = event_robo
	picture = GFX_evt_robot_assembly_plant
	is_triggered_only = yes
	immediate = {
		random_country = { limit = { is_valid_country_for_machine_infiltration = yes NOT = { is_same_empire = root } }
			save_event_target_as = country_1
			random_country = { limit = { is_valid_country_for_machine_infiltration = yes NOR = { is_same_empire = root is_same_empire = event_target:country_1 } }
				save_event_target_as = country_2
				random_country = { limit = { is_valid_country_for_machine_infiltration = yes NOR = { is_same_empire = root is_same_empire = event_target:country_1 is_same_empire = event_target:country_2 } }
					save_event_target_as = country_3
					random_country = { limit = { is_valid_country_for_machine_infiltration = yes NOR = { is_same_empire = root is_same_empire = event_target:country_1 is_same_empire = event_target:country_2 is_same_empire = event_target:country_3 } }
						save_event_target_as = country_4
						random_country = { limit = { is_valid_country_for_machine_infiltration = yes NOR = { is_same_empire = root is_same_empire = event_target:country_1 is_same_empire = event_target:country_2 is_same_empire = event_target:country_3 is_same_empire = event_target:country_4 } }
							save_event_target_as = country_5
							random_country = { limit = { is_valid_country_for_machine_infiltration = yes NOR = { is_same_empire = root is_same_empire = event_target:country_1 is_same_empire = event_target:country_2 is_same_empire = event_target:country_3 is_same_empire = event_target:country_4 is_same_empire = event_target:country_5 } } save_event_target_as = country_6 }
						}
					}
				}
			}
		}
	}
	option = {
		name = "UniqueAscensionPerksEvents.206.Country.1"
		trigger = { exists = event_target:country_1 }
		hidden_effect = { save_event_target_as = MachineEmpireInfiltrationOrigin event_target:country_1 = { country_event = { id = UniqueAscensionPerksEvents.207 days = 60 random = 300 } set_country_flag = incoming_machine_infiltration } }
		custom_tooltip = "UniqueAscensionPerksEvents.206.Country.1.tooltip"
	}
	option = {
		name = "UniqueAscensionPerksEvents.206.Country.2"
		trigger = { exists = event_target:country_2 }
		hidden_effect = { save_event_target_as = MachineEmpireInfiltrationOrigin event_target:country_2 = { country_event = { id = UniqueAscensionPerksEvents.207 days = 60 random = 300 } set_country_flag = incoming_machine_infiltration } }
		custom_tooltip = "UniqueAscensionPerksEvents.206.Country.1.tooltip"
	}
	option = {
		name = "UniqueAscensionPerksEvents.206.Country.3"
		trigger = { exists = event_target:country_3 }
		hidden_effect = { save_event_target_as = MachineEmpireInfiltrationOrigin event_target:country_3 = { country_event = { id = UniqueAscensionPerksEvents.207 days = 60 random = 300 } set_country_flag = incoming_machine_infiltration } }
		custom_tooltip = "UniqueAscensionPerksEvents.206.Country.1.tooltip"
	}
	option = {
		name = "UniqueAscensionPerksEvents.206.Country.4"
		trigger = { exists = event_target:country_4 }
		hidden_effect = { save_event_target_as = MachineEmpireInfiltrationOrigin event_target:country_4 = { country_event = { id = UniqueAscensionPerksEvents.207 days = 60 random = 300 } set_country_flag = incoming_machine_infiltration } }
		custom_tooltip = "UniqueAscensionPerksEvents.206.Country.1.tooltip"
	}
	option = {
		name = "UniqueAscensionPerksEvents.206.Country.5"
		trigger = { exists = event_target:country_5 }
		hidden_effect = { save_event_target_as = MachineEmpireInfiltrationOrigin event_target:country_5 = { country_event = { id = UniqueAscensionPerksEvents.207 days = 60 random = 300 } set_country_flag = incoming_machine_infiltration } }
		custom_tooltip = "UniqueAscensionPerksEvents.206.Country.1.tooltip"
	}
	option = {
		name = "UniqueAscensionPerksEvents.206.Country.6"
		trigger = { exists = event_target:country_6 }
		hidden_effect = { save_event_target_as = MachineEmpireInfiltrationOrigin event_target:country_6 = { country_event = { id = UniqueAscensionPerksEvents.207 days = 60 random = 300 } set_country_flag = incoming_machine_infiltration } }
		custom_tooltip = "UniqueAscensionPerksEvents.206.Country.1.tooltip"
	}
	option = { name = "UniqueAscensionPerks.select_country" hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.206 } } }
	option = { name = "UniqueAscensionPerksEvents.72.Abort" add_resource = { energy = 10000 unity = 2500 influence = 75 } ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.207
	is_triggered_only = yes
	hide_window = yes
	immediate = {
		remove_country_flag = incoming_machine_infiltration
		random_list = {
			20 = {
				modifier = { factor = 2.0 has_technology = tech_combat_computers_3 }
				modifier = { factor = 2.0 has_technology = tech_synthetic_workers }
				modifier = { factor = 1.5 has_technology = tech_droid_workers }
				modifier = { factor = 1.5 any_owned_pop = { pop_has_trait = trait_mechanical } }
				modifier = { factor = 1.1 has_technology = tech_robotic_workers }
				set_country_flag = incoming_machine_infiltration_success
			}
			10 = {
				modifier = { factor = 2.0 has_ascension_perk = ap_mind_over_matter }
				modifier = { factor = 3.0 has_country_flag = machine_infiltration_aware }
				set_country_flag = incoming_machine_infiltration_failure
			}
		}
		if = {
			limit = { has_country_flag = incoming_machine_infiltration_success }
			remove_country_flag = incoming_machine_infiltration_success
			set_country_flag = machine_infiltration_completed
			save_event_target_as = MachineEmpireInfiltrationTarget
			event_target:MachineEmpireInfiltrationOrigin = { country_event = { id = UniqueAscensionPerksEvents.208 } }
		} else_if = {
			limit = { has_country_flag = incoming_machine_infiltration_failure }
			remove_country_flag = incoming_machine_infiltration_failure
			save_event_target_as = MachineEmpireInfiltrationTarget
			set_timed_country_flag = { flag = machine_infiltration_aware years = 5 }
			event_target:MachineEmpireInfiltrationOrigin = { country_event = { id = UniqueAscensionPerksEvents.209 } }
		}
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.208
	title = "UniqueAscensionPerksEvents.208.Name"
	desc = "UniqueAscensionPerksEvents.208.Desc"
	is_triggered_only = yes
	show_sound = event_robo
	picture = GFX_evt_mechanical_prophet
	option = { name = EXCELLENT }
}

country_event = {
	id = UniqueAscensionPerksEvents.209
	title = "UniqueAscensionPerksEvents.209.Name"
	desc = "UniqueAscensionPerksEvents.209.Desc"
	is_triggered_only = yes
	show_sound = event_ai_started
	picture = GFX_evt_mechanical_prophet
	option = {
		name = "UniqueAscensionPerksEvents.209.a"
		event_target:MachineEmpireInfiltrationTarget = { add_opinion_modifier = { who = root modifier = opinion_failed_machine_infiltration } }
		ai_chance = { factor = 0 }
		custom_tooltip = "UniqueAscensionPerksEvents.209.a.tooltip"
	}
}

#######################################
#									 #
########## Defense Sentinels ##########
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.230
	title = "ap_defense_sentinels"
	desc = "ap_defense_sentinels_desc"
	show_sound = event_ai_started
	picture = GFX_evt_defense_sentinels
	location = capital_scope
	is_triggered_only = yes
	immediate = { create_defense_sentinels_country = yes }
	option = { name = EXCELLENT }
}

country_event = {
	id = UniqueAscensionPerksEvents.231
	hide_window = yes
	mean_time_to_happen = { days = 14 }
	trigger = {
		has_ascension_perk = ap_defense_sentinels
		any_country = { is_country_type = defense_sentinels has_relation_flag = { who = root flag = defense_sentinels } }
	}
	immediate =	{
		# defense_sentinels_idle_fleet_selection = yes
		save_event_target_as = main_country
		random_country = {
			limit = {
				is_country_type = defense_sentinels
				has_country_flag = defense_sentinels
				has_relation_flag = { who = root flag = defense_sentinels }
			}
			save_event_target_as = domesticated_spaceborn_alien
			every_owned_fleet = { # Select Fleets
				limit = {
					has_fleet_flag = defense_sentinels_fleet
					NOT = { has_fleet_flag = defense_sentinels_fleet_defending_order }
					OR = {
						AND = {
							has_fleet_flag = defense_sentinels_fleet_patroling
							OR = {
								is_fleet_idle = yes
								NOT = { has_fleet_flag = defense_sentinels_fleet_patroling_order }
								root = { any_system_within_border = { any_ship_in_system = { is_valid_target_for_domesticated_aliens_security = yes } } }
							}
						}
						AND = {
							has_fleet_flag = defense_sentinels_fleet_defending
							is_fleet_idle = yes
						}
						AND = {
							NOR = {
								has_fleet_flag = defense_sentinels_fleet_patroling
								has_fleet_flag = defense_sentinels_fleet_defending
							}
							is_fleet_idle = yes
						}
					}
				}
				fleet_event = { id = UniqueAscensionPerksEvents.232 days = 1 random = 2 }
			}
		}
	}
}
# MTTH days = 14
fleet_event = {
	id = UniqueAscensionPerksEvents.232
	hide_window = yes
	is_triggered_only = yes
	immediate =	{
		# defense_sentinels_idle_fleet_action = yes
		owner = {
			save_event_target_as = domesticated_spaceborn_alien
			if = { limit = { NOT = { exists = event_target:main_country } }
				if = { limit = { exists = from from = { reverse_has_relation_flag = { who = prev flag = defense_sentinels } } }
					from = { save_event_target_as = main_country }
				} else = {
					random_country = {
						limit = { reverse_has_relation_flag = { who = prev flag = defense_sentinels } }
						save_event_target_as = main_country
					}
				}
			}
		}
		if = { # Defense & Patrol
			limit = { has_fleet_flag = defense_sentinels_fleet NOT = { has_fleet_flag = defense_sentinels_fleet_defending_order } }
			if = {
				limit = { event_target:main_country = { any_system_within_border = { any_ship_in_system = { is_valid_target_for_domesticated_aliens_security = yes } } } }
				event_target:main_country = {
					random_system_within_border = {
						limit = { any_ship_in_system = { is_valid_target_for_domesticated_aliens_security = yes } }
						random_fleet_in_system = {
							limit = { is_valid_target_for_domesticated_aliens_security = yes }
							save_event_target_as = defense_sentinels_fleet_defend_against
							random = { chance = 10 set_timed_fleet_flag = { flag = defense_sentinels_fleet_defend_against_no_more_defenders days = 180 } }
						}
					}
				}
				save_event_target_as = defense_sentinels_fleet_defending
				set_fleet_flag = defense_sentinels_fleet_defending
				set_timed_fleet_flag = { flag = defense_sentinels_fleet_defending_order days = 45 }
				remove_auto_move_target = yes
				auto_follow_fleet = { target = event_target:defense_sentinels_fleet_defend_against attack_fleet = yes } else = {
					event_target:main_country = { random_planet_within_border = { save_event_target_as = defense_sentinels_fleet_destination } }
					save_event_target_as = defense_sentinels_fleet_patroling
					set_fleet_flag = defense_sentinels_fleet_patroling
					set_timed_fleet_flag = { flag = defense_sentinels_fleet_defending_order days = 10 }
					set_timed_fleet_flag = { flag = defense_sentinels_fleet_patroling_order days = 120 }
					auto_move_to_planet = { target = event_target:defense_sentinels_fleet_destination clear_auto_move_on_arrival = no }
				}
			}
		}
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.233
	hide_window = yes
	mean_time_to_happen = { months = 2 } # 14
	trigger = {
		has_ascension_perk = ap_defense_sentinels
		any_country = {
			is_country_type = defense_sentinels
			has_relation_flag = { who = root flag = defense_sentinels }
			OR = {
				# AND = { num_fleets < 5 ROOT = { NOT = { has_technology = tech_defense_sentinels_1 has_technology = tech_defense_sentinels_2 has_technology = tech_defense_sentinels_3 } } }
				# AND = { num_fleets < 10 ROOT = { has_technology = tech_defense_sentinels_1 NOT = { has_technology = tech_defense_sentinels_2 has_technology = tech_defense_sentinels_3 } } }
				# AND = { num_fleets < 20 ROOT = { has_technology = tech_defense_sentinels_1 has_technology = tech_defense_sentinels_2 NOT = { has_technology = tech_defense_sentinels_3 } } }
				# AND = { num_fleets < 30 ROOT = { has_technology = tech_defense_sentinels_1 has_technology = tech_defense_sentinels_2 has_technology = tech_defense_sentinels_3 } }
				AND = { count_owned_ship = { limit = { is_ship_size = small_ship_ai } count < 75 } ROOT = { NOT = { has_technology = tech_defense_sentinels_1 has_technology = tech_defense_sentinels_2 has_technology = tech_defense_sentinels_3 } } }
				AND = { count_owned_ship = { limit = { is_ship_size = small_ship_ai } count < 150 } ROOT = { has_technology = tech_defense_sentinels_1 NOT = { has_technology = tech_defense_sentinels_2 has_technology = tech_defense_sentinels_3 } } }
				AND = { count_owned_ship = { limit = { is_ship_size = small_ship_ai } count < 300 } ROOT = { has_technology = tech_defense_sentinels_1 has_technology = tech_defense_sentinels_2 NOT = { has_technology = tech_defense_sentinels_3 } } }
				AND = { count_owned_ship = { limit = { is_ship_size = small_ship_ai } count < 450 } ROOT = { has_technology = tech_defense_sentinels_1 has_technology = tech_defense_sentinels_2 has_technology = tech_defense_sentinels_3 } }
				# event_target:the_ally_faction = { count_owned_ship = { limit = { is_ship_size = small_ship_ai } count < 50 } }
			}
		}
	}
	immediate =	{
		# create_defense_sentinels_fleet = yes
		create_defense_sentinels_country = yes
		random_planet_within_border = {
			limit = { has_planet_flag = defense_sentinels_home }
			weights = { base = 1 modifier = { add = 5 is_sector_capital = no } }
			save_event_target_as = spawn_location
		}
		event_target:defense_sentinels = {
			create_fleet = {
				name = NAME_defense_sentinels
				settings = { spawn_debris = no }
				effect = {
					set_owner = prev
					defense_sentinels_spawn_default_fleet = yes
					set_location = { target = event_target:spawn_location distance = 10 angle = random }
					set_fleet_stance = aggressive
					set_aggro_range_measure_from = self
					set_aggro_range = 5000
					set_formation_scale = 1.0
					save_event_target_as = defense_sentinels_fleet
					set_fleet_flag = defense_sentinels_fleet
				}
			}
		}
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.239
	hide_window = yes
	mean_time_to_happen = { months = 2 } # 14
	trigger = {
		has_ascension_perk = ap_defense_sentinels
		has_country_flag = ap_defense_sentinels_retriever_project
		any_country = {
			is_country_type = defense_sentinels
			has_relation_flag = { who = root flag = defense_sentinels }
			count_owned_ship = { limit = { is_ship_size = large_ship_ai } count < 20 }
		}
	}
	immediate =	{ create_retriever_sentinels_fleet = yes }
}

# on_yearly_pulse
# event = {
# 	id = UniqueAscensionPerksEvents.234
# 	hide_window = yes
# 	is_triggered_only = yes
# 	immediate = {
# 		random_playable_country = {
# 			limit = {
# 				has_ascension_perk = ap_defense_sentinels
# 				has_technology = tech_defense_sentinels_2
# 				NOT = { has_country_flag = ap_defense_sentinels_retriever_project_check }
# 			}
# 			set_country_flag = ap_defense_sentinels_retriever_project_check
# 			country_event = { id = UniqueAscensionPerksEvents.235 }
# 		}
# 	}
# }
# on_yearly_pulse_country
country_event = {
	id = UniqueAscensionPerksEvents.235
	title = "RETRIEVER_SENTINEL"
	desc = "RETRIEVER_SENTINEL_DESC"
	show_sound = event_ai_started
	picture = GFX_evt_retriever_sentinel
	location = capital_scope
	is_triggered_only = yes
	trigger = {
		has_ascension_perk = ap_defense_sentinels
		has_technology = tech_defense_sentinels_2
		NOR = {
			has_country_flag = ap_defense_sentinels_retriever_project_check
			has_country_flag = ap_defense_sentinels_retriever_project
		}
	}
	immediate = {
		set_country_flag = ap_defense_sentinels_retriever_project_check
	}
	option = { name = EXCELLENT enable_special_project = { name = RETRIEVER_SENTINEL location = capital_scope owner = root } }
}

country_event = {
	id = UniqueAscensionPerksEvents.236
	title = "UniqueAscensionPerksEvents.236.Name"
	desc = "UniqueAscensionPerksEvents.236.Desc"
	show_sound = event_ai_started
	picture = GFX_evt_retriever_sentinel
	location = capital_scope
	is_triggered_only = yes
	immediate =	{
		set_country_flag = ap_defense_sentinels_retriever_project
		remove_country_flag = ap_defense_sentinels_retriever_project_check # TODO TEST BUG REPORT
		while = { count = 3 create_retriever_sentinels_fleet = yes }
	}
	option = { name = EXCELLENT }
}

country_event = {
	id = UniqueAscensionPerksEvents.237
	hide_window = yes
	mean_time_to_happen = { months = 6 }
	trigger = {
		has_country_flag = ap_defense_sentinels_retriever_project
		any_owned_planet = { NOT = { has_planet_flag = defense_sentinels_planet } }
		any_country = { is_country_type = defense_sentinels has_relation_flag = { who = root flag = defense_sentinels } }
	}
	immediate = {
		create_defense_sentinels_country = yes
		random_owned_planet = {
			limit = { NOT = { has_planet_flag = defense_sentinels_planet } }
			weights = { base = 1 modifier = { add = 5 is_sector_capital = no } }
			save_event_target_as = spawn_location
			set_timed_planet_flag = { flag = defense_sentinels_planet years = 15 }
			event_target:defense_sentinels = {
				create_fleet = {
					name = NAME_defense_sentinels
					settings = { spawn_debris = no }
					effect = {
						set_owner = prev
						create_ship = { name = "" design = "Defense Sentinel - Fortress" graphical_culture = "ai_01" }
						set_location = { target = event_target:spawn_location distance = 8 angle = random }
						set_fleet_flag = defense_sentinels_fortress
					}
				}
			}
		}
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.238
	hide_window = yes
	mean_time_to_happen = { years = 1 }
	trigger = {
		has_ascension_perk = ap_defense_sentinels
		any_system_within_border = { NOR = { any_fleet_in_system = { has_fleet_flag = defense_sentinels_platforms } has_star_flag = defense_sentinels_system } }
	}
	immediate = {
		create_defense_sentinels_country = yes
		random_system_within_border = {
			limit = { NOR = { any_fleet_in_system = { has_fleet_flag = defense_sentinels_platforms } has_star_flag = defense_sentinels_system } }
			weights = { base = 1 modifier = { add = 5 is_capital_system = no } }
			set_timed_star_flag = { flag = defense_sentinels_system years = 15 }
			star = { save_event_target_as = spawn_location }
			event_target:defense_sentinels = {
				create_fleet = {
					name = NAME_defense_sentinels
					settings = { spawn_debris = no }
					effect = {
						set_owner = prev
						create_ship = { name = "" design = "Defense Sentinel - Platform" graphical_culture = "ai_01" }
						set_location = { target = event_target:spawn_location distance = 100 angle = random }
						set_fleet_flag = defense_sentinels_platforms
					}
				}
				while = {
					count = 2
					random = {
						chance = 40
						create_fleet = {
							name = NAME_defense_sentinels
							settings = { spawn_debris = no }
							effect = {
								set_owner = prev
								create_ship = { name = "" design = "Defense Sentinel - Platform" graphical_culture = "ai_01" }
								set_location = { target = event_target:spawn_location distance = 100 angle = random }
								set_fleet_flag = defense_sentinels_platforms
							}
						}
					}
				}
			}
		}
	}
}

#######################################
#									 #
########## Leadership Upload ##########
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.250
	title = "ap_leadership_transfer"
	desc = "ap_leadership_transfer_desc"
	picture = GFX_evt_machine_sapience
	show_sound = event_psionic
	location = from
	is_triggered_only = yes
	option = { name = EXCELLENT hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.251 } } add_resource = { energy = 800 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.251
	title = "UniqueAscensionPerksEvents.251.Name"
	desc = "UniqueAscensionPerksEvents.251.Desc"
	picture = GFX_evt_machine_sapience
	show_sound = event_psionic
	location = from
	is_triggered_only = yes
	immediate = {
		random_owned_leader = { limit = { NOT = { leader_class = ruler } } save_event_target_as = leader_1 }
		random_owned_leader = { limit = { NOR = { leader_class = ruler is_same_value = event_target:leader_1 } } save_event_target_as = leader_2 }
		random_owned_leader = { limit = { NOR = { leader_class = ruler is_same_value = event_target:leader_1 is_same_value = event_target:leader_2 } } save_event_target_as = leader_3 }
		random_owned_leader = { limit = { NOR = { leader_class = ruler is_same_value = event_target:leader_1 is_same_value = event_target:leader_2 is_same_value = event_target:leader_3 } } save_event_target_as = leader_4 }
		random_owned_leader = { limit = { NOR = { leader_class = ruler is_same_value = event_target:leader_1 is_same_value = event_target:leader_2 is_same_value = event_target:leader_3 is_same_value = event_target:leader_4 } } save_event_target_as = leader_5 }
		random_owned_leader = { limit = { NOR = { leader_class = ruler is_same_value = event_target:leader_1 is_same_value = event_target:leader_2 is_same_value = event_target:leader_3 is_same_value = event_target:leader_4 is_same_value = event_target:leader_5 } } save_event_target_as = leader_6 }
		random_owned_leader = { limit = { NOR = { leader_class = ruler is_same_value = event_target:leader_1 is_same_value = event_target:leader_2 is_same_value = event_target:leader_3 is_same_value = event_target:leader_4 is_same_value = event_target:leader_5 is_same_value = event_target:leader_6 } } save_event_target_as = leader_7 }
		random_owned_leader = { limit = { NOR = { leader_class = ruler is_same_value = event_target:leader_1 is_same_value = event_target:leader_2 is_same_value = event_target:leader_3 is_same_value = event_target:leader_4 is_same_value = event_target:leader_5 is_same_value = event_target:leader_6 is_same_value = event_target:leader_7 } } save_event_target_as = leader_8 }
	}
	option = { name = "UniqueAscensionPerksEvents.251.Leader.1" trigger = { exists = event_target:leader_1 } hidden_effect = { event_target:leader_1 = { save_event_target_as = leader_uploaded } country_event = { id = UniqueAscensionPerksEvents.252 } } }
	option = { name = "UniqueAscensionPerksEvents.251.Leader.2" trigger = { exists = event_target:leader_2 } hidden_effect = { event_target:leader_2 = { save_event_target_as = leader_uploaded } country_event = { id = UniqueAscensionPerksEvents.252 } } }
	option = { name = "UniqueAscensionPerksEvents.251.Leader.3" trigger = { exists = event_target:leader_3 } hidden_effect = { event_target:leader_3 = { save_event_target_as = leader_uploaded } country_event = { id = UniqueAscensionPerksEvents.252 } } }
	option = { name = "UniqueAscensionPerksEvents.251.Leader.4" trigger = { exists = event_target:leader_4 } hidden_effect = { event_target:leader_4 = { save_event_target_as = leader_uploaded } country_event = { id = UniqueAscensionPerksEvents.252 } } }
	option = { name = "UniqueAscensionPerksEvents.251.Leader.5" trigger = { exists = event_target:leader_5 } hidden_effect = { event_target:leader_5 = { save_event_target_as = leader_uploaded } country_event = { id = UniqueAscensionPerksEvents.252 } } }
	option = { name = "UniqueAscensionPerksEvents.251.Leader.6" trigger = { exists = event_target:leader_6 } hidden_effect = { event_target:leader_6 = { save_event_target_as = leader_uploaded } country_event = { id = UniqueAscensionPerksEvents.252 } } }
	option = { name = "UniqueAscensionPerksEvents.251.Leader.7" trigger = { exists = event_target:leader_7 } hidden_effect = { event_target:leader_7 = { save_event_target_as = leader_uploaded } country_event = { id = UniqueAscensionPerksEvents.252 } } }
	option = { name = "UniqueAscensionPerksEvents.251.Leader.8" trigger = { exists = event_target:leader_8 } hidden_effect = { event_target:leader_8 = { save_event_target_as = leader_uploaded } country_event = { id = UniqueAscensionPerksEvents.252 } } }
	option = { name = "UniqueAscensionPerks.select_leader" hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.251 } } }
	option = { name = ABORT ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.252
	title = "UniqueAscensionPerksEvents.252.Name"
	desc = "UniqueAscensionPerksEvents.252.Desc"
	picture = GFX_evt_machine_sapience
	show_sound = event_psionic
	location = from
	is_triggered_only = yes
	immediate = { event_target:leader_uploaded = { save_event_target_as = leader_uploaded } set_variable = { which = "uploaded_leader_number" value = 0 } }
	option = { name = "UniqueAscensionPerksEvents.252.1" allow = { resource_stockpile_compare = { resource = energy value > 800 } } add_resource = { energy = -800 } hidden_effect = { while = { count = 1 make_leader_upload = yes } country_event = { id = UniqueAscensionPerksEvents.253 } } }
	option = { name = "UniqueAscensionPerksEvents.252.2" allow = { resource_stockpile_compare = { resource = energy value > 1600 } } add_resource = { energy = -1600 } hidden_effect = { while = { count = 2 make_leader_upload = yes } country_event = { id = UniqueAscensionPerksEvents.253 } } }
	option = { name = "UniqueAscensionPerksEvents.252.3" allow = { resource_stockpile_compare = { resource = energy value > 2400 } } add_resource = { energy = -2400 } hidden_effect = { while = { count = 3 make_leader_upload = yes } country_event = { id = UniqueAscensionPerksEvents.253 } } }
	option = { name = "UniqueAscensionPerksEvents.252.4" allow = { resource_stockpile_compare = { resource = energy value > 3200 } } add_resource = { energy = -3200 } hidden_effect = { while = { count = 4 make_leader_upload = yes } country_event = { id = UniqueAscensionPerksEvents.253 } } }
	option = { name = "UniqueAscensionPerksEvents.252.5" allow = { resource_stockpile_compare = { resource = energy value > 4000 } } add_resource = { energy = -4000 } hidden_effect = { while = { count = 5 make_leader_upload = yes } country_event = { id = UniqueAscensionPerksEvents.253 } } }
	option = { name = "UniqueAscensionPerksEvents.252.6" allow = { resource_stockpile_compare = { resource = energy value > 4800 } } add_resource = { energy = -4800 } hidden_effect = { while = { count = 6 make_leader_upload = yes } country_event = { id = UniqueAscensionPerksEvents.253 } } }
	option = { name = "UniqueAscensionPerksEvents.252.7" allow = { resource_stockpile_compare = { resource = energy value > 5600 } } add_resource = { energy = -5600 } hidden_effect = { while = { count = 7 make_leader_upload = yes } country_event = { id = UniqueAscensionPerksEvents.253 } } }
	option = { name = ABORT ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.253
	title = "UniqueAscensionPerksEvents.253.Name"
	desc = "UniqueAscensionPerksEvents.253.Desc"
	picture = GFX_evt_machine_sapience
	show_sound = event_psionic
	location = capital_scope
	is_triggered_only = yes
	immediate = { event_target:leader_uploaded = { save_event_target_as = leader_uploaded } }
	option = { name = "UniqueAscensionPerks.lets_again" hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.251 } } }
	option = { name = EXCELLENT }
}

#######################################
#									 #
###### Civilian Space Activities ######
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.260
	title = "ap_civilian_activities"
	desc = "ap_civilian_activities_desc"
	show_sound = event_construction
	picture = GFX_evt_civilian_activities
	location = capital_scope
	is_triggered_only = yes
	option = {
		name = EXCELLENT
		tooltip = { add_research_option = tech_factory_ship }
		enable_special_project = { name = CIVILIAN_ACTIVITIES_PROJECT location = capital_scope owner = root }
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.261
	title = "UniqueAscensionPerksEvents.261.Name"
	desc = "UniqueAscensionPerksEvents.261.Desc"
	show_sound = event_construction
	picture = GFX_evt_civilian_activities
	location = capital_scope
	is_triggered_only = yes
	immediate = {
		set_country_flag = ap_civilian_activities_project
		if = { limit = { can_research_technology = tech_factory_ship }
			add_tech_progress = { tech = tech_factory_ship progress = 0.15 }
		}
	}
	option = {
		name = EXCELLENT
		tooltip = { add_resource = { influence = 100 unity = 1000 } }
		custom_tooltip = "decision_civilian_cargo_unlock"
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.262
	hide_window = yes
	mean_time_to_happen = { months = 4 }
	trigger = {
		has_country_flag = ap_civilian_activities_project
		num_owned_planets > 1
		NOT = { has_country_flag = spawned_civilian_convoy_fleet_cooldown }
		any_owned_planet = { is_valid_planet_for_civilian_space_activities_create_resources_transport = yes }
	}
	immediate =	{
		set_timed_country_flag = { flag = spawned_civilian_convoy_fleet_cooldown months = 6 }
		random_owned_planet = {
			limit = { is_valid_planet_for_civilian_space_activities_create_resources_transport = yes }
			weights = {
				base = 10
				modifier = { add = 100 has_planet_flag = civilian_cargo_focus }
				modifier = { add = -8 has_planet_flag = spawned_civilian_convoy_fleet_used }
			}
			# civilian_space_activities_create_resources_transport = yes
			save_event_target_as = spawn_location
			if = { limit = { owner = { is_ai = no NOT = { has_country_flag = ap_civilian_activities_no_warning } } } planet_event = { id = UniqueAscensionPerksEvents.263 } }
			set_timed_planet_flag = { flag = spawned_civilian_convoy_fleet months = 2 }
			if = { limit = { NOR = { has_planet_flag = civilian_cargo_focus } } set_timed_planet_flag = { flag = spawned_civilian_convoy_fleet_used years = 3 } }
			owner = {
				# create_civilian_activities_country = yes
				if = {
					limit = { any_country = { is_country_type = civilian_activities has_relation_flag = { who = root flag = civilian_activities_country } } }
					random_country = {
						limit = { is_country_type = civilian_activities has_relation_flag = { who = root flag = civilian_activities_country } }
						save_event_target_as = civilian_activities_country
					}
				} else = {
					create_country = {
						name = "Civilian Faction"
						type = civilian_activities
						flag = {
							icon = { category = "spherical" file = "flag_spherical_3.dds" }
							background = { category = "backgrounds" file = "triangle_split.dds" }
							colors = { "yellow" "blue" "null" "null" }
						}
						effect = {
							random_country = {
								limit = { has_communications = root }
								establish_communications_no_message = prev
							}
							set_name = "[Root.GetSpeciesNamePlural] Civilian Faction"
							randomize_flag_symbol = "corporate"
							save_event_target_as = civilian_activities_country
							set_country_flag = civilian_activities_country
							set_relation_flag = { who = root flag = civilian_activities_country }
							set_subject_of = { who = root subject_type = space_dimestication }
						}
					}
				}
			}
			create_civilian_activities_convoy = yes
			if = { limit = { num_pops > 100 owner = { num_owned_planets > 7 } } while = { count = 6 random = { chance = 50 create_civilian_activities_convoy = yes } } }
			else_if = { limit = { num_pops > 90 owner = { num_owned_planets > 6 } } while = { count = 5 random = { chance = 50 create_civilian_activities_convoy = yes } } }
			else_if = { limit = { num_pops > 80 owner = { num_owned_planets > 5 } } while = { count = 4 random = { chance = 50 create_civilian_activities_convoy = yes } } }
			else_if = { limit = { num_pops > 60 owner = { num_owned_planets > 4 } } while = { count = 3 random = { chance = 50 create_civilian_activities_convoy = yes } } }
			else_if = { limit = { num_pops > 40 owner = { num_owned_planets > 3 } } while = { count = 2 random = { chance = 50 create_civilian_activities_convoy = yes } } }
			else_if = { limit = { num_pops > 20 owner = { num_owned_planets > 2 } } while = { count = 1 random = { chance = 50 create_civilian_activities_convoy = yes } } }
		}
	}
}

planet_event = {
	id = UniqueAscensionPerksEvents.263
	title = "UniqueAscensionPerksEvents.263.Name"
	desc = {
		trigger = {
			success_text = { text = "UniqueAscensionPerksEvents.263.Desc.Capital" OR = { has_designation = col_capital has_designation = col_capital_hive has_designation = col_capital_machine } }
			success_text = { text = "UniqueAscensionPerksEvents.263.Desc.Mining" OR = { has_designation = col_generator has_designation = col_habitat_energy } }
			success_text = { text = "UniqueAscensionPerksEvents.263.Desc.Mining" OR = { has_designation = col_mining has_designation = col_habitat_mining } }
			success_text = { text = "UniqueAscensionPerksEvents.263.Desc.Aggri" has_designation = col_farming }
			success_text = { text = "UniqueAscensionPerksEvents.263.Desc.Indus" OR = { has_designation = col_factory has_designation = col_ecu_factory has_designation = col_mac_factory has_designation = col_habitat_factory } }
			success_text = { text = "UniqueAscensionPerksEvents.263.Desc.Forge" OR = { has_designation = col_foundry has_designation = col_ecu_foundry has_designation = col_mac_foundry has_designation = col_hiv_foundry has_designation = col_habitat_foundry } }
			success_text = { text = "UniqueAscensionPerksEvents.263.Desc.Tech" OR = { has_designation = col_research has_designation = col_ecu_research has_designation = col_habitat_research } }
			success_text = { text = "UniqueAscensionPerksEvents.263.Desc.Refine" OR = { has_designation = col_refinery has_designation = col_habitat_refinery has_designation = col_habitat_mining } }
			success_text = { text = "UniqueAscensionPerksEvents.263.Desc.Trade" has_designation = col_habitat_trade }
			success_text = { text = "UniqueAscensionPerksEvents.263.Desc.Urban" OR = { has_designation = col_city has_designation = col_ecu_mix } }
			success_text = { text = "UniqueAscensionPerksEvents.263.Desc.Nest" OR = { has_designation = col_hive has_designation = col_hiv } }
			success_text = { text = "UniqueAscensionPerksEvents.263.Desc.Nexus" OR = { has_designation = col_nexus has_designation = col_mac } }
			success_text = { text = "UniqueAscensionPerksEvents.263.Desc.Urban" OR = { has_designation = col_rural has_designation = col_habitat_mining } }
			success_text = { text = "UniqueAscensionPerksEvents.263.Desc.Colony" OR = { has_designation = col_default has_designation = col_default_machine has_designation = col_habitat has_designation = col_fe_colony has_designation = col_ring_mix } }
			success_text = { text = "UniqueAscensionPerksEvents.263.Desc.Fortress" OR = { has_designation = col_fortress has_designation = col_habitat_fortress } }
		}
	}
	show_sound = event_ship_thrusters
	picture = GFX_evt_busy_spaceport
	location = root
	is_triggered_only = yes
	trigger = { owner = { is_ai = no NOT = { has_country_flag = ap_civilian_activities_no_warning } } }
	option = { name = OK ai_chance = { factor = 0 } }
	option = {
		name = "UniqueAscensionPerks.no_message"
		custom_tooltip = "UniqueAscensionPerks.no_message.tooltip"
		owner = { set_country_flag = ap_civilian_activities_no_warning }
	}
}

planet_event = {
	id = UniqueAscensionPerksEvents.264
	title = "UniqueAscensionPerksEvents.264.Name"
	desc = {
		trigger = {
			success_text = { text = "UniqueAscensionPerksEvents.264.Desc.Capital" event_target:civilian_convoy_fleet = { has_fleet_flag = civilian_convoy_fleet_capital_world } }
			success_text = { text = "UniqueAscensionPerksEvents.264.Desc.Gene" event_target:civilian_convoy_fleet = { has_fleet_flag = civilian_convoy_fleet_energy_world } }
			success_text = { text = "UniqueAscensionPerksEvents.264.Desc.Mining" event_target:civilian_convoy_fleet = { has_fleet_flag = civilian_convoy_fleet_mining_world } }
			success_text = { text = "UniqueAscensionPerksEvents.264.Desc.Aggri" event_target:civilian_convoy_fleet = { has_fleet_flag = civilian_convoy_fleet_food_world } }
			success_text = { text = "UniqueAscensionPerksEvents.264.Desc.Indus" event_target:civilian_convoy_fleet = { has_fleet_flag = civilian_convoy_fleet_consumers_world } }
			success_text = { text = "UniqueAscensionPerksEvents.264.Desc.Forge" event_target:civilian_convoy_fleet = { has_fleet_flag = civilian_convoy_fleet_alloys_world } }
			success_text = { text = "UniqueAscensionPerksEvents.264.Desc.Tech" event_target:civilian_convoy_fleet = { has_fleet_flag = civilian_convoy_fleet_research_world } }
			success_text = { text = "UniqueAscensionPerksEvents.264.Desc.Refine" event_target:civilian_convoy_fleet = { has_fleet_flag = civilian_convoy_fleet_refinery_world } }
			success_text = { text = "UniqueAscensionPerksEvents.264.Desc.Trade" event_target:civilian_convoy_fleet = { has_fleet_flag = civilian_convoy_fleet_trade_world } }
			success_text = { text = "UniqueAscensionPerksEvents.264.Desc.Urban" event_target:civilian_convoy_fleet = { has_fleet_flag = civilian_convoy_fleet_urban_world } }
			success_text = { text = "UniqueAscensionPerksEvents.264.Desc.Nest" event_target:civilian_convoy_fleet = { has_fleet_flag = civilian_convoy_fleet_nest_world } }
			success_text = { text = "UniqueAscensionPerksEvents.264.Desc.Nexus" event_target:civilian_convoy_fleet = { has_fleet_flag = civilian_convoy_fleet_nexus_world } }
			success_text = { text = "UniqueAscensionPerksEvents.264.Desc.Urban" event_target:civilian_convoy_fleet = { has_fleet_flag = civilian_convoy_fleet_rural_world } }
			success_text = { text = "UniqueAscensionPerksEvents.264.Desc.Colony" event_target:civilian_convoy_fleet = { has_fleet_flag = civilian_convoy_fleet_colony_world } }
			success_text = { text = "UniqueAscensionPerksEvents.264.Desc.Fortress" event_target:civilian_convoy_fleet = { has_fleet_flag = civilian_convoy_fleet_fortress_world } }
		}
	}
	show_sound = event_ship_bridge
	picture = GFX_evt_ship_offloading_cargo
	location = root
	is_triggered_only = yes
	trigger = {
		owner = { is_ai = no NOT = { has_country_flag = ap_civilian_activities_no_warning } }
		exists = event_target:civilian_convoy_fleet
	}
	after = { delete_fleet = event_target:civilian_convoy_fleet }
	option = { name = OK ai_chance = { factor = 0 } }
	option = {
		name = "UniqueAscensionPerks.no_message"
		custom_tooltip = "UniqueAscensionPerks.no_message.tooltip"
		owner = { set_country_flag = ap_civilian_activities_no_warning }
	}
}

planet_event = {
	id = UniqueAscensionPerksEvents.265
	hide_window = yes
	mean_time_to_happen = { months = 3 }
	trigger = {
		OR = {
			has_deposit = d_civilian_cargo_capital_world
			has_deposit = d_civilian_cargo_gene_world
			has_deposit = d_civilian_cargo_mining_world
			has_deposit = d_civilian_cargo_agri_world
			has_deposit = d_civilian_cargo_indus_world
			has_deposit = d_civilian_cargo_forge_world
			has_deposit = d_civilian_cargo_tech_world
			has_deposit = d_civilian_cargo_refinery_world
			has_deposit = d_civilian_cargo_trade_world
			has_deposit = d_civilian_cargo_urban_world
			has_deposit = d_civilian_cargo_nest_world
			has_deposit = d_civilian_cargo_nexus_world
			has_deposit = d_civilian_cargo_rural_world
			has_deposit = d_civilian_cargo_colony_world
			has_deposit = d_civilian_cargo_fortress_world
		}
	}
	immediate =	{
		if = {
			limit = { has_deposit = d_civilian_cargo_capital_world }
			if = {
				limit = { check_variable = { which = d_civilian_cargo_capital_world_cooldown value = 0 } }
				change_variable = { which = d_civilian_cargo_capital_world_cooldown value = 4 }
				random_deposit = { limit = { is_deposit_type = d_civilian_cargo_capital_world } remove_deposit = d_civilian_cargo_capital_world }
			} else_if = {
				limit = { check_variable = { which = d_civilian_cargo_capital_world_cooldown value > 0 } }
				change_variable = { which = d_civilian_cargo_capital_world_cooldown value = -1 }
			}
		}
		if = {
			limit = { has_deposit = d_civilian_cargo_gene_world }
			if = {
				limit = { check_variable = { which = d_civilian_cargo_gene_world_cooldown value = 0 } }
				change_variable = { which = d_civilian_cargo_gene_world_cooldown value = 4 }
				random_deposit = { limit = { is_deposit_type = d_civilian_cargo_gene_world } remove_deposit = d_civilian_cargo_gene_world }
			} else_if = {
				limit = { check_variable = { which = d_civilian_cargo_gene_world_cooldown value > 0 } }
				change_variable = { which = d_civilian_cargo_gene_world_cooldown value = -1 }
			}
		}
		if = {
			limit = { has_deposit = d_civilian_cargo_mining_world }
			if = {
				limit = { check_variable = { which = d_civilian_cargo_mining_world_cooldown value = 0 } }
				change_variable = { which = d_civilian_cargo_mining_world_cooldown value = 4 }
				random_deposit = { limit = { is_deposit_type = d_civilian_cargo_mining_world } remove_deposit = d_civilian_cargo_mining_world }
			} else_if = {
				limit = { check_variable = { which = d_civilian_cargo_mining_world_cooldown value > 0 } }
				change_variable = { which = d_civilian_cargo_mining_world_cooldown value = -1 }
			}
		}
		if = {
			limit = { has_deposit = d_civilian_cargo_agri_world }
			if = {
				limit = { check_variable = { which = d_civilian_cargo_agri_world_cooldown value = 0 } }
				change_variable = { which = d_civilian_cargo_agri_world_cooldown value = 4 }
				random_deposit = { limit = { is_deposit_type = d_civilian_cargo_agri_world } remove_deposit = d_civilian_cargo_agri_world }
			} else_if = {
				limit = { check_variable = { which = d_civilian_cargo_agri_world_cooldown value > 0 } }
				change_variable = { which = d_civilian_cargo_agri_world_cooldown value = -1 }
			}
		}
		if = {
			limit = { has_deposit = d_civilian_cargo_indus_world }
			if = {
				limit = { check_variable = { which = d_civilian_cargo_indus_world_cooldown value = 0 } }
				change_variable = { which = d_civilian_cargo_indus_world_cooldown value = 4 }
				random_deposit = { limit = { is_deposit_type = d_civilian_cargo_indus_world } remove_deposit = d_civilian_cargo_indus_world }
			} else_if = {
				limit = { check_variable = { which = d_civilian_cargo_indus_world_cooldown value > 0 } }
				change_variable = { which = d_civilian_cargo_indus_world_cooldown value = -1 }
			}
		}
		if = {
			limit = { has_deposit = d_civilian_cargo_forge_world }
			if = {
				limit = { check_variable = { which = d_civilian_cargo_forge_world_cooldown value = 0 } }
				change_variable = { which = d_civilian_cargo_forge_world_cooldown value = 4 }
				random_deposit = { limit = { is_deposit_type = d_civilian_cargo_forge_world } remove_deposit = d_civilian_cargo_forge_world }
			} else_if = {
				limit = { check_variable = { which = d_civilian_cargo_forge_world_cooldown value > 0 } }
				change_variable = { which = d_civilian_cargo_forge_world_cooldown value = -1 }
			}
		}
		if = {
			limit = { has_deposit = d_civilian_cargo_tech_world }
			if = {
				limit = { check_variable = { which = d_civilian_cargo_tech_world_cooldown value = 0 } }
				change_variable = { which = d_civilian_cargo_tech_world_cooldown value = 4 }
				random_deposit = { limit = { is_deposit_type = d_civilian_cargo_tech_world } remove_deposit = d_civilian_cargo_tech_world }
			} else_if = {
				limit = { check_variable = { which = d_civilian_cargo_tech_world_cooldown value > 0 } }
				change_variable = { which = d_civilian_cargo_tech_world_cooldown value = -1 }
			}
		}
		if = {
			limit = { has_deposit = d_civilian_cargo_refinery_world }
			if = {
				limit = { check_variable = { which = d_civilian_cargo_refinery_world_cooldown value = 0 } }
				change_variable = { which = d_civilian_cargo_refinery_world_cooldown value = 4 }
				random_deposit = { limit = { is_deposit_type = d_civilian_cargo_refinery_world } remove_deposit = d_civilian_cargo_refinery_world }
			} else_if = {
				limit = { check_variable = { which = d_civilian_cargo_refinery_world_cooldown value > 0 } }
				change_variable = { which = d_civilian_cargo_refinery_world_cooldown value = -1 }
			}
		}
		if = {
			limit = { has_deposit = d_civilian_cargo_trade_world }
			if = {
				limit = { check_variable = { which = d_civilian_cargo_trade_world_cooldown value = 0 } }
				change_variable = { which = d_civilian_cargo_trade_world_cooldown value = 4 }
				random_deposit = { limit = { is_deposit_type = d_civilian_cargo_trade_world } remove_deposit = d_civilian_cargo_trade_world }
			} else_if = {
				limit = { check_variable = { which = d_civilian_cargo_trade_world_cooldown value > 0 } }
				change_variable = { which = d_civilian_cargo_trade_world_cooldown value = -1 }
			}
		}
		if = {
			limit = { has_deposit = d_civilian_cargo_urban_world }
			if = {
				limit = { check_variable = { which = d_civilian_cargo_urban_world_cooldown value = 0 } }
				change_variable = { which = d_civilian_cargo_urban_world_cooldown value = 4 }
				random_deposit = { limit = { is_deposit_type = d_civilian_cargo_urban_world } remove_deposit = d_civilian_cargo_urban_world }
			} else_if = {
				limit = { check_variable = { which = d_civilian_cargo_urban_world_cooldown value > 0 } }
				change_variable = { which = d_civilian_cargo_urban_world_cooldown value = -1 }
			}
		}
		if = {
			limit = { has_deposit = d_civilian_cargo_nest_world }
			if = {
				limit = { check_variable = { which = d_civilian_cargo_nest_world_cooldown value = 0 } }
				change_variable = { which = d_civilian_cargo_nest_world_cooldown value = 4 }
				random_deposit = { limit = { is_deposit_type = d_civilian_cargo_nest_world } remove_deposit = d_civilian_cargo_nest_world }
			} else_if = {
				limit = { check_variable = { which = d_civilian_cargo_nest_world_cooldown value > 0 } }
				change_variable = { which = d_civilian_cargo_nest_world_cooldown value = -1 }
			}
		}
		if = {
			limit = { has_deposit = d_civilian_cargo_nexus_world }
			if = {
				limit = { check_variable = { which = d_civilian_cargo_nexus_world_cooldown value = 0 } }
				change_variable = { which = d_civilian_cargo_nexus_world_cooldown value = 4 }
				random_deposit = { limit = { is_deposit_type = d_civilian_cargo_nexus_world } remove_deposit = d_civilian_cargo_nexus_world }
			} else_if = {
				limit = { check_variable = { which = d_civilian_cargo_nexus_world_cooldown value > 0 } }
				change_variable = { which = d_civilian_cargo_nexus_world_cooldown value = -1 }
			}
		}
		if = {
			limit = { has_deposit = d_civilian_cargo_rural_world }
			if = {
				limit = { check_variable = { which = d_civilian_cargo_rural_world_cooldown value = 0 } }
				change_variable = { which = d_civilian_cargo_rural_world_cooldown value = 4 }
				random_deposit = { limit = { is_deposit_type = d_civilian_cargo_rural_world } remove_deposit = d_civilian_cargo_rural_world }
			} else_if = {
				limit = { check_variable = { which = d_civilian_cargo_rural_world_cooldown value > 0 } }
				change_variable = { which = d_civilian_cargo_rural_world_cooldown value = -1 }
			}
		}
		if = {
			limit = { has_deposit = d_civilian_cargo_colony_world }
			if = {
				limit = { check_variable = { which = d_civilian_cargo_colony_world_cooldown value = 0 } }
				change_variable = { which = d_civilian_cargo_colony_world_cooldown value = 4 }
				random_deposit = { limit = { is_deposit_type = d_civilian_cargo_colony_world } remove_deposit = d_civilian_cargo_colony_world }
			} else_if = {
				limit = { check_variable = { which = d_civilian_cargo_colony_world_cooldown value > 0 } }
				change_variable = { which = d_civilian_cargo_colony_world_cooldown value = -1 }
			}
		}
		if = {
			limit = { has_deposit = d_civilian_cargo_fortress_world }
			if = {
				limit = { check_variable = { which = d_civilian_cargo_fortress_world_cooldown value = 0 } }
				change_variable = { which = d_civilian_cargo_fortress_world_cooldown value = 4 }
				random_deposit = { limit = { is_deposit_type = d_civilian_cargo_fortress_world } remove_deposit = d_civilian_cargo_fortress_world }
			} else_if = {
				limit = { check_variable = { which = d_civilian_cargo_fortress_world_cooldown value > 0 } }
				change_variable = { which = d_civilian_cargo_fortress_world_cooldown value = -1 }
			}
		}
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.266
	hide_window = yes
	mean_time_to_happen = { days = 14 }
	trigger = {
		# is_ai = no
		has_ascension_perk = ap_civilian_activities
		any_country = { is_country_type = civilian_activities has_relation_flag = { who = root flag = civilian_activities_country } }
	}
	immediate =	{
		# civilian_space_activities_idle_fleet_selection = yes
		save_event_target_as = main_country
		random_country = {
			limit = { is_country_type = civilian_activities has_relation_flag = { who = root flag = civilian_activities_country } }
			save_event_target_as = civilian_activities_country
			every_owned_fleet = {
				limit = {
					has_fleet_flag = civilian_convoy_fleet
					is_fleet_idle = yes
				}
				remove_fleet_flag = civilian_convoy_fleet_moving_order
				fleet_event = { id = UniqueAscensionPerksEvents.267 days = 1 random = 2 }
			}
		}
	}
}

fleet_event = {
	id = UniqueAscensionPerksEvents.267
	hide_window = yes
	is_triggered_only = yes
	immediate =	{
		# civilian_space_activities_idle_fleet_action = yes
		owner = {
			save_event_target_as = domesticated_spaceborn_alien
			if = { limit = { NOT = { exists = event_target:main_country } }
				random_playable_country = {
					limit = { reverse_has_relation_flag = { who = prev flag = civilian_activities_country } }
					save_event_target_as = main_country
				}
			}
		}
		if = {
			limit = { event_target:main_country = { any_owned_planet = { NOR = { has_planet_flag = spawned_civilian_convoy_fleet has_planet_flag = civilian_convoy_fleet_target } } } }
			closest_system = {
				limit = { any_system_planet = { is_valid_planet_civilian_space_activities_fleet_action = yes } }
				random_system_planet = {
					limit = { is_valid_planet_civilian_space_activities_fleet_action = yes }
					save_event_target_as = move_location
					set_timed_planet_flag = { flag = civilian_convoy_fleet_target months = 1 }
				}
			}
			set_fleet_flag = domesticated_security_fleet_defending
			set_timed_fleet_flag = { flag = civilian_convoy_fleet_moving_order days = 45 }
			auto_move_to_planet = {
				target = event_target:move_location
				clear_auto_move_on_arrival = no
				arrival_effect = civilian_space_activities_civilian_convoy_fleet_arrival
			}
		}
	}
}

# From = civilian_convoy_fleet
planet_event = {
	id = UniqueAscensionPerksEvents.268
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		from = {
			switch = {
				trigger = has_fleet_flag
				civilian_convoy_fleet_capital_world = { root = { add_deposit = d_civilian_cargo_capital_world hidden_effect = { change_variable = { which = d_civilian_cargo_capital_world_cooldown value = 20 } } } }
				civilian_convoy_fleet_energy_world = { root = { add_deposit = d_civilian_cargo_gene_world hidden_effect = { change_variable = { which = d_civilian_cargo_gene_world_cooldown value = 20 } } } }
				civilian_convoy_fleet_mining_world = { root = { add_deposit = d_civilian_cargo_mining_world hidden_effect = { change_variable = { which = d_civilian_cargo_mining_world_cooldown value = 20 } } } }
				civilian_convoy_fleet_food_world = { root = { add_deposit = d_civilian_cargo_agri_world hidden_effect = { change_variable = { which = d_civilian_cargo_agri_world_cooldown value = 20 } } } }
				civilian_convoy_fleet_consumers_world = { root = { add_deposit = d_civilian_cargo_indus_world hidden_effect = { change_variable = { which = d_civilian_cargo_indus_world_cooldown value = 20 } } } }
				civilian_convoy_fleet_alloys_world = { root = { add_deposit = d_civilian_cargo_forge_world hidden_effect = { change_variable = { which = d_civilian_cargo_forge_world_cooldown value = 20 } } } }
				civilian_convoy_fleet_research_world = { root = { add_deposit = d_civilian_cargo_tech_world hidden_effect = { change_variable = { which = d_civilian_cargo_tech_world_cooldown value = 20 } } } }
				civilian_convoy_fleet_refinery_world = { root = { add_deposit = d_civilian_cargo_refinery_world hidden_effect = { change_variable = { which = d_civilian_cargo_refinery_world_cooldown value = 20 } } } }
				civilian_convoy_fleet_trade_world = { root = { add_deposit = d_civilian_cargo_trade_world hidden_effect = { change_variable = { which = d_civilian_cargo_trade_world_cooldown value = 20 } } } }
				civilian_convoy_fleet_urban_world = { root = { add_deposit = d_civilian_cargo_urban_world hidden_effect = { change_variable = { which = d_civilian_cargo_urban_world_cooldown value = 20 } } } }
				civilian_convoy_fleet_nest_world = { root = { add_deposit = d_civilian_cargo_nest_world hidden_effect = { change_variable = { which = d_civilian_cargo_nest_world_cooldown value = 20 } } } }
				civilian_convoy_fleet_nexus_world = { root = { add_deposit = d_civilian_cargo_nexus_world hidden_effect = { change_variable = { which = d_civilian_cargo_nexus_world_cooldown value = 20 } } } }
				civilian_convoy_fleet_rural_world = { root = { add_deposit = d_civilian_cargo_rural_world hidden_effect = { change_variable = { which = d_civilian_cargo_rural_world_cooldown value = 20 } } } }
				civilian_convoy_fleet_colony_world = { root = { add_deposit = d_civilian_cargo_colony_world hidden_effect = { change_variable = { which = d_civilian_cargo_colony_world_cooldown value = 20 } } create_pop = { species = owner_species } } }
				civilian_convoy_fleet_fortress_world = { root = { add_deposit = d_civilian_cargo_fortress_world hidden_effect = { change_variable = { which = d_civilian_cargo_fortress_world_cooldown value = 20 } } } }
			}
		}

		if = { limit = { owner = { is_ai = no NOT = { has_country_flag = ap_civilian_activities_no_warning } } }
			from = { save_event_target_as = civilian_convoy_fleet }
			planet_event = { id = UniqueAscensionPerksEvents.264 }
		} else = {
			delete_fleet = from
		}
	}
}

# country_event = {
#	id = UniqueAscensionPerksEvents.261
#	hide_window = yes
#	is_triggered_only = yes
#	trigger = {}
#	immediate = { create_scout_probe = yes }
#}

# country_event = {
#	id = UniqueAscensionPerksEvents.262
#	hide_window = yes
#	mean_time_to_happen = { days = 5 }
#	is_triggered_only = yes
#	trigger = {
#		has_ascension_perk = ap_civilian_activities
#		any_country = { has_relation_flag = { who = root flag = scout_probes } }
#	}
#	immediate =	{ scout_probes_idle_fleet_selection = yes }
#}

# fleet_event = {
#	id = UniqueAscensionPerksEvents.263
#	hide_window = yes
#	is_triggered_only = yes
#	immediate =	{ scout_probes_idle_fleet_action = yes }
#}

#######################################
#									 #
############ Sector Z749 #############
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.270
	title = "ap_sector_z749"
	desc = "ap_sector_z749_desc"
	show_sound = event_mystic_reveal
	diplomatic = yes
	force_open = yes
	picture_event_data = { room = sector_z749_room }
	is_triggered_only = yes
	immediate = {
		if = { limit = { NOT = { exists = capital_scope } }
			random_system_within_border = {
				limit = { has_natural_wormhole = no }
				save_event_target_as = sector_z749_system_capital_system
			}
		} else_if = { limit = { capital_scope = { solar_system = { has_natural_wormhole = yes } } }
			capital_scope = {
				solar_system = {
					closest_system = {
						limit = { has_natural_wormhole = no exists = space_owner space_owner = { is_same_empire = root } }
						save_event_target_as = sector_z749_system_capital_system
					}
				}
			}
		} else = { capital_scope = { solar_system = { save_event_target_as = sector_z749_system_capital_system } } }
		event_target:sector_z749_system_capital_system = {
			set_spawn_system_batch = begin
			spawn_system = { min_distance > 20 max_distance <= 50 min_orientation_angle = 0 max_orientation_angle = 359 initializer = "sector_z749_system" hyperlane = no }
			if = { limit = { NOT = { exists = event_target:sector_z749_system } }
				if = {
					limit = { exists = last_created_system last_created_system = { has_star_flag = sector_z749_system } }
					last_created_system = { save_event_target_as = sector_z749_system }
				} else = {
					random_system = {
						limit = { has_star_flag = sector_z749_system }
						save_event_target_as = sector_z749_system
					}
				}
			}
			event_target:sector_z749_system = {
				# isolate_system = yes
				prev = { spawn_natural_wormhole = { bypass_type = wormhole random_pos = yes orbit_angle = 170 } }
				spawn_natural_wormhole = { bypass_type = wormhole random_pos = yes orbit_angle = 350 }
				link_wormholes = prev
			}
			set_spawn_system_batch = end
		}
	}
	option = {
		name = EXCELLENT
		hidden_effect = {
			country_event = { id = distar.13060 scopes = { from = event_target:sector_z749_system_capital_system } }
		}
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.271
	title = "Sector_Z749"
	desc = "UniqueAscensionPerksEvents.271.Desc"
	show_sound = event_mystic_reveal
	diplomatic = yes
	force_open = yes
	picture_event_data = { room = sector_z749_room }
	is_triggered_only = yes
	option = {
		name = UniqueAscensionPerksEvents.271.Gate
		allow = {
			custom_tooltip = {
				fail_text = UniqueAscensionPerksEvents.271.Req01
				NAND = {
					is_variable_set = invasion_gate_type
					check_variable = { which = invasion_gate_type value > 0 }
				}
			}
		}
		hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.272 } }
	}
	option = { name = EXIT ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.272
	title = "UniqueAscensionPerksEvents.272.Name"
	desc = "UniqueAscensionPerksEvents.272.Desc"
	show_sound = event_mystic_reveal
	diplomatic = yes
	force_open = yes
	picture_event_data = { room = sector_z749_room }
	is_triggered_only = yes
	immediate = {
		set_variable = { which = invasion_gate_type value = 0 }
	}
	after = {
		if = { limit = { check_variable = { which = invasion_gate_type value > 0 } }
			country_event = { id = UniqueAscensionPerksEvents.273 }
		}
	}
	option = { name = UniqueAscensionPerksEvents.272.Alpha	hidden_effect = { set_variable = { which = invasion_gate_type value = 1 } } }
	option = { name = UniqueAscensionPerksEvents.272.Beta	 trigger = { hidden_trigger = { check_variable = { which = invasion_gate_wave_type value > 1 } } } hidden_effect = { set_variable = { which = invasion_gate_type value = 2 } } }
	option = { name = UniqueAscensionPerksEvents.272.Gamma	 trigger = { hidden_trigger = { check_variable = { which = invasion_gate_wave_type value > 2 } } } hidden_effect = { set_variable = { which = invasion_gate_type value = 3 } } }
	option = { name = UniqueAscensionPerksEvents.272.Delta	 trigger = { hidden_trigger = { check_variable = { which = invasion_gate_wave_type value > 3 } } } hidden_effect = { set_variable = { which = invasion_gate_type value = 4 } } }
	option = { name = UniqueAscensionPerksEvents.272.Epsilon trigger = { hidden_trigger = { check_variable = { which = invasion_gate_wave_type value > 4 } } } hidden_effect = { set_variable = { which = invasion_gate_type value = 5 } } }
	option = { name = UniqueAscensionPerksEvents.272.Zeta	 trigger = { hidden_trigger = { check_variable = { which = invasion_gate_wave_type value > 5 } } } hidden_effect = { set_variable = { which = invasion_gate_type value = 6 } } }
	option = { name = UniqueAscensionPerksEvents.272.Kappa	 trigger = { hidden_trigger = { check_variable = { which = invasion_gate_wave_type value > 6 } } } hidden_effect = { set_variable = { which = invasion_gate_type value = 7 } } }
	option = { name = UniqueAscensionPerksEvents.272.Omega	 trigger = { hidden_trigger = { check_variable = { which = invasion_gate_wave_type value > 7 } } } hidden_effect = { set_variable = { which = invasion_gate_type value = 8 } } }
	option = { name = BACK hidden_effect = { set_variable = { which = invasion_gate_type value = 0 } country_event = { id = UniqueAscensionPerksEvents.271 } } ai_chance = { factor = 0 } }
}
# TODO
country_event = {
	id = UniqueAscensionPerksEvents.273
	title = "UniqueAscensionPerksEvents.272.Name"
	desc = {
		trigger = {
			success_text = { text = "UniqueAscensionPerksEvents.273.Alpha" check_variable = { which = invasion_gate_type value = 1 } }
			success_text = { text = "UniqueAscensionPerksEvents.273.Beta" check_variable = { which = invasion_gate_type value = 2 } }
			success_text = { text = "UniqueAscensionPerksEvents.273.Gamma" check_variable = { which = invasion_gate_type value = 3 } }
			success_text = { text = "UniqueAscensionPerksEvents.273.Delta" check_variable = { which = invasion_gate_type value = 4 } }
			success_text = { text = "UniqueAscensionPerksEvents.273.Epsilon" check_variable = { which = invasion_gate_type value = 5 } }
			success_text = { text = "UniqueAscensionPerksEvents.273.Zeta" check_variable = { which = invasion_gate_type value = 6 } }
			success_text = { text = "UniqueAscensionPerksEvents.273.Kappa" check_variable = { which = invasion_gate_type value = 7 } }
			success_text = { text = "UniqueAscensionPerksEvents.273.Omega" check_variable = { which = invasion_gate_type value = 8 } }
		}
	}
	show_sound = event_mystic_reveal
	diplomatic = yes
	force_open = yes
	picture_event_data = { room = sector_z749_room }
	is_triggered_only = yes
	option = { name = "UniqueAscensionPerksEvents.273.a"
		# activate_invasion_gate = yes
		if = { limit = { check_variable = { which = invasion_gate_type value = 1 } } add_resource = { energy = -1000 } }
		else_if = { limit = { check_variable = { which = invasion_gate_type value = 2 } } add_resource = { energy = -2000 } }
		else_if = { limit = { check_variable = { which = invasion_gate_type value = 3 } } add_resource = { energy = -3400 } }
		else_if = { limit = { check_variable = { which = invasion_gate_type value = 4 } } add_resource = { energy = -5000 } }
		else_if = { limit = { check_variable = { which = invasion_gate_type value = 5 } } add_resource = { energy = -6600 } }
		else_if = { limit = { check_variable = { which = invasion_gate_type value = 6 } } add_resource = { energy = -8800 } }
		else_if = { limit = { check_variable = { which = invasion_gate_type value = 7 } } add_resource = { energy = -12000 } }
		else_if = { limit = { check_variable = { which = invasion_gate_type value = 8 } } add_resource = { energy = -18000 } }
		country_event = { id = UniqueAscensionPerksEvents.274 }
	}
	option = { name = BACK hidden_effect = { set_variable = { which = invasion_gate_type value = 0 } country_event = { id = UniqueAscensionPerksEvents.272 } } ai_chance = { factor = 0 } }
}

# TODO a lot, eg different fleets
country_event = {
	id = UniqueAscensionPerksEvents.274
	hide_window = yes
	is_triggered_only = yes
	immediate =	{
		# create_invasion_gave_country = yes
		# save_event_target_as = main_country

		if = {
			limit = { any_country = { has_country_flag = sector_z749_country } }
			random_country = {
				limit = { has_country_flag = sector_z749_country }
				save_event_target_as = sector_z749_country
			}
		} else = {
			event_target:sector_z749_system = {
				random_system_planet = {
					limit = { is_star = no }
					weights = { base = 1 modifier = { add = 3 is_planet_class = pc_habitat } }
					create_country = {
						name = "Sector Z-749"
						type = faction
						ignore_initial_colony_error = yes
						day_zero_contact = no
						flag = {
							icon = { category = "domination" file = "domination_20.dds" }
							background= { category = "backgrounds" file = "circle.dds" }
							colors = { "red" "black" "null" "null" }
						}
						effect = {
							# set_name = "Sector_Z749"
							every_country = { establish_communications_no_message = prev }
							save_event_target_as = sector_z749_country
							set_country_flag = sector_z749_country
							set_faction_hostility = { set_hostile = yes set_neutral = no set_friendly = no }
						}
					}
				}
			}
		}
		# invasion_gate_create_fleet = yes
		# random_system = {
		# 	limit = { has_star_flag = sector_z749_system }
		# 	star = { save_event_target_as = spawn_location }
		# }
		event_target:sector_z749_system.star = { save_event_target_as = spawn_location }
		event_target:sector_z749_country = {
			set_variable = { which = invasion_gate_wave_type value = prev.invasion_gate_type }
			set_variable = { which = invasion_gate_wave_count value = invasion_gate_wave_type }
			multiply_variable = { which = invasion_gate_wave_count value = 1.75 }
			round_variable = invasion_gate_wave_count
			while = {
				count = 9
				create_fleet = {
					name = "Invasion Gate Fleet"
					settings = { spawn_debris = no }
					effect = {
						set_owner = prev
						while = {
							count = prev.invasion_gate_wave_count
							if = { limit = { PREV = { check_variable = { which = invasion_gate_wave_type value = 1 } } } while = { count = 10 create_ship = { design = "NAME_Outrider" graphical_culture = "pirate_01" } } }# Pirate Corvette
							if = { limit = { PREV = { check_variable = { which = invasion_gate_wave_type value = 2 } } } while = { count = 6 create_ship = { design = "NAME_Lancer" graphical_culture = "pirate_01" } } } # Pirate Destroyer
							if = { limit = { PREV = { check_variable = { which = invasion_gate_wave_type value = 3 } } } while = { count = 3 create_ship = { design = "NAME_Void_Champion" graphical_culture = "pirate_01" } } } # Pirate Cruiser
							if = { limit = { PREV = { check_variable = { which = invasion_gate_wave_type value = 4 } } } while = { count = 1 create_ship = { design = "NAME_Ancestral_Glory" graphical_culture = "pirate_01" } } } # Marauder Galleon
						}
						set_location = { target = event_target:spawn_location distance = 1000 angle = random }
						set_fleet_stance = aggressive
						set_aggro_range_measure_from = self
						set_aggro_range = 5000
						set_formation_scale = 1.0
						save_event_target_as = invasion_gate_fleet
						set_fleet_flag = invasion_gate_fleet
					}
				}
			}
			# set_variable = { which = invasion_gate_wave_type value = 0 }
		}
	}
}

# on_country_destroyed
# TODO different rewards + DESC
country_event = {
	id = UniqueAscensionPerksEvents.275
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		is_country_type = faction
		has_country_flag = sector_z749_country
		exists = from
		from = { has_ascension_perk = ap_sector_z749 }
	}
	immediate =	{
		change_variable = { which = invasion_gate_wave_type value = 1 }
		from = {
			set_variable = { which = invasion_gate_wave_type value = prev.invasion_gate_wave_type }
			add_resource = {
				energy = 1000
				alloys = 1000
				unity = 1000
				minerals = 1000
				influence = 10
				consumer_goods = 100
				exotic_gases = 10
				volatile_motes = 10
				rare_crystals = 10
				sr_living_metal = 5
				nanites = 5
				sr_dark_matter = 2
				sr_zro = 1
				mult = invasion_gate_wave_type
			}
		}
	}
}



#######################################
#									 #
########## Pinnacle Society ###########
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.300
	title = "ap_pyramidal_society"
	desc = "ap_pyramidal_society_desc"
	show_sound = event_administrative_work
	picture = GFX_evt_pyramidal_society
	location = capital_scope
	is_triggered_only = yes
	immediate = {
		country_event = { id = UniqueAscensionPerksEvents.301 days = -1 }
	}
	option = { name = EXCELLENT }
}

# 3.3: chance & amount 2/3
country_event = {
	id = UniqueAscensionPerksEvents.301
	hide_window = yes
	mean_time_to_happen = { days = 42 } # days = 30
	trigger = {
		# is_ai = no # TODO AI?
		OR = { has_ascension_perk = ap_pyramidal_society has_country_flag = ap_pyramidal_society }
		OR = {
			AND = { is_common_empire = yes any_owned_planet = { NOR = { has_deposit = d_district_governor has_deposit = d_district_university has_deposit = d_district_defense has_deposit = d_district_industry } } }
			AND = { is_hive_empire = yes any_owned_planet = { NOR = { has_deposit = d_district_queen has_deposit = d_district_nursery has_deposit = d_district_forest has_deposit = d_district_entrepot } } }
			AND = { is_machine_empire = yes any_owned_planet = { NOR = { has_deposit = d_district_foundry has_deposit = d_district_security has_deposit = d_district_upgrade has_deposit = d_district_recycling } } }
			AND = { is_megacorp = yes any_owned_planet = { NOR = { has_deposit = d_district_finance has_deposit = d_district_casino has_deposit = d_district_bank has_deposit = d_district_journalism } } }
		}
	}
	immediate = {
		# pinnacle_society_deposit_spawn = yes
		if = { limit = { is_common_empire = yes }
			if = { limit = { any_owned_planet = { NOR = { has_deposit = d_district_governor has_deposit = d_district_university has_deposit = d_district_defense has_deposit = d_district_industry } } }
				every_owned_planet = { limit = { NOT = { has_deposit = d_district_governor } } while = { count = 4 random = { chance = 50 add_deposit = d_district_governor } } }
				every_owned_planet = { limit = { NOT = { has_deposit = d_district_university } } while = { count = 10 random = { chance = 70 add_deposit = d_district_university } } }
				every_owned_planet = { limit = { NOT = { has_deposit = d_district_defense } } while = { count = 6 random = { chance = 60 add_deposit = d_district_defense } } }
				every_owned_planet = { limit = { NOT = { has_deposit = d_district_industry } } while = { count = 6 random = { chance = 60 add_deposit = d_district_industry } } }
			}
			if = { limit = { any_owned_planet = { has_deposit = yes OR = {
						has_deposit = d_district_queen
						has_deposit = d_district_nursery
						has_deposit = d_district_entrepot
						has_deposit = d_district_forest
						has_deposit = d_district_foundry
						has_deposit = d_district_security
						has_deposit = d_district_upgrade
						has_deposit = d_district_recycling
						has_deposit = d_district_finance
						has_deposit = d_district_casino
						has_deposit = d_district_bank
						has_deposit = d_district_journalism
				} } }
				every_owned_planet = { limit = { has_deposit = yes OR = {
						has_deposit = d_district_queen
						has_deposit = d_district_nursery
						has_deposit = d_district_entrepot
						has_deposit = d_district_forest
						has_deposit = d_district_foundry
						has_deposit = d_district_security
						has_deposit = d_district_upgrade
						has_deposit = d_district_recycling
						has_deposit = d_district_finance
						has_deposit = d_district_casino
						has_deposit = d_district_bank
						has_deposit = d_district_journalism
					} }
					planet_event = { id = UniqueAscensionPerksEvents.302 days = 5 }
				}
			}
		} else_if = { limit = { is_hive_empire = yes }
			if = { limit = { any_owned_planet = { NOR = { has_deposit = d_district_queen has_deposit = d_district_nursery has_deposit = d_district_forest has_deposit = d_district_entrepot } } }
				every_owned_planet = { limit = { NOT = { has_deposit = d_district_queen } } while = { count = 4 random = { chance = 50 add_deposit = d_district_queen } } }
				every_owned_planet = { limit = { NOT = { has_deposit = d_district_nursery } } while = { count = 10 random = { chance = 70 add_deposit = d_district_nursery } } }
				every_owned_planet = { limit = { NOT = { has_deposit = d_district_forest } } while = { count = 10 random = { chance = 70 add_deposit = d_district_forest } } }
				every_owned_planet = { limit = { NOT = { has_deposit = d_district_entrepot } } while = { count = 4 random = { chance = 50 add_deposit = d_district_entrepot } } }
			}
			if = { limit = { any_owned_planet = { has_deposit = yes OR = {
						has_deposit = d_district_governor
						has_deposit = d_district_university
						has_deposit = d_district_defense
						has_deposit = d_district_industry
						has_deposit = d_district_foundry
						has_deposit = d_district_security
						has_deposit = d_district_upgrade
						has_deposit = d_district_recycling
						has_deposit = d_district_finance
						has_deposit = d_district_casino
						has_deposit = d_district_bank
						has_deposit = d_district_journalism
				} } }
				every_owned_planet = { limit = { has_deposit = yes OR = {
						has_deposit = d_district_governor
						has_deposit = d_district_university
						has_deposit = d_district_defense
						has_deposit = d_district_industry
						has_deposit = d_district_foundry
						has_deposit = d_district_security
						has_deposit = d_district_upgrade
						has_deposit = d_district_recycling
						has_deposit = d_district_finance
						has_deposit = d_district_casino
						has_deposit = d_district_bank
						has_deposit = d_district_journalism
					} }
					planet_event = { id = UniqueAscensionPerksEvents.302 days = 5 }
				}
			}
		} else_if = { limit = { is_machine_empire = yes }
			if = { limit = { any_owned_planet = { NOR = { has_deposit = d_district_foundry has_deposit = d_district_security has_deposit = d_district_upgrade has_deposit = d_district_recycling } } }
				every_owned_planet = { limit = { NOT = { has_deposit = d_district_security } } while = { count = 6 random = { chance = 60 add_deposit = d_district_security } } }
				every_owned_planet = { limit = { NOT = { has_deposit = d_district_foundry } } while = { count = 10 random = { chance = 70 add_deposit = d_district_foundry } } }
				every_owned_planet = { limit = { NOT = { has_deposit = d_district_upgrade } } while = { count = 6 random = { chance = 60 add_deposit = d_district_upgrade } } }
				every_owned_planet = { limit = { NOT = { has_deposit = d_district_recycling } } while = { count = 10 random = { chance = 70 add_deposit = d_district_recycling } } }
			}
			if = { limit = { any_owned_planet = { has_deposit = yes OR = {
						has_deposit = d_district_governor
						has_deposit = d_district_university
						has_deposit = d_district_defense
						has_deposit = d_district_industry
						has_deposit = d_district_queen
						has_deposit = d_district_nursery
						has_deposit = d_district_entrepot
						has_deposit = d_district_forest
						has_deposit = d_district_finance
						has_deposit = d_district_casino
						has_deposit = d_district_bank
						has_deposit = d_district_journalism
				} } }
				every_owned_planet = { limit = { has_deposit = yes OR = {
						has_deposit = d_district_governor
						has_deposit = d_district_university
						has_deposit = d_district_defense
						has_deposit = d_district_industry
						has_deposit = d_district_queen
						has_deposit = d_district_nursery
						has_deposit = d_district_entrepot
						has_deposit = d_district_forest
						has_deposit = d_district_finance
						has_deposit = d_district_casino
						has_deposit = d_district_bank
						has_deposit = d_district_journalism
					} }
					planet_event = { id = UniqueAscensionPerksEvents.302 days = 5 }
				}
			}
		} else_if = { limit = { is_megacorp = yes }
			if = { limit = { any_owned_planet = { NOR = { has_deposit = d_district_finance has_deposit = d_district_casino has_deposit = d_district_bank has_deposit = d_district_journalism } } }
				every_owned_planet = { limit = { NOT = { has_deposit = d_district_finance } } while = { count = 10 random = { chance = 70 add_deposit = d_district_finance } } }
				every_owned_planet = { limit = { NOT = { has_deposit = d_district_casino } } while = { count = 10 random = { chance = 70 add_deposit = d_district_casino } } }
				every_owned_planet = { limit = { NOT = { has_deposit = d_district_bank } } while = { count = 4 random = { chance = 50 add_deposit = d_district_bank } } }
				every_owned_planet = { limit = { NOT = { has_deposit = d_district_journalism } } while = { count = 6 random = { chance = 60 add_deposit = d_district_journalism } } }
			}
			if = { limit = { any_owned_planet = { has_deposit = yes OR = {
						has_deposit = d_district_governor
						has_deposit = d_district_university
						has_deposit = d_district_defense
						has_deposit = d_district_industry
						has_deposit = d_district_queen
						has_deposit = d_district_nursery
						has_deposit = d_district_entrepot
						has_deposit = d_district_forest
						has_deposit = d_district_foundry
						has_deposit = d_district_security
						has_deposit = d_district_upgrade
						has_deposit = d_district_recycling
				} } }
				every_owned_planet = { limit = { has_deposit = yes OR = {
						has_deposit = d_district_governor
						has_deposit = d_district_university
						has_deposit = d_district_defense
						has_deposit = d_district_industry
						has_deposit = d_district_queen
						has_deposit = d_district_nursery
						has_deposit = d_district_entrepot
						has_deposit = d_district_forest
						has_deposit = d_district_foundry
						has_deposit = d_district_security
						has_deposit = d_district_upgrade
						has_deposit = d_district_recycling
					} }
					planet_event = { id = UniqueAscensionPerksEvents.302 days = 5 }
				}
			}
		}
	}
}

planet_event = {
	id = UniqueAscensionPerksEvents.302
	hide_window = yes
	# mean_time_to_happen = { days = 42 } # days = 30 planet MTTH is worst
	is_triggered_only = yes
	pre_triggers = { has_owner = yes }
	trigger = {
		exists = owner
		has_deposit = yes
		owner = {
			OR = { has_ascension_perk = ap_pyramidal_society has_country_flag = ap_pyramidal_society }
		}
		OR = {
			AND = {
				owner = { is_common_empire = no }
				OR = {
					has_deposit = d_district_governor
					has_deposit = d_district_university
					has_deposit = d_district_defense
					has_deposit = d_district_industry
				}
			}
			AND = {
				owner = { is_hive_empire = no }
				OR = {
					has_deposit = d_district_queen
					has_deposit = d_district_nursery
					has_deposit = d_district_entrepot
					has_deposit = d_district_forest
				}
			}
			AND = {
				owner = { is_machine_empire = no }
				OR = {
					has_deposit = d_district_foundry
					has_deposit = d_district_security
					has_deposit = d_district_upgrade
					has_deposit = d_district_recycling
				}
			}
			AND = {
				owner = { is_megacorp = no }
				OR = {
					has_deposit = d_district_finance
					has_deposit = d_district_casino
					has_deposit = d_district_bank
					has_deposit = d_district_journalism
				}
			}
		}
	}
	immediate = {
		# pinnacle_society_deposit_removal = yes
		if = { limit = { has_deposit = d_district_governor owner = { is_common_empire = no } } while = { limit = { has_deposit = d_district_governor } remove_deposit = d_district_governor } }
		else_if = { limit = { has_deposit = d_district_university owner = { is_common_empire = no } } while = { limit = { has_deposit = d_district_university } remove_deposit = d_district_university } }
		else_if = { limit = { has_deposit = d_district_defense owner = { is_common_empire = no } } while = { limit = { has_deposit = d_district_defense } remove_deposit = d_district_defense } }
		else_if = { limit = { has_deposit = d_district_industry owner = { is_common_empire = no } } while = { limit = { has_deposit = d_district_industry } remove_deposit = d_district_industry } }
		else_if = { limit = { has_deposit = d_district_queen owner = { is_hive_empire = no } } while = { limit = { has_deposit = d_district_queen } remove_deposit = d_district_queen } }
		else_if = { limit = { has_deposit = d_district_nursery owner = { is_hive_empire = no } } while = { limit = { has_deposit = d_district_nursery } remove_deposit = d_district_nursery } }
		else_if = { limit = { has_deposit = d_district_forest owner = { is_hive_empire = no } } while = { limit = { has_deposit = d_district_forest } remove_deposit = d_district_forest } }
		else_if = { limit = { has_deposit = d_district_entrepot owner = { is_hive_empire = no } } while = { limit = { has_deposit = d_district_entrepot } remove_deposit = d_district_entrepot } }
		else_if = { limit = { has_deposit = d_district_security owner = { is_machine_empire = no } } while = { limit = { has_deposit = d_district_security } remove_deposit = d_district_security } }
		else_if = { limit = { has_deposit = d_district_foundry owner = { is_machine_empire = no } } while = { limit = { has_deposit = d_district_foundry } remove_deposit = d_district_foundry } }
		else_if = { limit = { has_deposit = d_district_upgrade owner = { is_machine_empire = no } } while = { limit = { has_deposit = d_district_upgrade } remove_deposit = d_district_upgrade } }
		else_if = { limit = { has_deposit = d_district_recycling owner = { is_machine_empire = no } } while = { limit = { has_deposit = d_district_recycling } remove_deposit = d_district_recycling } }
		else_if = { limit = { has_deposit = d_district_finance owner = { is_megacorp = no } } while = { limit = { has_deposit = d_district_finance } remove_deposit = d_district_finance } }
		else_if = { limit = { has_deposit = d_district_casino owner = { is_megacorp = no } } while = { limit = { has_deposit = d_district_casino } remove_deposit = d_district_casino } }
		else_if = { limit = { has_deposit = d_district_bank owner = { is_megacorp = no } } while = { limit = { has_deposit = d_district_bank } remove_deposit = d_district_bank } }
		else_if = { limit = { has_deposit = d_district_journalism owner = { is_megacorp = no } } while = { limit = { has_deposit = d_district_journalism } remove_deposit = d_district_journalism } }
	}
}

#######################################
#									 #
###### Surgical Orbital Strike ########
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.310
	title = "ap_orbital_surgical_strike"
	desc = "ap_orbital_surgical_strike_desc"
	show_sound = event_mystic_reveal
	picture = GFX_evt_surgical_strike
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT }
}

planet_event = {
	id = UniqueAscensionPerksEvents.311
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		NOT = { has_planet_flag = had_surgical_strike }
		from = {
			has_ascension_perk = ap_orbital_surgical_strike
			has_country_flag = surgical_strike_active
			any_owned_fleet = {
				is_ship_class = shipclass_military
				orbit = { is_same_value = root }
				fleet_size > 20
			}
		}
 	}
	immediate = {
		random = {
			chance = 5
			save_event_target_as = surgical_strike_planet
			set_timed_planet_flag = { flag = had_surgical_strike months = 4 }
			from = {
				random_owned_fleet = {
					limit = {
						is_ship_class = shipclass_military
						orbit = { is_same_value = event_target:surgical_strike_planet }
					}
					save_event_target_as = surgical_strike_fleet
				}
				country_event = { id = UniqueAscensionPerksEvents.312 }
			}
		}
		# random_list = { 15 = { from = { random_owned_pop = { kill_pop = yes } } } 85 = {} }
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.312
	title = "UniqueAscensionPerksEvents.312.Name"
	desc = "UniqueAscensionPerksEvents.312.Desc"
	show_sound = event_mystic_reveal
	picture = GFX_evt_surgical_strike
	location = event_target:surgical_strike_planet
	is_triggered_only = yes
	option = {
		name = "UniqueAscensionPerksEvents.312.Raid"
		allow = { has_technology = tech_raid_resources }
		trigger = { event_target:surgical_strike_planet = { NOT = { has_planet_flag = had_surgical_strike_resources_raid } } }
		custom_tooltip = "UniqueAscensionPerksEvents.312.Raid.tooltip"
		hidden_effect = { event_target:surgical_strike_planet = { surgical_strike_take_resources = yes } country_event = { id = UniqueAscensionPerksEvents.313 } }
	}
	option = {
		name = "UniqueAscensionPerksEvents.312.District"
		trigger = { event_target:surgical_strike_planet = { num_districts = { type = any value > 0 } } } # has_district = yes
		custom_tooltip = "UniqueAscensionPerksEvents.312.District.tooltip"
		hidden_effect = { event_target:surgical_strike_planet = { surgical_strike_destroy_districts = yes } }
	}
	option = {
		name = "UniqueAscensionPerksEvents.312.Building"
		trigger = { event_target:surgical_strike_planet = { has_building = yes } }
		custom_tooltip = "UniqueAscensionPerksEvents.312.Building.tooltip"
		hidden_effect = { event_target:surgical_strike_planet = { surgical_strike_destroy_buildings = yes } }
	}
	option = {
		allow = { OR = { has_ascension_perk = ap_nihilistic_acquisition has_valid_civic = civic_barbaric_despoilers is_homicidal = yes has_valid_civic = civic_machine_assimilator } }
		name = "UniqueAscensionPerksEvents.312.Abduct"
		custom_tooltip = "UniqueAscensionPerksEvents.312.Abduct.tooltip"
		hidden_effect = { event_target:surgical_strike_planet = { surgical_strike_abduct_pop = yes } }
	}
	option = {
		name = "UniqueAscensionPerksEvents.312.Pop"
		custom_tooltip = "UniqueAscensionPerksEvents.312.Pop.tooltip"
		hidden_effect = { event_target:surgical_strike_planet = { surgical_strike_kill_pop = yes } }
	}
	option = {
		name = "UniqueAscensionPerksEvents.312.Ragnarok"
		custom_tooltip = "ragnarok_strike_tooltip"
		allow = { has_technology = tech_ragnarok_strike event_target:surgical_strike_fleet = { fleet_size > 200 any_owned_ship = { is_ship_size = titan } } }
		hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.314 } }
	}
	option = { name = ABORT ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.313
	title = "UniqueAscensionPerksEvents.313.Name"
	desc = "UniqueAscensionPerksEvents.313.Desc"
	picture = GFX_evt_victorious_army
	show_sound = event_ground_battle
	is_triggered_only = yes
	location = event_target:surgical_strike_planet
	option = { name = EXCELLENT }
}

country_event = {
	id = UniqueAscensionPerksEvents.314
	show_sound = event_red_alert
	title = "UniqueAscensionPerksEvents.314.Name"
	desc = "UniqueAscensionPerksEvents.314.Desc"
	diplomatic = yes
	force_open = yes
	picture_event_data = { room = surgical_strike_room }
	location = event_target:surgical_strike_planet
	is_triggered_only = yes
	option = {
		name = "UniqueAscensionPerksEvents.314.a"
		custom_tooltip = "ragnarok_strike_tooltip"
		hidden_effect = {
			event_target:surgical_strike_fleet = { set_event_locked = yes }
			country_event = { id = UniqueAscensionPerksEvents.315 days = 30 }
		}
	}
	option = { name = ABORT ai_chance = { factor = 0 } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.312 } } }
}

country_event = {
	id = UniqueAscensionPerksEvents.315
	show_sound = event_super_explosion
	title = "UniqueAscensionPerksEvents.315.Name"
	desc = "UniqueAscensionPerksEvents.315.Desc"
	diplomatic = yes
	force_open = yes
	picture_event_data = { room = surgical_strike_room }
	location = event_target:surgical_strike_planet
	is_triggered_only = yes
	immediate = {
		event_target:surgical_strike_fleet = { set_event_locked = no }
		event_target:surgical_strike_planet = {
			every_owned_pop = { surgical_strike_killed_pop = yes }
			remove_all_buildings = yes
			destroy_colony = yes
			change_pc = pc_broken
			add_threat = { who = root amount = 2 }
		}
	}
	option = { name = EXCELLENT }
}

#######################################
#									 #
############ Chosen Ruler #############
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.320
	title = "ap_chosen_ruler"
	desc = "ap_chosen_ruler_desc"
	show_sound = event_radio_chatter
	picture = GFX_evt_khan_throne_room
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT }
}

country_event = {
	id = UniqueAscensionPerksEvents.321
	hide_window = yes
	mean_time_to_happen = { months = 1 }
	trigger = {
		# is_ai = no
		has_ascension_perk = ap_chosen_ruler
		exists = ruler
		ruler = { has_skill < 10 }
	}
	immediate = {
		ruler = {
			random_list = {
				10 = { add_experience = 40 }
				8 = { add_experience = 100 }
				8 = { add_experience = 150 }
				6 = { add_experience = 200 }
				6 = { add_experience = 300 }
				2 = { add_experience = 400 }
				2 = { add_experience = 800 }
			}
		}
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.322
	show_sound = event_conversation
	title = "UniqueAscensionPerksEvents.322.Name"
	desc = "UniqueAscensionPerksEvents.322.Desc"
	diplomatic = yes
	force_open = yes
	picture_event_data = { portrait = event_target:ruler planet_background = root graphical_culture = root city_level = root room = root }
	location = event_target:target_planet
	mean_time_to_happen = { months = 1 }
	trigger = {
		# is_ai = no
		has_ascension_perk = ap_chosen_ruler
		exists = ruler
		ruler = { has_skill > 9 }
		NOR = {
			has_country_flag = ap_chosen_ruler_no_warning
			has_country_flag = ap_chosen_ruler_inactivity
		}
		any_owned_planet = {
			planet_crime > 10
			NOR = {
				has_modifier = chosen_ruler_crime_preventive_counterstrike
				has_planet_flag = chosen_ruler_crime_preventive_counterstrike_suggestion
			}
		}
	}
	immediate = {
		ruler = { save_event_target_as = ruler }
		random_owned_planet = {
			limit = {
				planet_crime > 10
				NOR = {
					has_modifier = chosen_ruler_crime_preventive_counterstrike
					has_planet_flag = chosen_ruler_crime_preventive_counterstrike_suggestion
				}
			}
			set_timed_planet_flag = { flag = chosen_ruler_crime_preventive_counterstrike_suggestion years = 1 }
			save_event_target_as = target_planet
		}
	}
	option = {
		name = "UniqueAscensionPerksEvents.322.a"
		allow = { resource_stockpile_compare = { resource = energy value > 200 } }
		add_resource = { energy = -200 influence = 1 }
		event_target:target_planet = { add_modifier = { modifier = chosen_ruler_crime_preventive_counterstrike years = 3 } }
	}
	option = {
		name = "UniqueAscensionPerksEvents.322.b"
		allow = { resource_stockpile_compare = { resource = energy value > 200 } }
		custom_tooltip = "UniqueAscensionPerksEvents.322.b.tooltip"
		set_country_flag = ap_chosen_ruler_no_warning
		add_resource = { energy = -200 influence = 1 }
		event_target:target_planet = { add_modifier = { modifier = chosen_ruler_crime_preventive_counterstrike years = 3 } }
	}
	option = { name = "UniqueAscensionPerksEvents.322.c" hidden_effect = { set_timed_country_flag = { flag = ap_chosen_ruler_inactivity days = 1800 } } }
	option = { name = "UniqueAscensionPerksEvents.322.Abort" ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.323
	show_sound = event_conversation
	title = "UniqueAscensionPerksEvents.323.Name"
	desc = "UniqueAscensionPerksEvents.323.Desc"
	diplomatic = yes
	force_open = yes
	picture_event_data = { portrait = event_target:ruler planet_background = root graphical_culture = root city_level = root room = root }
	location = event_target:target_planet
	mean_time_to_happen = { months = 1 }
	trigger = {
		# is_ai = no
		has_ascension_perk = ap_chosen_ruler
		exists = ruler
		ruler = { has_skill > 9 }
		NOR = {
			has_country_flag = ap_chosen_ruler_no_warning
			has_country_flag = ap_chosen_ruler_inactivity
		}
		any_owned_planet = {
			planet_stability <= 45
			NOR = {
				has_modifier = chosen_ruler_stability_local_meeting
				has_planet_flag = chosen_ruler_stability_local_meeting_suggestion
			}
		}
	}
	immediate = {
		ruler = { save_event_target_as = ruler }
		random_owned_planet = {
			limit = {
				planet_stability <= 45
				NOR = {
					has_modifier = chosen_ruler_stability_local_meeting
					has_planet_flag = chosen_ruler_stability_local_meeting_suggestion
				}
			}
			set_timed_planet_flag = { flag = chosen_ruler_stability_local_meeting_suggestion years = 1 }
			save_event_target_as = target_planet
		}
	}
	option = {
		name = "UniqueAscensionPerksEvents.322.a"
		allow = { resource_stockpile_compare = { resource = unity value > 200 } }
		add_resource = { unity = -200 influence = 1 }
		event_target:target_planet = { add_modifier = { modifier = chosen_ruler_stability_local_meeting years = 3 } }
	}
	option = {
		name = "UniqueAscensionPerksEvents.322.b"
		allow = { resource_stockpile_compare = { resource = unity value > 200 } }
		custom_tooltip = "UniqueAscensionPerksEvents.322.b.tooltip"
		set_country_flag = ap_chosen_ruler_no_warning
		add_resource = { unity = -200 influence = 1 }
		event_target:target_planet = { add_modifier = { modifier = chosen_ruler_stability_local_meeting years = 3 } }
	}
	option = { name = "UniqueAscensionPerksEvents.322.c" hidden_effect = { set_timed_country_flag = { flag = ap_chosen_ruler_inactivity days = 1800 } } }
	option = { name = "UniqueAscensionPerksEvents.322.Abort" ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.324
	show_sound = event_conversation
	title = "UniqueAscensionPerksEvents.324.Name"
	desc = "UniqueAscensionPerksEvents.324.Desc"
	diplomatic = yes
	force_open = yes
	picture_event_data = { portrait = event_target:ruler planet_background = root graphical_culture = root city_level = root room = root }
	location = event_target:target_planet
	mean_time_to_happen = { months = 1 }
	trigger = {
		# is_ai = no
		has_ascension_perk = ap_chosen_ruler
		exists = ruler
		ruler = { has_skill > 9 }
		NOR = {
			has_country_flag = ap_chosen_ruler_no_warning
			has_country_flag = ap_chosen_ruler_inactivity
		}
		any_owned_planet = {
			free_housing <= -3
			NOR = {
				has_modifier = chosen_ruler_temporal_housing
				has_planet_flag = chosen_ruler_temporal_housing_suggestion
			}
		}
	}
	immediate = {
		ruler = { save_event_target_as = ruler }
		random_owned_planet = {
			limit = {
				free_housing <= -3
				NOR = {
					has_modifier = chosen_ruler_temporal_housing
					has_planet_flag = chosen_ruler_temporal_housing_suggestion
				}
			}
			set_timed_planet_flag = { flag = chosen_ruler_temporal_housing_suggestion years = 1 }
			save_event_target_as = target_planet
		}
	}
	option = {
		name = "UniqueAscensionPerksEvents.322.a"
		allow = { resource_stockpile_compare = { resource = minerals value > 200 } }
		add_resource = { minerals = -200 influence = 1 }
		event_target:target_planet = { add_modifier = { modifier = chosen_ruler_temporal_housing years = 3 } }
	}
	option = {
		name = "UniqueAscensionPerksEvents.322.b"
		allow = { resource_stockpile_compare = { resource = minerals value > 200 } }
		custom_tooltip = "UniqueAscensionPerksEvents.322.b.tooltip"
		set_country_flag = ap_chosen_ruler_no_warning
		add_resource = { minerals = -200 influence = 1 }
		event_target:target_planet = { add_modifier = { modifier = chosen_ruler_temporal_housing years = 3 } }
	}
	option = { name = "UniqueAscensionPerksEvents.322.c" hidden_effect = { set_timed_country_flag = { flag = ap_chosen_ruler_inactivity days = 1800 } } }
	option = { name = "UniqueAscensionPerksEvents.322.Abort" ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.325
	show_sound = event_conversation
	title = "UniqueAscensionPerksEvents.325.Name"
	desc = {
		trigger = {
			success_text = { text = "UniqueAscensionPerksEvents.325.1.Desc" is_gestalt = no }
			success_text = { text = "UniqueAscensionPerksEvents.325.2.Desc" is_gestalt = yes }
		}
	}
	diplomatic = yes
	force_open = yes
	picture_event_data = { portrait = event_target:ruler planet_background = root graphical_culture = root city_level = root room = root }
	location = event_target:target_planet
	mean_time_to_happen = { months = 1 }
	trigger = {
		# is_ai = no
		has_ascension_perk = ap_chosen_ruler
		exists = ruler
		ruler = { has_skill > 9 }
		NOR = {
			has_country_flag = ap_chosen_ruler_no_warning
			has_country_flag = ap_chosen_ruler_inactivity
		}
		any_owned_planet = {
			free_amenities <= -3
			NOR = {
				has_modifier = chosen_ruler_amenities_distribution
				has_modifier = chosen_ruler_maintenance_campaign
				has_planet_flag = chosen_ruler_amenities_distribution_suggestion
			}
		}
	}
	immediate = {
		ruler = { save_event_target_as = ruler }
		random_owned_planet = {
			limit = {
				free_amenities <= -3
				NOR = {
					has_modifier = chosen_ruler_amenities_distribution
					has_modifier = chosen_ruler_maintenance_campaign
					has_planet_flag = chosen_ruler_amenities_distribution_suggestion
				}
			}
			set_timed_planet_flag = { flag = chosen_ruler_amenities_distribution_suggestion years = 1 }
			save_event_target_as = target_planet
		}
	}
	option = {
		name = "UniqueAscensionPerksEvents.322.a"
		allow = { resource_stockpile_compare = { resource = energy value > 200 } }
		add_resource = { energy = -200 influence = 1 }
		if = { limit = { is_gestalt = no } event_target:target_planet = { add_modifier = { modifier = chosen_ruler_amenities_distribution years = 3 } } } else = { event_target:target_planet = { add_modifier = { modifier = chosen_ruler_maintenance_campaign years = 3 } } }
	}
	option = {
		name = "UniqueAscensionPerksEvents.322.b"
		allow = { resource_stockpile_compare = { resource = energy value > 200 } }
		custom_tooltip = "UniqueAscensionPerksEvents.322.b.tooltip"
		set_country_flag = ap_chosen_ruler_no_warning
		add_resource = { energy = -200 influence = 1 }
		if = { limit = { is_gestalt = no } event_target:target_planet = { add_modifier = { modifier = chosen_ruler_amenities_distribution years = 3 } } } else = { event_target:target_planet = { add_modifier = { modifier = chosen_ruler_maintenance_campaign years = 3 } } }
	}
	option = { name = "UniqueAscensionPerksEvents.322.c" hidden_effect = { set_timed_country_flag = { flag = ap_chosen_ruler_inactivity days = 1800 } } }
	option = { name = "UniqueAscensionPerksEvents.322.Abort" ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.326
	show_sound = event_conversation
	title = "UniqueAscensionPerksEvents.326.Name"
	desc = "UniqueAscensionPerksEvents.326.Desc"
	diplomatic = yes
	force_open = yes
	picture_event_data = { portrait = event_target:ruler planet_background = root graphical_culture = root city_level = root room = root }
	location = event_target:target_planet
	mean_time_to_happen = { months = 1 }
	trigger = {
		# is_ai = no
		has_ascension_perk = ap_chosen_ruler
		exists = ruler
		ruler = { has_skill > 9 }
		NOR = {
			has_country_flag = ap_chosen_ruler_no_warning
			has_country_flag = ap_chosen_ruler_inactivity
		}
		any_owned_planet = {
			count_owned_pop = { limit = { has_job = unemployed } count > 3 }
			NOR = {
				has_modifier = chosen_ruler_job_orientation_normal
				has_modifier = chosen_ruler_job_orientation_gesalt
				has_planet_flag = chosen_ruler_job_orientation_suggestion
			}
		}
	}
	immediate = {
		ruler = { save_event_target_as = ruler }
		random_owned_planet = {
			limit = {
				count_owned_pop = { limit = { has_job = unemployed } count > 3 }
				NOR = {
					has_modifier = chosen_ruler_job_orientation_normal
					has_modifier = chosen_ruler_job_orientation_gesalt
					has_planet_flag = chosen_ruler_job_orientation_suggestion
				}
			}
			set_timed_planet_flag = { flag = chosen_ruler_job_orientation_suggestion years = 1 }
			save_event_target_as = target_planet
		}
	}
	option = {
		name = "UniqueAscensionPerksEvents.322.a"
		allow = { resource_stockpile_compare = { resource = minerals value > 200 } }
		add_resource = { minerals = -200 influence = 1 }
		if = { limit = { is_gestalt = no } event_target:target_planet = { add_modifier = { modifier = chosen_ruler_job_orientation_normal years = 3 } } } else = { event_target:target_planet = { add_modifier = { modifier = chosen_ruler_job_orientation_gesalt years = 3 } } }
	}
	option = {
		name = "UniqueAscensionPerksEvents.322.b"
		allow = { resource_stockpile_compare = { resource = minerals value > 200 } }
		custom_tooltip = "UniqueAscensionPerksEvents.322.b.tooltip"
		set_country_flag = ap_chosen_ruler_no_warning
		add_resource = { minerals = -200 influence = 1 }
		if = { limit = { is_gestalt = no } event_target:target_planet = { add_modifier = { modifier = chosen_ruler_job_orientation_normal years = 3 } } } else = { event_target:target_planet = { add_modifier = { modifier = chosen_ruler_job_orientation_gesalt years = 3 } } }
	}
	option = { name = "UniqueAscensionPerksEvents.322.c" hidden_effect = { set_timed_country_flag = { flag = ap_chosen_ruler_inactivity days = 1800 } } }
	option = { name = "UniqueAscensionPerksEvents.322.Abort" ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.332
	hide_window = yes
	mean_time_to_happen = { months = 2 }
	trigger = {
		# is_ai = no
		has_ascension_perk = ap_chosen_ruler
		exists = ruler
		ruler = { has_skill > 9 }
		has_country_flag = ap_chosen_ruler_no_warning
		NOT = { has_country_flag = ap_chosen_ruler_inactivity }
		resource_stockpile_compare = { resource = energy value > 5000 }
		any_owned_planet = {
			planet_crime > 10
			NOR = {
				has_modifier = chosen_ruler_crime_preventive_counterstrike
				has_planet_flag = chosen_ruler_crime_preventive_counterstrike_suggestion
			}
		}
	}
	immediate = {
		ruler = { save_event_target_as = ruler }
		random_owned_planet = {
			limit = {
				planet_crime > 10
				NOR = {
					has_modifier = chosen_ruler_crime_preventive_counterstrike
					has_planet_flag = chosen_ruler_crime_preventive_counterstrike_suggestion
				}
			}
			set_timed_planet_flag = { flag = chosen_ruler_crime_preventive_counterstrike_suggestion years = 1 }
			save_event_target_as = target_planet
		}
		add_resource = { energy = -200 influence = 1 }
		event_target:target_planet = { add_modifier = { modifier = chosen_ruler_crime_preventive_counterstrike years = 3 } }
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.333
	hide_window = yes
	mean_time_to_happen = { months = 2 }
	trigger = {
		# is_ai = no
		has_ascension_perk = ap_chosen_ruler
		exists = ruler
		ruler = { has_skill > 9 }
		has_country_flag = ap_chosen_ruler_no_warning
		NOT = { has_country_flag = ap_chosen_ruler_inactivity }
		resource_stockpile_compare = { resource = unity value > 5000 }
		any_owned_planet = {
			planet_stability <= 45
			NOR = {
				has_modifier = chosen_ruler_stability_local_meeting
				has_planet_flag = chosen_ruler_stability_local_meeting_suggestion
			}
		}
	}
	immediate = {
		ruler = { save_event_target_as = ruler }
		random_owned_planet = {
			limit = {
				planet_stability <= 45
				NOR = {
					has_modifier = chosen_ruler_stability_local_meeting
					has_planet_flag = chosen_ruler_stability_local_meeting_suggestion
				}
			}
			set_timed_planet_flag = { flag = chosen_ruler_stability_local_meeting_suggestion years = 1 }
			save_event_target_as = target_planet
		}
		add_resource = { unity = -200 influence = 1 }
		event_target:target_planet = { add_modifier = { modifier = chosen_ruler_stability_local_meeting years = 3 } }
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.334
	hide_window = yes
	mean_time_to_happen = { months = 2 }
	trigger = {
		# is_ai = no
		has_ascension_perk = ap_chosen_ruler
		exists = ruler
		ruler = { has_skill > 9 }
		has_country_flag = ap_chosen_ruler_no_warning
		NOT = { has_country_flag = ap_chosen_ruler_inactivity }
		resource_stockpile_compare = { resource = minerals value > 5000 }
		any_owned_planet = {
			free_housing <= -3
			NOR = {
				has_modifier = chosen_ruler_temporal_housing
				has_planet_flag = chosen_ruler_temporal_housing_suggestion
			}
		}
	}
	immediate = {
		ruler = { save_event_target_as = ruler }
		random_owned_planet = {
			limit = {
				free_housing <= -3
				NOR = {
					has_modifier = chosen_ruler_temporal_housing
					has_planet_flag = chosen_ruler_temporal_housing_suggestion
				}
			}
			set_timed_planet_flag = { flag = chosen_ruler_temporal_housing_suggestion years = 1 }
			save_event_target_as = target_planet
		}
		add_resource = { minerals = -200 influence = 1 }
		event_target:target_planet = { add_modifier = { modifier = chosen_ruler_temporal_housing years = 3 } }
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.335
	hide_window = yes
	mean_time_to_happen = { months = 2 }
	trigger = {
		# is_ai = no
		has_ascension_perk = ap_chosen_ruler
		exists = ruler
		ruler = { has_skill > 9 }
		has_country_flag = ap_chosen_ruler_no_warning
		NOT = { has_country_flag = ap_chosen_ruler_inactivity }
		resource_stockpile_compare = { resource = energy value > 5000 }
		any_owned_planet = {
			free_amenities <= -3
			NOR = {
				has_modifier = chosen_ruler_amenities_distribution
				has_modifier = chosen_ruler_maintenance_campaign
				has_planet_flag = chosen_ruler_amenities_distribution_suggestion
			}
		}
	}
	immediate = {
		ruler = { save_event_target_as = ruler }
		random_owned_planet = {
			limit = {
				free_amenities <= -3
				NOR = {
					has_modifier = chosen_ruler_amenities_distribution
					has_modifier = chosen_ruler_maintenance_campaign
					has_planet_flag = chosen_ruler_amenities_distribution_suggestion
				}
			}
			set_timed_planet_flag = { flag = chosen_ruler_amenities_distribution_suggestion years = 1 }
			save_event_target_as = target_planet
		}
		add_resource = { energy = -200 influence = 1 }
		if = { limit = { is_gestalt = no } event_target:target_planet = { add_modifier = { modifier = chosen_ruler_amenities_distribution years = 3 } } } else = { event_target:target_planet = { add_modifier = { modifier = chosen_ruler_maintenance_campaign years = 3 } } }
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.336
	hide_window = yes
	mean_time_to_happen = { months = 2 }
	trigger = {
		# is_ai = no
		has_ascension_perk = ap_chosen_ruler
		exists = ruler
		ruler = { has_skill > 9 }
		has_country_flag = ap_chosen_ruler_no_warning
		NOT = { has_country_flag = ap_chosen_ruler_inactivity }
		resource_stockpile_compare = { resource = minerals value > 5000 }
		any_owned_planet = {
			count_owned_pop = { limit = { has_job = unemployed } count > 3 }
			NOR = {
				has_modifier = chosen_ruler_job_orientation_normal
				has_modifier = chosen_ruler_job_orientation_gesalt
				has_planet_flag = chosen_ruler_job_orientation_suggestion
			}
		}
	}
	immediate = {
		ruler = { save_event_target_as = ruler }
		random_owned_planet = {
			limit = {
				count_owned_pop = { limit = { has_job = unemployed } count > 3 }
				NOR = {
					has_modifier = chosen_ruler_job_orientation_normal
					has_modifier = chosen_ruler_job_orientation_gesalt
					has_planet_flag = chosen_ruler_job_orientation_suggestion
				}
			}
			set_timed_planet_flag = { flag = chosen_ruler_job_orientation_suggestion years = 1 }
			save_event_target_as = target_planet
		}
		add_resource = { minerals = -200 influence = 1 }
		if = { limit = { is_gestalt = no } event_target:target_planet = { add_modifier = { modifier = chosen_ruler_job_orientation_normal years = 3 } } } else = { event_target:target_planet = { add_modifier = { modifier = chosen_ruler_job_orientation_gesalt years = 3 } } }
	}
}

#######################################
#									 #
########## Wheel Of Fortune ###########
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.340
	title = "ap_wheel_fortune"
	desc = "ap_wheel_fortune_desc"
	show_sound = event_finding_loot
	picture = GFX_evt_wheel_fortune
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT give_technology = { tech = tech_treasures } add_resource = { treasures = 50 } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.342 } } }
}

country_event = {
	id = UniqueAscensionPerksEvents.341
	title = "UniqueAscensionPerksEvents.341.Name"
	desc = "UniqueAscensionPerksEvents.341.Desc"
	show_sound = event_finding_loot
	picture = GFX_evt_treasure_pile
	location = event_target:spawn_location
	mean_time_to_happen = { months = 3 }
	trigger = { has_ascension_perk = ap_wheel_fortune NOT = { has_country_flag = treasures_found_cooldown } any_planet_within_border = { NOR = { is_planet_class = pc_gas_giant has_deposit = yes has_owner = yes is_star = yes is_asteroid = yes is_colonizeable_colony = yes } } }
	immediate = {
		random_planet_within_border = {
			limit = { NOR = { is_planet_class = pc_gas_giant has_deposit = yes has_owner = yes is_star = yes is_asteroid = yes is_colonizeable_colony = yes } }
			save_event_target_as = spawn_location
		}
		set_timed_country_flag = { flag = treasures_found_cooldown years = 5 }
	}
	option = {
		name = EXCELLENT ai_chance = { factor = 0 }
		add_resource = { treasures = 25 }
		event_target:spawn_location = {
			random_list = {
				10 = { add_deposit = d_treasures_1 }
				7 = { add_deposit = d_treasures_2 }
				7 = { add_deposit = d_treasures_3 }
				4 = { add_deposit = d_treasures_4 }
				4 = { add_deposit = d_treasures_5 }
				1 = { add_deposit = d_treasures_6 }
			}
		}
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.342
	title = "edict_treasures_menu"
	desc = "UniqueAscensionPerksEvents.342.Desc"
	show_sound = event_finding_loot
	picture = GFX_evt_wheel_fortune
	location = capital_scope
	is_triggered_only = yes
	option = {
		name = "UniqueAscensionPerksEvents.344.Name"
		allow = { custom_tooltip = { fail_text = UniqueAscensionPerksEvents.342.Req01 has_treasures_deal_gestalt = no } }
		hidden_effect = {
			if = { limit = { is_gestalt = no } country_event = { id = UniqueAscensionPerksEvents.343 } } else = { country_event = { id = UniqueAscensionPerksEvents.346 } }
		}
	}
	option = {
		name = UniqueAscensionPerksEvents.348.Name
		allow = { custom_tooltip = { fail_text = UniqueAscensionPerksEvents.342.Req02 NOT = { has_country_flag = pirates_treasures_cooldown } } }
		hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.348 } }
	}
	option = {
		name = UniqueAscensionPerksEvents.352.Name
		allow = { custom_tooltip = { fail_text = UniqueAscensionPerksEvents.342.Req03 NOT = { has_country_flag = artefacts_treasures_cooldown } } host_has_dlc = "Ancient Relics Story Pack" }
		hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.352 } }
	}
	option = {
		name = UniqueAscensionPerksEvents.357.Name
		hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.357 } }
	}
	option = {
		name = UniqueAscensionPerksEvents.359.Name
		allow = {
			resource_stockpile_compare = { resource = treasures value > 500 }
			NOR = { has_modifier = treasures_distribution has_modifier = treasures_distribution_gesalt }
		}
		add_resource = { treasures = -500 }
		if = { limit = { is_gestalt = no } add_modifier = { modifier = treasures_distribution years = 20 } } else_if = { limit = { is_gestalt = yes } add_modifier = { modifier = treasures_distribution_gesalt years = 20 } }
		hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.342 } }
	}
	option = { name = EXIT ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.343
	title = "UniqueAscensionPerksEvents.344.Name"
	desc = "UniqueAscensionPerksEvents.343.Desc"
	show_sound = event_finding_loot
	picture = GFX_evt_wheel_fortune
	is_triggered_only = yes
	immediate = {
		random_owned_planet = { limit = { has_treasures_deal = no }
			save_event_target_as = planet_1
			root = { random_owned_planet = { limit = { has_treasures_deal = no NOT = { is_same_value = event_target:planet_1 } }
				save_event_target_as = planet_2
				root = { random_owned_planet = { limit = { has_treasures_deal = no NOR = { is_same_value = event_target:planet_1 is_same_value = event_target:planet_2 } }
					save_event_target_as = planet_3
					root = { random_owned_planet = { limit = { has_treasures_deal = no NOR = { is_same_value = event_target:planet_1 is_same_value = event_target:planet_2 is_same_value = event_target:planet_3 } }
						save_event_target_as = planet_4
						root = { random_owned_planet = { limit = { has_treasures_deal = no NOR = { is_same_value = event_target:planet_1 is_same_value = event_target:planet_2 is_same_value = event_target:planet_3 is_same_value = event_target:planet_4 } }
							save_event_target_as = planet_5
							root = { random_owned_planet = { limit = { has_treasures_deal = no NOR = { is_same_value = event_target:planet_1 is_same_value = event_target:planet_2 is_same_value = event_target:planet_3 is_same_value = event_target:planet_4 is_same_value = event_target:planet_5 } } save_event_target_as = planet_6 } }
						} }
					} }
				} }
			} }
		}
	}
	option = { name = UniqueAscensionPerksEvents.96.Planet.1 trigger = { exists = event_target:planet_1 } hidden_effect = { event_target:planet_1 = { save_event_target_as = PlanetTarget } country_event = { id = UniqueAscensionPerksEvents.344 } } }
	option = { name = UniqueAscensionPerksEvents.96.Planet.2 trigger = { exists = event_target:planet_2 } hidden_effect = { event_target:planet_2 = { save_event_target_as = PlanetTarget } country_event = { id = UniqueAscensionPerksEvents.344 } } }
	option = { name = UniqueAscensionPerksEvents.96.Planet.3 trigger = { exists = event_target:planet_3 } hidden_effect = { event_target:planet_3 = { save_event_target_as = PlanetTarget } country_event = { id = UniqueAscensionPerksEvents.344 } } }
	option = { name = UniqueAscensionPerksEvents.96.Planet.4 trigger = { exists = event_target:planet_4 } hidden_effect = { event_target:planet_4 = { save_event_target_as = PlanetTarget } country_event = { id = UniqueAscensionPerksEvents.344 } } }
	option = { name = UniqueAscensionPerksEvents.96.Planet.5 trigger = { exists = event_target:planet_5 } hidden_effect = { event_target:planet_5 = { save_event_target_as = PlanetTarget } country_event = { id = UniqueAscensionPerksEvents.344 } } }
	option = { name = UniqueAscensionPerksEvents.96.Planet.6 trigger = { exists = event_target:planet_6 } hidden_effect = { event_target:planet_6 = { save_event_target_as = PlanetTarget } country_event = { id = UniqueAscensionPerksEvents.344 } } }
	option = { name = "UniqueAscensionPerks.select_planet" hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.343 } } }
	option = { name = BACK hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.342 } } ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.344
	title = "UniqueAscensionPerksEvents.344.Name"
	desc = "UniqueAscensionPerksEvents.344.Desc"
	show_sound = event_finding_loot
	picture = GFX_evt_wheel_fortune
	location = event_target:PlanetTarget
	is_triggered_only = yes
	option = { name = UniqueAscensionPerksEvents.344.100 allow = { resource_stockpile_compare = { resource = treasures value > 100 } } add_resource = { treasures = -100 } event_target:PlanetTarget = { add_modifier = { modifier = treasures_trade_100 months = 6 } } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.345 } } }
	option = { name = UniqueAscensionPerksEvents.344.250 allow = { resource_stockpile_compare = { resource = treasures value > 250 } } add_resource = { treasures = -250 } event_target:PlanetTarget = { add_modifier = { modifier = treasures_trade_250 months = 6 } } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.345 } } }
	option = { name = UniqueAscensionPerksEvents.344.500 allow = { resource_stockpile_compare = { resource = treasures value > 500 } } add_resource = { treasures = -500 } event_target:PlanetTarget = { add_modifier = { modifier = treasures_trade_500 months = 6 } } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.345 } } }
	option = { name = UniqueAscensionPerksEvents.344.1000 allow = { resource_stockpile_compare = { resource = treasures value > 1000 } } add_resource = { treasures = -1000 } event_target:PlanetTarget = { add_modifier = { modifier = treasures_trade_1000 months = 6 } } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.345 } } }
	option = { name = UniqueAscensionPerksEvents.344.2000 allow = { resource_stockpile_compare = { resource = treasures value > 2000 } } add_resource = { treasures = -2000 } event_target:PlanetTarget = { add_modifier = { modifier = treasures_trade_2000 months = 6 } } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.345 } } }
	option = { name = ABORT ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.345
	title = "UniqueAscensionPerksEvents.347.Name"
	desc = "UniqueAscensionPerksEvents.345.Desc"
	show_sound = event_finding_loot
	picture = GFX_evt_wheel_fortune
	location = event_target:PlanetTarget
	is_triggered_only = yes
	option = { name = EXCELLENT }
}

country_event = {
	id = UniqueAscensionPerksEvents.346
	title = "UniqueAscensionPerksEvents.344.Name"
	desc = "UniqueAscensionPerksEvents.346.Desc"
	show_sound = event_finding_loot
	picture = GFX_evt_wheel_fortune
	location = capital_scope
	is_triggered_only = yes
	option = { name = UniqueAscensionPerksEvents.344.100 allow = { resource_stockpile_compare = { resource = treasures value > 100 } } add_resource = { treasures = -100 } add_modifier = { modifier = treasures_trade_100_gesalt months = 7 } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.354 days = 420 } country_event = { id = UniqueAscensionPerksEvents.347 } } }
	option = { name = UniqueAscensionPerksEvents.344.250 allow = { resource_stockpile_compare = { resource = treasures value > 250 } } add_resource = { treasures = -250 } add_modifier = { modifier = treasures_trade_250_gesalt months = 7 } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.354 days = 420 } country_event = { id = UniqueAscensionPerksEvents.347 } } }
	option = { name = UniqueAscensionPerksEvents.344.500 allow = { resource_stockpile_compare = { resource = treasures value > 500 } } add_resource = { treasures = -500 } add_modifier = { modifier = treasures_trade_500_gesalt months = 7 } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.354 days = 420 } country_event = { id = UniqueAscensionPerksEvents.347 } } }
	option = { name = UniqueAscensionPerksEvents.344.1000 allow = { resource_stockpile_compare = { resource = treasures value > 1000 } } add_resource = { treasures = -1000 } add_modifier = { modifier = treasures_trade_1000_gesalt months = 7 } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.354 days = 420 } country_event = { id = UniqueAscensionPerksEvents.347 } } }
	option = { name = UniqueAscensionPerksEvents.344.2000 allow = { resource_stockpile_compare = { resource = treasures value > 2000 } } add_resource = { treasures = -2000 } add_modifier = { modifier = treasures_trade_2000_gesalt months = 7 } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.354 days = 420 } country_event = { id = UniqueAscensionPerksEvents.347 } } }
	option = { name = ABORT ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.347
	title = "UniqueAscensionPerksEvents.347.Name"
	desc = "UniqueAscensionPerksEvents.347.Desc"
	show_sound = event_finding_loot
	picture = GFX_evt_wheel_fortune
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT }
}

country_event = {
	id = UniqueAscensionPerksEvents.348
	title = "UniqueAscensionPerksEvents.348.Name"
	desc = "UniqueAscensionPerksEvents.348.Desc"
	show_sound = event_default
	picture = GFX_evt_pirates_attacking_cargo
	is_triggered_only = yes
	option = { name = "UniqueAscensionPerksEvents.348.a" hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.349 } } }
	option = { name = BACK hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.342 } } ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.349
	title = "UniqueAscensionPerksEvents.349.Name"
	desc = "UniqueAscensionPerksEvents.349.Desc"
	show_sound = event_default
	picture = GFX_evt_pirates_attacking_cargo
	location = event_target:special_project_target
	is_triggered_only = yes
	immediate = {
		treasures_pirate_mission_generation = yes
		set_timed_country_flag = { flag = pirates_treasures_cooldown years = 4 }
		country_event = { id = UniqueAscensionPerksEvents.355 days = 1440 }
	}
	option = { name = OK ai_chance = { factor = 0 } }
}

ship_event = {
	id = UniqueAscensionPerksEvents.350
	title = "UniqueAscensionPerksEvents.350.Name"
	desc = "UniqueAscensionPerksEvents.350.Desc"
	picture = GFX_evt_interior_battle
	show_sound = event_ground_battle
	location = event_target:treasures_ship_finished_project
	is_triggered_only = yes
	immediate =	{ treasures_project_finish_select_ship = yes }
	option = {
		name = EXCELLENT
		root.owner = { add_monthly_resource_mult = { resource = treasures value = 4 min = 50 max = 1000 } }
		hidden_effect = { event_target:treasures_ship_finished_project = { destroy_ship = this } }
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.351
	title = "UniqueAscensionPerksEvents.351.Name"
	desc = "UniqueAscensionPerksEvents.351.Desc"
	show_sound = event_finding_loot
	picture = GFX_evt_analyzing_artifacts
	location = event_target:spawn_location
	mean_time_to_happen = { years = 1 }
	trigger = { has_ascension_perk = ap_wheel_fortune NOT = { has_country_flag = treasures_on_colony_found_cooldown } any_owned_planet = { NOT = { has_deposit = d_treasures_planet } } }
	immediate = {
		random_owned_planet = {
			limit = { NOT = { has_deposit = d_treasures_planet } }
			save_event_target_as = spawn_location
		}
		set_timed_country_flag = { flag = treasures_on_colony_found_cooldown years = 8 }
	}
	option = { name = EXCELLENT ai_chance = { factor = 0 } add_resource = { treasures = 50 } event_target:spawn_location = { add_deposit = d_treasures_planet } }
}

country_event = {
	id = UniqueAscensionPerksEvents.352
	title = "UniqueAscensionPerksEvents.352.Name"
	desc = "UniqueAscensionPerksEvents.352.Desc"
	show_sound = event_finding_loot
	picture = GFX_evt_analyzing_artifacts
	is_triggered_only = yes
	option = { name = UniqueAscensionPerksEvents.352.100 allow = { resource_stockpile_compare = { resource = treasures value > 100 } } add_resource = { treasures = -100 minor_artifacts = 5 } hidden_effect = { set_timed_country_flag = { flag = artefacts_treasures_cooldown months = 10 } country_event = { id = UniqueAscensionPerksEvents.356 days = 300 } country_event = { id = UniqueAscensionPerksEvents.353 } } }
	option = { name = UniqueAscensionPerksEvents.352.200 allow = { resource_stockpile_compare = { resource = treasures value > 200 } } add_resource = { treasures = -200 minor_artifacts = 10 } hidden_effect = { set_timed_country_flag = { flag = artefacts_treasures_cooldown months = 20 } country_event = { id = UniqueAscensionPerksEvents.356 days = 600 } country_event = { id = UniqueAscensionPerksEvents.353 } } }
	option = { name = UniqueAscensionPerksEvents.352.400 allow = { resource_stockpile_compare = { resource = treasures value > 400 } } add_resource = { treasures = -400 minor_artifacts = 20 } hidden_effect = { set_timed_country_flag = { flag = artefacts_treasures_cooldown months = 40 } country_event = { id = UniqueAscensionPerksEvents.356 days = 1200 } country_event = { id = UniqueAscensionPerksEvents.353 } } }
	option = { name = UniqueAscensionPerksEvents.352.800 allow = { resource_stockpile_compare = { resource = treasures value > 800 } } add_resource = { treasures = -800 minor_artifacts = 40 } hidden_effect = { set_timed_country_flag = { flag = artefacts_treasures_cooldown months = 80 } country_event = { id = UniqueAscensionPerksEvents.356 days = 2400 } country_event = { id = UniqueAscensionPerksEvents.353 } } }
	option = { name = BACK hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.342 } } ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.353
	title = "UniqueAscensionPerksEvents.353.Name"
	desc = "UniqueAscensionPerksEvents.353.Desc"
	show_sound = event_finding_loot
	picture = GFX_evt_analyzing_artifacts
	is_triggered_only = yes
	option = { name = EXCELLENT }
}

country_event = {
	id = UniqueAscensionPerksEvents.354
	title = "UniqueAscensionPerksEvents.354.Name"
	desc = "UniqueAscensionPerksEvents.356.Desc"
	show_sound = event_finding_loot
	picture = GFX_evt_wheel_fortune
	location = capital_scope
	is_triggered_only = yes
	option = { name = "UniqueAscensionPerks.lets_see" hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.342 } } }
	option = { name = OK ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.355
	title = "UniqueAscensionPerksEvents.355.Name"
	desc = "UniqueAscensionPerksEvents.356.Desc"
	show_sound = event_finding_loot
	picture = GFX_evt_wheel_fortune
	location = capital_scope
	is_triggered_only = yes
	option = { name = "UniqueAscensionPerks.lets_see" hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.342 } } }
	option = { name = OK ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.356
	title = "UniqueAscensionPerksEvents.356.Name"
	desc = "UniqueAscensionPerksEvents.356.Desc"
	show_sound = event_finding_loot
	picture = GFX_evt_wheel_fortune
	location = capital_scope
	is_triggered_only = yes
	option = { name = "UniqueAscensionPerks.lets_see" hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.342 } } }
	option = { name = OK ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.357
	title = "UniqueAscensionPerksEvents.357.Name"
	desc = "UniqueAscensionPerksEvents.357.Desc"
	show_sound = event_finding_loot
	picture = GFX_evt_wheel_fortune
	is_triggered_only = yes
	immediate = {
		random_country = { limit = { can_recieve_treasures_donation = yes NOT = { is_same_empire = root } }
			save_event_target_as = country_1
			random_country = { limit = { can_recieve_treasures_donation = yes NOR = { is_same_empire = root is_same_empire = event_target:country_1 } }
				save_event_target_as = country_2
				random_country = { limit = { can_recieve_treasures_donation = yes NOR = { is_same_empire = root is_same_empire = event_target:country_1 is_same_empire = event_target:country_2 } }
					save_event_target_as = country_3
					random_country = { limit = { can_recieve_treasures_donation = yes NOR = { is_same_empire = root is_same_empire = event_target:country_1 is_same_empire = event_target:country_2 is_same_empire = event_target:country_3 } }
						save_event_target_as = country_4
						random_country = { limit = { can_recieve_treasures_donation = yes NOR = { is_same_empire = root is_same_empire = event_target:country_1 is_same_empire = event_target:country_2 is_same_empire = event_target:country_3 is_same_empire = event_target:country_4 } }
							save_event_target_as = country_5
							random_country = { limit = { can_recieve_treasures_donation = yes NOR = { is_same_empire = root is_same_empire = event_target:country_1 is_same_empire = event_target:country_2 is_same_empire = event_target:country_3 is_same_empire = event_target:country_4 is_same_empire = event_target:country_5 } } save_event_target_as = country_6 }
						}
					}
				}
			}
		}
	}
	option = {
		name = "UniqueAscensionPerksEvents.206.Country.1"
		trigger = { exists = event_target:country_1 }
		allow = { resource_stockpile_compare = { resource = treasures value > 500 } }
		add_resource = { treasures = -500 }
		hidden_effect = { event_target:country_1 = { save_event_target_as = CountryTargetForPresent } country_event = { id = UniqueAscensionPerksEvents.358 } }
	}
	option = {
		name = "UniqueAscensionPerksEvents.206.Country.2"
		trigger = { exists = event_target:country_2 }
		allow = { resource_stockpile_compare = { resource = treasures value > 500 } }
		add_resource = { treasures = -500 }
		hidden_effect = { event_target:country_2 = { save_event_target_as = CountryTargetForPresent } country_event = { id = UniqueAscensionPerksEvents.358 } }
	}
	option = {
		name = "UniqueAscensionPerksEvents.206.Country.3"
		trigger = { exists = event_target:country_3 }
		allow = { resource_stockpile_compare = { resource = treasures value > 500 } }
		add_resource = { treasures = -500 }
		hidden_effect = { event_target:country_3 = { save_event_target_as = CountryTargetForPresent } country_event = { id = UniqueAscensionPerksEvents.358 } }
	}
	option = {
		name = "UniqueAscensionPerksEvents.206.Country.4"
		trigger = { exists = event_target:country_4 }
		allow = { resource_stockpile_compare = { resource = treasures value > 500 } }
		add_resource = { treasures = -500 }
		hidden_effect = { event_target:country_4 = { save_event_target_as = CountryTargetForPresent } country_event = { id = UniqueAscensionPerksEvents.358 } }
	}
	option = {
		name = "UniqueAscensionPerksEvents.206.Country.5"
		trigger = { exists = event_target:country_5 }
		allow = { resource_stockpile_compare = { resource = treasures value > 500 } }
		add_resource = { treasures = -500 }
		hidden_effect = { event_target:country_5 = { save_event_target_as = CountryTargetForPresent } country_event = { id = UniqueAscensionPerksEvents.358 } }
	}
	option = {
		name = "UniqueAscensionPerksEvents.206.Country.6"
		trigger = { exists = event_target:country_6 }
		allow = { resource_stockpile_compare = { resource = treasures value > 500 } }
		add_resource = { treasures = -500 }
		hidden_effect = { event_target:country_6 = { save_event_target_as = CountryTargetForPresent } country_event = { id = UniqueAscensionPerksEvents.358 } }
	}
	option = { name = "UniqueAscensionPerks.select_country" hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.357 } } }
	option = { name = BACK hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.342 } } ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.358
	title = "UniqueAscensionPerksEvents.395.Name"
	desc = "UniqueAscensionPerksEvents.358.Desc"
	is_triggered_only = yes
	diplomatic = yes
	picture_event_data = {
		portrait = event_target:CountryTargetForPresent
		planet_background = event_target:CountryTargetForPresent
		graphical_culture = event_target:CountryTargetForPresent
		city_level = event_target:CountryTargetForPresent
		room = event_target:CountryTargetForPresent.ruler
	}
	option = { name = "UniqueAscensionPerksEvents.358.a" treasures_opinion_set = yes ai_chance = { factor = 0 } }
}

#######################################
#									 #
############ Slow Learner #############
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.400
	title = "ap_slow_learner"
	desc = "ap_slow_learner_desc"
	show_sound = event_mystic_reveal
	diplomatic = yes
	force_open = yes
	picture_event_data = { room = slow_learner_room }
	is_triggered_only = yes
	option = {
		name = EXCELLENT
		enable_special_project = { name = SLOW_LEARNER_ARMY location = capital_scope owner = root }
	}
}
# 3.3 values reduced
country_event = {
	id = UniqueAscensionPerksEvents.401
	title = "UniqueAscensionPerksEvents.401.Name"
	desc = "UniqueAscensionPerksEvents.401.Desc"
	show_sound = event_mystic_reveal
	diplomatic = yes
	force_open = yes
	picture_event_data = { room = slow_learner_room }
	is_triggered_only = yes
	option = { name = "UniqueAscensionPerksEvents.401.Alpha"	trigger = { NOT = { has_modifier = slow_learner_bonus_1 } } add_modifier = { modifier = slow_learner_bonus_1 } add_resource = { unity = 3500 } }
	option = { name = "UniqueAscensionPerksEvents.401.Beta" 	trigger = { NOT = { has_modifier = slow_learner_bonus_2 } } add_modifier = { modifier = slow_learner_bonus_2 } add_resource = { unity = 3500 } }
	option = { name = "UniqueAscensionPerksEvents.401.Gamma"	trigger = { NOT = { has_modifier = slow_learner_bonus_3 } } add_modifier = { modifier = slow_learner_bonus_3 } add_resource = { unity = 3500 } }
	option = { name = "UniqueAscensionPerksEvents.401.Delta"	trigger = { NOT = { has_modifier = slow_learner_bonus_4 } } add_modifier = { modifier = slow_learner_bonus_4 } add_resource = { unity = 3500 } }
}
# 3.3 value reduced
country_event = {
	id = UniqueAscensionPerksEvents.402
	title = "SLOW_LEARNER_ARMY"
	desc = "UniqueAscensionPerksEvents.402.Desc"
	show_sound = event_mystic_reveal
	picture = GFX_evt_slow_learner
	is_triggered_only = yes
	immediate = { set_country_flag = slow_learner_army }
	option = { name = EXCELLENT add_resource = { unity = 12000 } }
}

#######################################
#									 #
######## Utopian Realisation ##########
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.410
	title = "ap_utopian_realisation"
	desc = "ap_utopian_realisation_desc"
	show_sound = event_laboratory_sound
	diplomatic = yes
	force_open = yes
	picture_event_data = { room = utopian_realisation_room }
	is_triggered_only = yes
	option = {
		name = EXCELLENT
		enable_special_project = { name = UTOPIAN_REALISATION location = capital_scope owner = root }
		ai_chance = { factor = 0 }
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.411
	title = "UniqueAscensionPerksEvents.411.Name"
	desc = "UniqueAscensionPerksEvents.411.Desc"
	show_sound = event_laboratory_sound
	diplomatic = yes
	force_open = yes
	picture_event_data = { room = utopian_realisation_room }
	is_triggered_only = yes
	location = event_target:capital_planet
	immediate = { random_owned_planet = { limit = { is_capital = yes } save_event_target_as = capital_planet } }
	option = {
		name = "UniqueAscensionPerksEvents.411.a"
		ai_chance = { factor = 0 }
		random_owned_planet = {
			limit = { is_capital = yes }
			change_pc = pc_gaia
			add_modifier = { modifier = "gaia_world" }
			change_planet_size = 10
			custom_tooltip = "UniqueAscensionPerksEvents.411.a.tooltip"
			hidden_effect = { while = { count = 12 create_species = { name = random class = random_non_machine portrait = random traits = random } create_pop = { species = last_created_species } } }
		}
	}
	option = {
		name = "UniqueAscensionPerksEvents.411.b"
		random_owned_planet = {
			limit = { is_capital = yes }
			change_planet_size = 10
			custom_tooltip = "UniqueAscensionPerksEvents.411.a.tooltip"
			hidden_effect = { while = { count = 12 create_species = { name = random class = random_non_machine portrait = random traits = random } create_pop = { species = last_created_species } } }
		}
	}
}

#######################################
#									 #
########## Executive Vigor ############
#									 #
#######################################

event = {
	id = UniqueAscensionPerksEvents.420
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		random_playable_country = {
			limit = { has_ascension_perk = ap_executive_vigor NOT = { has_country_flag = ap_executive_vigor_project_available } }
			country_event = { id = UniqueAscensionPerksEvents.421 }
		}
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.421
	title = "ap_executive_vigor"
	desc = "ap_executive_vigor_desc"
	show_sound = event_factions
	picture = GFX_evt_galactic_senate
	location = capital_scope
	is_triggered_only = yes
	immediate = { set_country_flag = ap_executive_vigor_project_available }
	option = { name = EXCELLENT enable_special_project = { name = EXECUTIVE_VIGOR location = capital_scope owner = root } }
}

country_event = {
	id = UniqueAscensionPerksEvents.422
	title = "EXECUTIVE_VIGOR"
	desc = "EXECUTIVE_VIGOR_DESC"
	show_sound = event_mystic_reveal
	picture = GFX_evt_galactic_senate
	is_triggered_only = yes
	option = { name = "UniqueAscensionPerksEvents.422.First" allow = { NOT = { has_modifier = executive_vigor_bonus_1 } } add_modifier = { modifier = executive_vigor_bonus_1 } }
	option = { name = "UniqueAscensionPerksEvents.422.Second" allow = { NOT = { has_modifier = executive_vigor_bonus_2 } } add_modifier = { modifier = executive_vigor_bonus_2 } }
	option = { name = "UniqueAscensionPerksEvents.422.Third" allow = { NOT = { has_modifier = executive_vigor_bonus_3 } } add_modifier = { modifier = executive_vigor_bonus_3 } }
}

#######################################
#									 #
######### Light of Eternity ###########
#									 #
####################################### Credits to Thanatos996 the original creator of that feature in Stellaris 2.1

country_event = {
	id = UniqueAscensionPerksEvents.430
	title = "ap_antimatter"
	desc = "ap_antimatter_desc"
	show_sound = event_activating_unknown_technology
	picture = GFX_evt_antimatter
	is_triggered_only = yes
	immediate = {
		set_spawn_system_batch = begin
		if = { limit = { exists = capital_scope }
			capital_scope = { spawn_system = { min_distance > 4 max_distance <= 8 initializer = "white_hole_system_1" } }
		} else = {
			random_owned_planet = { limit = { is_sector_capital = yes }
				spawn_system = { min_distance > 4 max_distance <= 8 initializer = "white_hole_system_1" }
			}
		}
		set_spawn_system_batch = end
		last_created_system = {
			system_event = { id = UniqueAscensionPerksEvents.439 days = 120 random = 60 }
		}
		country_event = { id = UniqueAscensionPerksEvents.432 days = 60 random = 60 }
		country_event = { id = UniqueAscensionPerksEvents.432 days = 720 random = 360 }
		country_event = { id = UniqueAscensionPerksEvents.432 days = 1440 random = 360 }
		country_event = { id = UniqueAscensionPerksEvents.432 days = 2160 random = 360 }

	}
	option = {
		name = EXCELLENT
		add_research_option = tech_mine_dark_matter
		add_research_option = tech_mine_anti_matter
		add_research_option = tech_space_cloud_weapon_1
	}
}

ship_event = {
	id = UniqueAscensionPerksEvents.431
	title = "UniqueAscensionPerksEvents.431.Name"
	desc = {
		trigger = {
			success_text = { text = "UniqueAscensionPerksEvents.431.anti_matter" hidden:owner = { resource_stockpile_compare = { resource = anti_matter value > 0 } } }
			success_text = { text = "UniqueAscensionPerksEvents.431.has_tech" OR = { AND = { hidden:owner = { resource_stockpile_compare = { resource = anti_matter value > 0 } } hidden:owner = { has_technology = tech_mine_anti_matter } } } }
			success_text = { text = "UniqueAscensionPerksEvents.431.no_tech" NOR = { AND = { hidden:owner = { resource_stockpile_compare = { resource = anti_matter value > 0 } } hidden:owner = { has_technology = tech_mine_anti_matter } } } }
		}
	}
	picture = GFX_evt_surreal_visions
	show_sound = event_default
	location = from
	is_triggered_only = yes
	trigger = {
		from = { has_strategic_resource = yes }
		owner = {
			root.owner = { resource_stockpile_compare = { resource = anti_matter value > 0 } }
			NOT = { has_country_flag = anti_matter_found }
		}
	}
	immediate = { from = { if = { limit = { resource_stockpile_compare = { resource = anti_matter value > 0 } } root.owner = { set_country_flag = anti_matter_found } } } }
	option = { name = OK from = { if = { limit = { resource_stockpile_compare = { resource = anti_matter value > 0 } } custom_tooltip = UniqueAscensionPerksEvents.431.anti_matter.tooltip } } }
}

country_event = {
	id = UniqueAscensionPerksEvents.432
	hide_window = yes
	is_triggered_only = yes
	trigger = { # 3.3 added limit
		check_variable = { which = white_hole_systems value < 11 }
		event_target:global_event_country = { check_variable = { which = white_hole_systems value < 32 } }
	}
	immediate = {
		# spawn_white_hole_system = yes
		random_system_within_border = {
			save_event_target_as = origin_system
			set_spawn_system_batch = begin
			random_list = {
				100 = { spawn_system = { min_distance >= 4 max_distance <= 8 initializer = "white_hole_system_1" hyperlane = no } }
				100 = { spawn_system = { min_distance >= 4 max_distance <= 8 initializer = "white_hole_system_2" hyperlane = no } }
				100 = { spawn_system = { min_distance >= 4 max_distance <= 8 initializer = "white_hole_system_3" hyperlane = no } }
				40 = { spawn_system = { min_distance >= 4 max_distance <= 8 initializer = "white_hole_system_4" hyperlane = no } }
				40 = { spawn_system = { min_distance >= 4 max_distance <= 8 initializer = "white_hole_system_5" hyperlane = no } }
				5 = { spawn_system = { min_distance >= 4 max_distance <= 8 initializer = "white_hole_system_10" hyperlane = no } }
			}
			last_created_system = {
				# save_event_target_as = white_hole_system
				if = { limit = { NOT = { root = { has_country_flag = notify_white_hole_detection_no_warning } } }
					system_event = { id = UniqueAscensionPerksEvents.433 days = 3 }
				}
				add_hyperlane = { from = this to = prev }
				system_event = { id = UniqueAscensionPerksEvents.439 days = 120 random = 60 }
			}
			set_spawn_system_batch = end
		}
		change_variable = { which = white_hole_systems value = 1 }
		event_target:global_event_country = { change_variable = { which = white_hole_systems value = 1 } }
	}
}

system_event = {
	id = UniqueAscensionPerksEvents.433
	title = "UniqueAscensionPerksEvents.433.Name"
	desc = "UniqueAscensionPerksEvents.433.Desc"
	show_sound = event_activating_unknown_technology
	picture = GFX_evt_antimatter
	location = root # event_target:white_hole_system
	is_triggered_only = yes
	trigger = {
		from = { NOT = { has_country_flag = notify_white_hole_detection_no_warning } }
	}
	option = {
		name = "UniqueAscensionPerksEvents.433.a"
		from = { set_country_flag = notify_white_hole_detection_no_warning }
	}
	option = { name = EXCELLENT }
}

# 3.3: halved the values
country_event = {
	id = UniqueAscensionPerksEvents.434
	title = "edict_anti_matter_menu"
	desc = "UniqueAscensionPerksEvents.434.Desc"
	show_sound = event_activating_unknown_technology
	picture = GFX_evt_antimatter
	auto_select = no
	auto_opens = no
	is_triggered_only = yes
	option = {
		name = UniqueAscensionPerksEvents.434.Energy
		allow = { resource_stockpile_compare = { resource = anti_matter value > 500 } NOT = { has_modifier = anti_matter_energy } }
		add_resource = { anti_matter = -500 }
		add_modifier = { modifier = anti_matter_energy years = 15 }
		hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.434 } country_event = { id = UniqueAscensionPerksEvents.435 days = 5400 } }
	}
	option = {
		name = UniqueAscensionPerksEvents.434.Physics
		allow = { resource_stockpile_compare = { resource = anti_matter value > 500 } NOT = { has_modifier = anti_matter_dark_physics } }
		add_resource = { anti_matter = -500 }
		add_modifier = { modifier = anti_matter_dark_physics years = 15 }
		hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.434 } country_event = { id = UniqueAscensionPerksEvents.435 days = 5400 } }
	}
	option = {
		name = UniqueAscensionPerksEvents.434.Dark
		allow = { resource_stockpile_compare = { resource = anti_matter value > 750 } NOT = { has_modifier = anti_matter_dark_matter } has_technology = tech_mine_dark_matter }
		add_resource = { anti_matter = -750 }
		add_modifier = { modifier = anti_matter_dark_matter years = 15 }
		hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.434 } country_event = { id = UniqueAscensionPerksEvents.435 days = 5400 } }
	}
	option = {
		name = UniqueAscensionPerksEvents.434.Weapons
		allow = { resource_stockpile_compare = { resource = anti_matter value > 900 } NOT = { has_modifier = anti_matter_energy_weapons } }
		add_resource = { anti_matter = -900 }
		add_modifier = { modifier = anti_matter_energy_weapons years = 15 }
		hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.434 } country_event = { id = UniqueAscensionPerksEvents.435 days = 5400 } }
	}
	option = {
		name = UniqueAscensionPerksEvents.434.Shields
		allow = { resource_stockpile_compare = { resource = anti_matter value > 750 } NOT = { has_modifier = anti_matter_shields } }
		add_resource = { anti_matter = -750 }
		add_modifier = { modifier = anti_matter_shields years = 15 }
		hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.434 } country_event = { id = UniqueAscensionPerksEvents.435 days = 5400 } }
	}
	option = {
		name = UniqueAscensionPerksEvents.434.Thrusters
		allow = { resource_stockpile_compare = { resource = anti_matter value > 500 } NOT = { has_modifier = anti_matter_trusters } }
		add_resource = { anti_matter = -500 }
		add_modifier = { modifier = anti_matter_trusters years = 15 }
		hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.434 } country_event = { id = UniqueAscensionPerksEvents.435 days = 5400 } }
	}
	option = {
		name = UniqueAscensionPerksEvents.434.Upkeep
		allow = { resource_stockpile_compare = { resource = anti_matter value > 500 } NOT = { has_modifier = anti_matter_upkeep } }
		add_resource = { anti_matter = -500 }
		add_modifier = { modifier = anti_matter_upkeep years = 15 }
		hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.434 } country_event = { id = UniqueAscensionPerksEvents.435 days = 5400 } }
	}
	option = {
		name = "UniqueAscensionPerksEvents.434.WhiteHole"
		trigger = { # 3.3 added limit
			check_variable = { which = white_hole_systems value < 11 }
			event_target:global_event_country = { check_variable = { which = white_hole_systems value < 32 } }
		}
		allow = { resource_stockpile_compare = { resource = anti_matter value > 250 } custom_tooltip = { fail_text = UniqueAscensionPerksEvents.434.Req01 NOT = { has_country_flag = white_hole_detection_cooldown } } }
		add_resource = { anti_matter = -250 }
		hidden_effect = {
			set_timed_country_flag = { flag = white_hole_detection_cooldown years = 3 }
			country_event = { id = UniqueAscensionPerksEvents.432 }
			country_event = { id = UniqueAscensionPerksEvents.434 }
			country_event = { id = UniqueAscensionPerksEvents.436 days = 1080 }
		}
	}
	option = {
		name = "UniqueAscensionPerksEvents.434.Cloud"
		allow = {
			resource_stockpile_compare = { resource = anti_matter value > 500 } has_technology = tech_space_cloud_weapon_1 custom_tooltip = { fail_text = UniqueAscensionPerksEvents.434.Req02 NOT = { has_country_flag = space_clouds_generation_cooldown } }
			count_owned_fleet = { count < 21 limit = { is_civilian = no has_fleet_flag = space_clouds_generation_fleet } }
		}
		add_resource = { anti_matter = -500 }
		custom_tooltip = "UniqueAscensionPerksEvents.434.Cloud.tooltip"
		hidden_effect = {
			set_timed_country_flag = { flag = space_clouds_generation_cooldown years = 3 }
			country_event = { id = UniqueAscensionPerksEvents.434 }
			country_event = { id = UniqueAscensionPerksEvents.438 days = 1080 }
			if = { limit = { exists = capital_scope } capital_scope = { save_event_target_as = spawn_location }
			} else = { random_owned_planet = { limit = { is_colony = yes } save_event_target_as = spawn_location } }
			create_fleet = {
				name = "Space Clouds"
				effect = {
					set_owner = root
					while = { count = 7 create_ship = { name = "" design = "Domesticated Space Cloud" effect = { add_modifier = { modifier = domesticated_aliens } } } }
					while = { count = 7 random = { chance = 50 create_ship = { name = "" design = "Domesticated Space Cloud" effect = { add_modifier = { modifier = domesticated_aliens } } } } }
					set_location = { target = event_target:spawn_location distance = 250 angle = random }
					set_fleet_stance = aggressive
					set_aggro_range_measure_from = self
					set_aggro_range = 1000
					set_formation_scale = 4.0
					set_fleet_flag = space_clouds_generation_fleet
				}
			}
		}
	}
	option = { name = EXIT ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.435
	title = "UniqueAscensionPerksEvents.435.Name"
	desc = "UniqueAscensionPerksEvents.435.Desc"
	show_sound = event_activating_unknown_technology
	picture = GFX_evt_antimatter
	auto_select = no
	auto_opens = no
	is_triggered_only = yes
	option = { name = "edict_anti_matter_menu" hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.434 } } }
	option = { name = "UniqueAscensionPerksEvents.436.b" ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.436
	title = "UniqueAscensionPerksEvents.436.Name"
	desc = "UniqueAscensionPerksEvents.436.Desc"
	show_sound = event_activating_unknown_technology
	picture = GFX_evt_antimatter
	auto_select = no
	auto_opens = no
	is_triggered_only = yes
	option = { name = "edict_anti_matter_menu"
		hidden_effect = {
			if = { limit = { NOT = { has_country_flag = notify_white_hole_detection_no_warning } }
				country_event = { id = UniqueAscensionPerksEvents.434 }
			}
		}
	}
	option = { name = "UniqueAscensionPerksEvents.436.b" ai_chance = { factor = 0 } }
}

ship_event = {
	id = UniqueAscensionPerksEvents.437
	title = "UniqueAscensionPerksEvents.531.Name"
	desc = "UniqueAscensionPerksEvents.437.Desc"
	picture = GFX_evt_space_station
	show_sound = event_scanner
	location = root
	is_triggered_only = yes
	trigger = {
		exists = owner
		owner = { has_ascension_perk = ap_antimatter }
		from = {
			is_star_class = sc_whitte_hole
			NOT = { exists = starbase }
		}
	}
	immediate = {
		owner = { save_event_target_as = science_ship_owner }
		from = {
			save_event_target_as = survey_system
			create_starbase = {
				size = starbase_outpost
				owner = event_target:science_ship_owner
			}
		}
	}
	option = { name = EXCELLENT }
}

country_event = {
	id = UniqueAscensionPerksEvents.438
	title = "UniqueAscensionPerksEvents.438.Name"
	desc = "UniqueAscensionPerksEvents.438.Desc"
	show_sound = event_activating_unknown_technology
	picture = GFX_evt_antimatter
	auto_select = no
	auto_opens = no
	is_triggered_only = yes
	option = {
		name = "edict_anti_matter_menu"
		hidden_effect = {
			if = { limit = { count_owned_fleet = { count < 21 limit = { is_civilian = no has_fleet_flag = space_clouds_generation_fleet } } }
				country_event = { id = UniqueAscensionPerksEvents.434 }
			}
		}
	}
	option = { name = "UniqueAscensionPerksEvents.436.b" ai_chance = { factor = 0 } }
}

system_event = {
	id = UniqueAscensionPerksEvents.439
	hide_window = yes
	# mean_time_to_happen = { months = 5 }
	is_triggered_only = yes
	trigger = {
		any_system_planet = {
			is_planet_class = pc_whitte_hole
			NOT = { has_planet_flag = white_hole_physics_deposit }
		}
	}
	immediate = {
		every_system_planet = {
			limit = {
				is_planet_class = pc_whitte_hole
				NOT = { has_planet_flag = white_hole_physics_deposit }
			}
			set_planet_flag = white_hole_physics_deposit
			random_list = {
				10 = { add_deposit = d_physics_6 }
				10 = { add_deposit = d_physics_7 }
				10 = { add_deposit = d_physics_8 }
				10 = { add_deposit = d_physics_9 }
			}
		}
	}
}

#######################################
#									 #
########## Self Managed Colony ##########
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.460
	title = "ap_self_aware_colony"
	desc = "ap_self_aware_colony_desc"
	show_sound = event_cityscape
	picture = GFX_evt_self_aware_colony
	is_triggered_only = yes
	option = { name = EXCELLENT }
}

# This = event_target:self_aware_planet
planet_event = {
	id = UniqueAscensionPerksEvents.461
	title = "decision_self_aware_colony_menu"
	desc = "UniqueAscensionPerksEvents.461.Desc"
	show_sound = event_cityscape
	picture = GFX_evt_self_aware_colony
	location = root
	is_triggered_only = yes
	immediate = {
		# save_event_target_as = self_aware_planet
	}
	option = { name = "UniqueAscensionPerksEvents.461.Construct.Random" allow = { exists = owner owner = { resource_stockpile_compare = { resource = minerals value > 1000 } } } hidden_effect = { set_planet_flag = self_aware_manual_order planet_event = { id = UniqueAscensionPerksEvents.461 } } self_aware_colony_deposit_selection = yes custom_tooltip = "UniqueAscensionPerksEvents.461.Construct.Random.tooltip" }
	option = { name = "UniqueAscensionPerksEvents.461.Construct.NoRandom" hidden_effect = { planet_event = { id = UniqueAscensionPerksEvents.466 } } custom_tooltip = "UniqueAscensionPerksEvents.461.Construct.NoRandom.tooltip" }
	option = { name = "UniqueAscensionPerksEvents.461.Energy" allow = { NOT = { has_modifier = self_aware_energy } } self_aware_colony_clear_focus = yes add_modifier = { modifier = self_aware_energy } hidden_effect = { planet_event = { id = UniqueAscensionPerksEvents.461 } } }
	option = { name = "UniqueAscensionPerksEvents.461.Minerals" allow = { NOT = { has_modifier = self_aware_minerals } custom_tooltip = { fail_text = UniqueAscensionPerksEvents.461.Req01 OR = { is_habitat_planet = no AND = { is_habitat_planet = yes has_planet_flag = mining_habitat } } } } self_aware_colony_clear_focus = yes add_modifier = { modifier = self_aware_minerals } hidden_effect = { planet_event = { id = UniqueAscensionPerksEvents.461 } } }
	option = { name = "UniqueAscensionPerksEvents.461.Food" allow = { NOT = { has_modifier = self_aware_food } custom_tooltip = { fail_text = UniqueAscensionPerksEvents.461.Req01 is_habitat_planet = no } } self_aware_colony_clear_focus = yes add_modifier = { modifier = self_aware_food } hidden_effect = { planet_event = { id = UniqueAscensionPerksEvents.461 } } }
	option = { name = "UniqueAscensionPerksEvents.461.Consumers" allow = { OR = { has_global_flag = ap_self_aware_colony AND = { exists = owner owner = { is_gestalt = no has_technology = tech_luxuries_2 } } } NOT = { has_modifier = self_aware_consumers } custom_tooltip = { fail_text = UniqueAscensionPerksEvents.461.Req01 is_habitat_planet = no } } self_aware_colony_clear_focus = yes add_modifier = { modifier = self_aware_consumers } hidden_effect = { planet_event = { id = UniqueAscensionPerksEvents.461 } } }
	option = { name = "UniqueAscensionPerksEvents.461.Alloys" allow = { OR = { has_global_flag = ap_self_aware_colony AND = { exists = owner owner = { has_technology = tech_alloys_2 } } } NOT = { has_modifier = self_aware_alloys } custom_tooltip = { fail_text = UniqueAscensionPerksEvents.461.Req01 is_habitat_planet = no } } self_aware_colony_clear_focus = yes add_modifier = { modifier = self_aware_alloys } hidden_effect = { planet_event = { id = UniqueAscensionPerksEvents.461 } } }
	option = { name = "UniqueAscensionPerksEvents.461.Research" allow = { OR = { has_global_flag = ap_self_aware_colony AND = { exists = owner owner = { has_technology = tech_basic_science_lab_3 } } } NOT = { has_modifier = self_aware_research } custom_tooltip = { fail_text = UniqueAscensionPerksEvents.461.Req01 OR = { is_habitat_planet = no AND = { is_habitat_planet = yes has_planet_flag = research_habitat } } } } self_aware_colony_clear_focus = yes add_modifier = { modifier = self_aware_research } hidden_effect = { planet_event = { id = UniqueAscensionPerksEvents.461 } } }
	option = { name = "UniqueAscensionPerksEvents.461.Trade" allow = { OR = { has_global_flag = ap_self_aware_colony AND = { exists = owner owner = { has_technology = tech_interstellar_economics is_gestalt = no } } } NOT = { has_modifier = self_aware_trade } } self_aware_colony_clear_focus = yes add_modifier = { modifier = self_aware_trade } hidden_effect = { planet_event = { id = UniqueAscensionPerksEvents.461 } } }
	option = { name = "UniqueAscensionPerksEvents.461.Soldiers" allow = { OR = { has_global_flag = ap_self_aware_colony AND = { exists = owner owner = { has_technology = tech_centralized_command } } } NOT = { has_modifier = self_aware_army } custom_tooltip = { fail_text = UniqueAscensionPerksEvents.461.Req01 is_habitat_planet = no } } self_aware_colony_clear_focus = yes add_modifier = { modifier = self_aware_army } hidden_effect = { planet_event = { id = UniqueAscensionPerksEvents.461 } } }
	option = { name = "UniqueAscensionPerksEvents.461.Strategic" allow = { OR = { has_global_flag = ap_self_aware_colony AND = { exists = owner owner = { has_technology = tech_exotic_gases has_technology = tech_volatile_motes has_technology = tech_rare_crystals } } } NOT = { has_modifier = self_aware_strategic } custom_tooltip = { fail_text = UniqueAscensionPerksEvents.461.Req01 is_habitat_planet = no } } self_aware_colony_clear_focus = yes add_modifier = { modifier = self_aware_strategic } hidden_effect = { planet_event = { id = UniqueAscensionPerksEvents.461 } } }
	option = { name = "UniqueAscensionPerksEvents.461.NoFocus" allow = { NOT = { has_modifier = self_aware_no_focus } } self_aware_colony_clear_focus = yes add_modifier = { modifier = self_aware_no_focus } hidden_effect = { planet_event = { id = UniqueAscensionPerksEvents.461 } } }
	option = { name = "UniqueAscensionPerksEvents.461.Reset" reset_self_aware_planet = yes hidden_effect = { planet_event = { id = UniqueAscensionPerksEvents.461 } } custom_tooltip = "decision_self_aware_colony_reset_tooltip" }
	option = { name = "UniqueAscensionPerksEvents.461.Off" allow = { has_modifier = self_aware_colony } remove_self_aware_planet = yes remove_modifier = self_aware_colony custom_tooltip = "decision_self_aware_colony_to_normal_tooltip" }
	option = { name = EXIT ai_chance = { factor = 0 } }
}

planet_event = {
	id = UniqueAscensionPerksEvents.462
	hide_window = yes
	mean_time_to_happen = { months = 1 }
	pre_triggers = { has_owner = yes }
	trigger = {
		exists = owner
		OR = { has_global_flag = ap_self_aware_colony owner = { has_ascension_perk = ap_self_aware_colony } } # colony_age > 12
		owner = { resource_stockpile_compare = { resource = minerals value > 1000 } }
		has_modifier = self_aware_colony
	}
	immediate = { self_aware_colony_deposit_selection = yes }
}

planet_event = {
	id = UniqueAscensionPerksEvents.463
	hide_window = yes
	is_triggered_only = yes
	# mean_time_to_happen = { days = 6 }
	pre_triggers = { has_owner = yes }
	trigger = { exists = owner OR = { has_global_flag = ap_self_aware_colony owner = { has_ascension_perk = ap_self_aware_colony } } has_modifier = self_aware_colony }
	immediate = { create_pop = { species = owner_main_species } }
}

planet_event = {
	id = UniqueAscensionPerksEvents.464
	hide_window = yes
	mean_time_to_happen = { months = 6 }
	pre_triggers = { has_owner = yes }
	trigger = {
		exists = owner
		owner = { NOT = { has_ascension_perk = ap_self_aware_colony } }
		NOT = { has_global_flag = ap_self_aware_colony }
		has_modifier = self_aware_colony
	}
	immediate = {
		remove_self_aware_planet = yes
		remove_modifier = self_aware_colony
	}
}

planet_event = {
	id = UniqueAscensionPerksEvents.465
	hide_window = yes
	is_triggered_only = yes
	pre_triggers = { has_owner = yes }
	trigger = {
		exists = owner
		OR = { has_global_flag = ap_self_aware_colony owner = { has_ascension_perk = ap_self_aware_colony } }
		owner = { resource_stockpile_compare = { resource = minerals value > 1000 } }
		has_modifier = self_aware_colony
	}
	immediate = { self_aware_colony_deposit_selection = yes }
}

planet_event = {
	id = UniqueAscensionPerksEvents.466
	title = "UniqueAscensionPerksEvents.466.Name"
	desc = "UniqueAscensionPerksEvents.466.Desc"
	show_sound = event_cityscape
	picture = GFX_evt_self_aware_colony
	location = root # event_target:self_aware_planet
	is_triggered_only = yes
	pre_triggers = { has_owner = yes }
	option = { name = "UniqueAscensionPerksEvents.466.Housing" allow = { has_200_minerals = yes } add_deposit = d_aware_housing_building owner = { add_resource = { minerals = -200 } } hidden_effect = { planet_event = { id = UniqueAscensionPerksEvents.466 } } }
	option = { name = "UniqueAscensionPerksEvents.466.Energy" allow = { has_200_minerals = yes } add_deposit = d_aware_energy_building owner = { add_resource = { minerals = -200 } } hidden_effect = { planet_event = { id = UniqueAscensionPerksEvents.466 } } }
	option = { name = "UniqueAscensionPerksEvents.466.Minerals" allow = { has_200_minerals = yes } add_deposit = d_aware_mining_building owner = { add_resource = { minerals = -200 } } hidden_effect = { planet_event = { id = UniqueAscensionPerksEvents.466 } } }
	option = { name = "UniqueAscensionPerksEvents.466.Food" allow = { has_200_minerals = yes } add_deposit = d_aware_farming_building owner = { add_resource = { minerals = -200 } } hidden_effect = { planet_event = { id = UniqueAscensionPerksEvents.466 } } }
	option = { name = "UniqueAscensionPerksEvents.466.Amenitites" allow = { has_200_minerals = yes } add_deposit = d_aware_amenities_building owner = { add_resource = { minerals = -200 } } hidden_effect = { planet_event = { id = UniqueAscensionPerksEvents.466 } } }
	option = { name = "UniqueAscensionPerksEvents.466.Security" allow = { has_200_minerals = yes } add_deposit = d_aware_crime_building owner = { add_resource = { minerals = -200 } } hidden_effect = { planet_event = { id = UniqueAscensionPerksEvents.466 } } }
	option = { name = "UniqueAscensionPerksEvents.466.Consumers" allow = { has_200_minerals = yes has_modifier = self_aware_consumers } add_deposit = d_aware_consumer_building owner = { add_resource = { minerals = -200 } } hidden_effect = { planet_event = { id = UniqueAscensionPerksEvents.466 } } }
	option = { name = "UniqueAscensionPerksEvents.466.Alloys" allow = { has_200_minerals = yes has_modifier = self_aware_alloys } add_deposit = d_aware_foundry_building owner = { add_resource = { minerals = -200 } } hidden_effect = { planet_event = { id = UniqueAscensionPerksEvents.466 } } }
	option = { name = "UniqueAscensionPerksEvents.466.Research" allow = { has_200_minerals = yes has_modifier = self_aware_research } add_deposit = d_aware_research_building owner = { add_resource = { minerals = -200 } } hidden_effect = { planet_event = { id = UniqueAscensionPerksEvents.466 } } }
	option = { name = "UniqueAscensionPerksEvents.466.Trade" allow = { has_200_minerals = yes has_modifier = self_aware_trade } add_deposit = d_aware_trade_building owner = { add_resource = { minerals = -200 } } hidden_effect = { planet_event = { id = UniqueAscensionPerksEvents.466 } } }
	option = { name = "UniqueAscensionPerksEvents.466.Soldiers" allow = { has_200_minerals = yes } add_deposit = d_aware_army_building owner = { add_resource = { minerals = -200 } } hidden_effect = { planet_event = { id = UniqueAscensionPerksEvents.466 } } }
	option = { name = "UniqueAscensionPerksEvents.466.Culture" allow = { has_200_minerals = yes NOT = { has_deposit = d_aware_culture_building } } add_deposit = d_aware_culture_building owner = { add_resource = { minerals = -200 } } hidden_effect = { planet_event = { id = UniqueAscensionPerksEvents.466 } } }
	option = { name = "UniqueAscensionPerksEvents.466.Assembly" allow = { has_200_minerals = yes NOT = { has_deposit = d_aware_assembly_building } } add_deposit = d_aware_assembly_building owner = { add_resource = { minerals = -200 } } hidden_effect = { planet_event = { id = UniqueAscensionPerksEvents.466 } } }
	option = { name = "UniqueAscensionPerksEvents.466.Growth" allow = { has_200_minerals = yes NOT = { has_deposit = d_aware_growth_building } } add_deposit = d_aware_growth_building owner = { add_resource = { minerals = -200 } } hidden_effect = { planet_event = { id = UniqueAscensionPerksEvents.466 } } }
	option = { name = "UniqueAscensionPerksEvents.466.Strategic" allow = { has_200_minerals = yes has_modifier = self_aware_strategic } add_deposit = d_aware_refinery_building owner = { add_resource = { minerals = -200 } } hidden_effect = { planet_event = { id = UniqueAscensionPerksEvents.466 } } }
	option = { name = BACK hidden_effect = { planet_event = { id = UniqueAscensionPerksEvents.461 } } ai_chance = { factor = 0 } }
}

#######################################
#									 #
###### Flourishing Technocracy ########
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.470
	title = "ap_flourishing_technocracy"
	desc = "ap_flourishing_technocracy_desc"
	show_sound = event_laboratory_sound
	location = capital_scope
	diplomatic = yes
	force_open = yes
	picture_event_data = { room = flourishing_technocracy_room }
	is_triggered_only = yes
	option = {
		name = EXCELLENT
		ai_chance = { factor = 0 }
		if = { limit = { is_regular_empire = yes } add_modifier = { modifier = flourishing_technocracy } } else_if = { limit = { is_hive_empire = yes } add_modifier = { modifier = flourishing_technocracy_hivemind } } else_if = { limit = { is_machine_empire = yes } add_modifier = { modifier = flourishing_technocracy_machine } }
		hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.471 } }
	}
}

country_event = {
	id = UniqueAscensionPerksEvents.471
	title = "UniqueAscensionPerksEvents.471.Name"
	desc = "UniqueAscensionPerksEvents.471.Desc"
	show_sound = event_laboratory_sound
	location = capital_scope
	diplomatic = yes
	force_open = yes
	picture_event_data = { room = flourishing_technocracy_room }
	is_triggered_only = yes
	option = { name = "UniqueAscensionPerksEvents.471.a" ai_chance = { factor = 0 } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.472 } } }
}

country_event = {
	id = UniqueAscensionPerksEvents.472
	title = "UniqueAscensionPerksEvents.472.Name"
	desc = "UniqueAscensionPerksEvents.472.Desc"
	show_sound = event_laboratory_sound
	picture = GFX_evt_physics_research
	location = capital_scope
	is_triggered_only = yes
	option = { name = "field_manipulation" add_modifier = { modifier = flourishing_technocracy_field_manipulation days = 1800 } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.473 } } ai_chance = { factor = 0 } }
	option = { name = "particles" add_modifier = { modifier = flourishing_technocracy_particles days = 1800 } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.473 } } }
	option = { name = "computing" add_modifier = { modifier = flourishing_technocracy_computing days = 1800 } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.473 } } }
	option = { name = AMOUNT_NONE ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.473
	title = "UniqueAscensionPerksEvents.473.Name"
	desc = "UniqueAscensionPerksEvents.473.Desc"
	show_sound = event_laboratory_sound
	picture = GFX_evt_society_research
	location = capital_scope
	is_triggered_only = yes
	option = { name = "new_worlds" add_modifier = { modifier = flourishing_technocracy_new_worlds days = 1800 } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.474 } } ai_chance = { factor = 0 } }
	option = { name = "statecraft" add_modifier = { modifier = flourishing_technocracy_statecraft days = 1800 } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.474 } } }
	option = { name = "biology" add_modifier = { modifier = flourishing_technocracy_biology days = 1800 } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.474 } } }
	option = { name = "military_theory" add_modifier = { modifier = flourishing_technocracy_military_theory days = 1800 } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.474 } } }
	option = { name = "psionics" allow = { has_technology = tech_psionic_theory } add_modifier = { modifier = flourishing_technocracy_psionics days = 1800 } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.474 } } }
}

country_event = {
	id = UniqueAscensionPerksEvents.474
	title = "UniqueAscensionPerksEvents.474.Name"
	desc = "UniqueAscensionPerksEvents.474.Desc"
	show_sound = event_laboratory_sound
	picture = GFX_evt_engineering_research
	location = capital_scope
	is_triggered_only = yes
	option = { name = "materials" add_modifier = { modifier = flourishing_technocracy_materials days = 1800 } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.471 days = 1800 } } ai_chance = { factor = 0 } }
	option = { name = "industry" add_modifier = { modifier = flourishing_technocracy_industry days = 1800 } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.471 days = 1800 } } }
	option = { name = "voidcraft" add_modifier = { modifier = flourishing_technocracy_voidcraft days = 1800 } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.471 days = 1800 } } }
	option = { name = "propulsion" add_modifier = { modifier = flourishing_technocracy_propulsion days = 1800 } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.471 days = 1800 } } }
}

#######################################
#									 #
########## Legendary Forge ############
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.480
	title = "ap_legendary_forge"
	desc = "ap_legendary_forge_desc"
	show_sound = event_mystic_reveal
	location = capital_scope
	diplomatic = yes
	force_open = yes
	picture_event_data = { room = legendary_forge_room }
	is_triggered_only = yes
	option = { name = EXCELLENT add_research_option = tech_living_metal_armor }
}

country_event = {
	id = UniqueAscensionPerksEvents.481
	title = "UniqueAscensionPerksEvents.481.Name"
	desc = "UniqueAscensionPerksEvents.481.Desc"
	show_sound = event_mystic_reveal
	picture = GFX_evt_legendary_forge
	location = event_target:legendary_forge_planet
	is_triggered_only = yes
	option = { name = EXCELLENT }
}

#######################################
#									 #
######### Library of Wisdom ##########
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.490
	title = "ap_library_wisedom"
	desc = "ap_library_wisedom_desc"
	show_sound = event_mystic_reveal
	location = capital_scope
	diplomatic = yes
	force_open = yes
	picture_event_data = { room = library_wisedom_room }
	custom_gui = "enclave_trader_window"
	is_triggered_only = yes
	option = { name = EXCELLENT add_monthly_resource_mult = { resource = society_research value = 1 min = 20000 max = 20000 } add_resource = { unity = 5000 } }
}

# 3.3: - cooldown for library itself increase to 720 days (instead of 440), decreased bonuses from relic to half (also removed society research point when "use").
country_event = {
	id = UniqueAscensionPerksEvents.491
	title = "edict_library_wisedom_menu"
	desc = "UniqueAscensionPerksEvents.491.Desc"
	show_sound = event_mystic_reveal
	location = capital_scope
	diplomatic = yes
	force_open = yes
	picture_event_data = { portrait = root room = library_wisedom_room }
	custom_gui = "enclave_trader_window"
	is_triggered_only = yes
	option = {
		name = "UniqueAscensionPerksEvents.491.a"
		allow = { resource_stockpile_compare = { resource = unity value > 200 } NOT = { has_country_flag = ap_library_wisedom_cooldown } }
		add_resource = { unity = -200 }
		hidden_effect = {
			country_event = { id = UniqueAscensionPerksEvents.493 }
			set_timed_country_flag = { flag = ap_library_wisedom_cooldown days = 720 }
			country_event = { id = UniqueAscensionPerksEvents.492 days = 720 } }
		custom_tooltip = "UniqueAscensionPerksEvents.491.a.tooltip"
	}
	option = { name = GOODBYE ai_chance = { factor = 0 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.492
	title = "UniqueAscensionPerksEvents.492.Name"
	desc = "UniqueAscensionPerksEvents.492.Desc"
	show_sound = event_mystic_reveal
	picture = GFX_evt_library_wisedom
	location = capital_scope
	is_triggered_only = yes
	option = { name = OK ai_chance = { factor = 0 } }
	option = { name = "UniqueAscensionPerks.lets_again" country_event = { id = UniqueAscensionPerksEvents.491 } }
}

country_event = {
	id = UniqueAscensionPerksEvents.493
	title = "edict_library_wisedom_menu"
	desc = "UniqueAscensionPerksEvents.493.Desc"
	show_sound = event_mystic_reveal
	location = capital_scope
	diplomatic = yes
	force_open = yes
	picture_event_data = { room = library_wisedom_room }
	custom_gui = "enclave_trader_window"
	is_triggered_only = yes
	option = { name = "UniqueAscensionPerksEvents.493.Political" hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.494 } } }
	option = { name = "UniqueAscensionPerksEvents.493.Economy" hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.495 } } }
	option = { name = "UniqueAscensionPerksEvents.493.Military" hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.496 } } }
	option = { name = "UniqueAscensionPerksEvents.493.Research" hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.497 } } }
	option = {
		name = "UniqueAscensionPerksEvents.493.Knowledge"
		allow = { resource_stockpile_compare = { resource = influence value > 500 } NOT = { has_country_flag = has_wisedom_relic } }
		add_relic = r_orb_of_knowledge
		add_resource = { influence = -500 }
		hidden_effect = { set_country_flag = has_wisedom_relic country_event = { id = UniqueAscensionPerksEvents.520 } }
	}
	option = { name = GOODBYE ai_chance = { factor = 0 } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.520 } } }
}

country_event = {
	id = UniqueAscensionPerksEvents.494
	title = "edict_library_wisedom_menu"
	desc = "UniqueAscensionPerksEvents.494.Desc"
	show_sound = event_mystic_reveal
	location = capital_scope
	diplomatic = yes
	force_open = yes
	picture_event_data = { portrait = root room = library_wisedom_room }
	custom_gui = "enclave_trader_window"
	is_triggered_only = yes
	option = { name = "UniqueAscensionPerksEvents.494.Ethics" trigger = { is_gestalt = no } allow = { NOT = { has_country_flag = ap_library_wisedom_propaganda_campaign } } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.520 } set_country_flag = ap_library_wisedom_propaganda_campaign } custom_tooltip = "edict_lw_propaganda_campaign_unlock" }
	option = { name = "UniqueAscensionPerksEvents.494.Factions" trigger = { is_gestalt = no } allow = { NOT = { has_country_flag = ap_library_wisedom_faction_campaign } } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.520 } set_country_flag = ap_library_wisedom_faction_campaign } custom_tooltip = "edict_lw_faction_campaign_unlock" }
	option = { name = "UniqueAscensionPerksEvents.494.Diplomate" allow = { NOT = { has_country_flag = ap_library_wisedom_diplomacy_campaign } } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.520 } set_country_flag = ap_library_wisedom_diplomacy_campaign } custom_tooltip = "edict_lw_diplomacy_campaign_unlock" }
	option = { name = "UniqueAscensionPerksEvents.494.Trust" allow = { NOT = { has_country_flag = ap_library_wisedom_trust_campaign } } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.520 } set_country_flag = ap_library_wisedom_trust_campaign } custom_tooltip = "edict_lw_trust_campaign_unlock" }
	option = { name = "UniqueAscensionPerksEvents.494.Submit" allow = { NOT = { has_country_flag = ap_library_wisedom_vassalization_campaign } } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.520 } set_country_flag = ap_library_wisedom_vassalization_campaign } custom_tooltip = "edict_lw_vassalization_campaign_unlock" }
	option = { name = "UniqueAscensionPerksEvents.494.Frictions" allow = { NOT = { has_country_flag = ap_library_wisedom_territorial_campaign } } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.520 } set_country_flag = ap_library_wisedom_territorial_campaign } custom_tooltip = "edict_lw_territorial_campaign_unlock" }
	option = { name = "UniqueAscensionPerksEvents.494.Trade" allow = { NOT = { has_country_flag = ap_library_wisedom_commercial_campaign } } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.520 } set_country_flag = ap_library_wisedom_commercial_campaign } custom_tooltip = "edict_lw_commercial_campaign_unlock" }
	option = { name = "UniqueAscensionPerksEvents.494.Leader" allow = { NOT = { has_country_flag = ap_library_wisedom_teaching_campaign } } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.520 } set_country_flag = ap_library_wisedom_teaching_campaign } custom_tooltip = "edict_lw_teaching_campaign_unlock" }
	option = { name = "UniqueAscensionPerksEvents.494.Edict" allow = { NOT = { has_country_flag = ap_library_wisedom_edict_campaign } } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.520 } set_country_flag = ap_library_wisedom_edict_campaign } custom_tooltip = "edict_lw_edict_campaign_unlock" }
	option = { name = "UniqueAscensionPerksEvents.494.Unity" allow = { NOT = { has_country_flag = ap_library_wisedom_unity_cooldown } } add_monthly_resource_mult = { resource = unity value = 8 min = 2000 max = 8000 } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.520 } set_timed_country_flag = { flag = ap_library_wisedom_unity_cooldown days = 1800 } } custom_tooltip = "UniqueAscensionPerks.no_request_length" }
	option = { name = "UniqueAscensionPerksEvents.494.Civic" allow = { NOT = { has_modifier = library_wisedom_civic } resource_stockpile_compare = { resource = unity value > 10000 } } add_resource = { unity = -10000 } add_modifier = { modifier = library_wisedom_civic } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.520 } } }
	option = { name = "UniqueAscensionPerksEvents.494.Ascension" allow = { NOT = { has_modifier = library_wisedom_ascension } resource_stockpile_compare = { resource = unity value > 25000 } } add_resource = { unity = -25000 } add_modifier = { modifier = library_wisedom_ascension } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.520 } } }
	option = { name = BACK ai_chance = { factor = 0 } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.493 } } }
}

country_event = {
	id = UniqueAscensionPerksEvents.495
	title = "edict_library_wisedom_menu"
	desc = "UniqueAscensionPerksEvents.495.Desc"
	show_sound = event_mystic_reveal
	location = capital_scope
	diplomatic = yes
	force_open = yes
	picture_event_data = { portrait = root room = library_wisedom_room }
	custom_gui = "enclave_trader_window"
	is_triggered_only = yes
	option = { name = "UniqueAscensionPerksEvents.495.Output" allow = { NOT = { has_country_flag = ap_library_wisedom_prosperity_campaign } } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.520 } set_country_flag = ap_library_wisedom_prosperity_campaign } custom_tooltip = "edict_lw_prosperity_campaign_unlock" }
	option = { name = "UniqueAscensionPerksEvents.495.Maintain" allow = { NOT = { has_country_flag = ap_library_wisedom_upkeep_campaign } } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.520 } set_country_flag = ap_library_wisedom_upkeep_campaign } custom_tooltip = "edict_lw_upkeep_campaign_unlock" }
	option = { name = "UniqueAscensionPerksEvents.495.Orbit" allow = { NOT = { has_country_flag = ap_library_wisedom_collection_campaign } } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.520 } set_country_flag = ap_library_wisedom_collection_campaign } custom_tooltip = "edict_lw_collection_campaign_unlock" }
	option = { name = "UniqueAscensionPerksEvents.495.Trade" trigger = { is_gestalt = no } allow = { NOT = { has_country_flag = ap_library_wisedom_trade_campaign } } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.520 } set_country_flag = ap_library_wisedom_trade_campaign } custom_tooltip = "edict_lw_trade_campaign_unlock" }
	option = { name = "UniqueAscensionPerksEvents.495.Scheme" allow = { NOT = { has_country_flag = ap_library_wisedom_construction_campaign } } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.520 } set_country_flag = ap_library_wisedom_construction_campaign } custom_tooltip = "edict_lw_construction_campaign_unlock" }
	option = { name = "UniqueAscensionPerksEvents.495.Resource" allow = { NOT = { has_country_flag = ap_library_wisedom_survival_campaign } } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.520 } set_country_flag = ap_library_wisedom_survival_campaign } custom_tooltip = "edict_lw_survival_campaign_unlock" }
	option = { name = BACK ai_chance = { factor = 0 } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.493 } } }
}

country_event = {
	id = UniqueAscensionPerksEvents.496
	title = "edict_library_wisedom_menu"
	desc = "UniqueAscensionPerksEvents.496.Desc"
	show_sound = event_mystic_reveal
	location = capital_scope
	diplomatic = yes
	force_open = yes
	picture_event_data = { portrait = root room = library_wisedom_room }
	custom_gui = "enclave_trader_window"
	is_triggered_only = yes
	option = { name = "UniqueAscensionPerksEvents.496.War" allow = { NOT = { has_country_flag = ap_library_wisedom_war_preparation } } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.520 } set_country_flag = ap_library_wisedom_war_preparation } custom_tooltip = "edict_lw_war_preparation_unlock" }
	option = { name = "UniqueAscensionPerksEvents.496.Evade" allow = { NOT = { has_country_flag = ap_library_wisedom_evade_danger } } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.520 } set_country_flag = ap_library_wisedom_evade_danger } custom_tooltip = "edict_lw_evade_danger_unlock" }
	option = { name = "UniqueAscensionPerksEvents.496.Ground" allow = { NOT = { has_country_flag = ap_library_wisedom_ground_field_experience } resource_stockpile_compare = { resource = unity value > 1000 } } add_resource = { unity = -1000 } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.520 } set_country_flag = ap_library_wisedom_ground_field_experience } custom_tooltip = "edict_lw_ground_field_experience_unlock" }
	option = { name = "UniqueAscensionPerksEvents.496.Route" allow = { NOT = { has_country_flag = ap_library_wisedom_fast_routes } } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.520 } set_country_flag = ap_library_wisedom_fast_routes } custom_tooltip = "edict_lw_fast_routes_unlock" }
	option = { name = "UniqueAscensionPerksEvents.496.Experience" allow = { NOT = { has_country_flag = ap_library_wisedom_experience_sharing } } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.520 } set_country_flag = ap_library_wisedom_experience_sharing } custom_tooltip = "edict_lw_experience_sharing_unlock" }
	option = { name = "UniqueAscensionPerksEvents.496.Pierce" allow = { NOT = { has_country_flag = ap_library_wisedom_defense_weakness } resource_stockpile_compare = { resource = unity value > 1000 } } add_resource = { unity = -1000 } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.520 } set_country_flag = ap_library_wisedom_defense_weakness } custom_tooltip = "edict_lw_defense_weakness_unlock" }
	option = { name = "UniqueAscensionPerksEvents.496.Damage" allow = { NOT = { has_country_flag = ap_library_wisedom_damage_output } resource_stockpile_compare = { resource = unity value > 1000 } } add_resource = { unity = -1000 } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.520 } set_country_flag = ap_library_wisedom_damage_output } custom_tooltip = "edict_lw_damage_output_unlock" }
	option = { name = "UniqueAscensionPerksEvents.496.Alloys" allow = { NOT = { has_country_flag = ap_library_wisedom_alloys_cooldown } resource_stockpile_compare = { resource = unity value > 1000 } } add_resource = { unity = -1000 alloys = 2000 } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.520 } set_timed_country_flag = { flag = ap_library_wisedom_alloys_cooldown days = 1800 } } custom_tooltip = "UniqueAscensionPerks.no_request_length" }
	option = { name = BACK ai_chance = { factor = 0 } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.493 } } }
}

# 3.3 removed ignore_rare = no
country_event = {
	id = UniqueAscensionPerksEvents.497
	title = "edict_library_wisedom_menu"
	desc = "UniqueAscensionPerksEvents.497.Desc"
	show_sound = event_mystic_reveal
	location = capital_scope
	diplomatic = yes
	force_open = yes
	picture_event_data = { portrait = root room = library_wisedom_room }
	custom_gui = "enclave_trader_window"
	is_triggered_only = yes
	option = { name = "UniqueAscensionPerksEvents.497.Research" allow = { NOT = { has_country_flag = ap_library_wisedom_extended_opportunities } } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.520 } set_country_flag = ap_library_wisedom_extended_opportunities } custom_tooltip = "edict_lw_extended_opportunities_unlock" }
	option = { name = "UniqueAscensionPerksEvents.497.Physics" allow = { NOT = { has_country_flag = ap_library_wisedom_physics_documentation } } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.520 } set_country_flag = ap_library_wisedom_physics_documentation } custom_tooltip = "edict_lw_physics_documentation_unlock" }
	option = { name = "UniqueAscensionPerksEvents.497.Society" allow = { NOT = { has_country_flag = ap_library_wisedom_society_documentation } } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.520 } set_country_flag = ap_library_wisedom_society_documentation } custom_tooltip = "edict_lw_society_documentation_unlock" }
	option = { name = "UniqueAscensionPerksEvents.497.Engineering" allow = { NOT = { has_country_flag = ap_library_wisedom_engineering_documentation } } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.520 } set_country_flag = ap_library_wisedom_engineering_documentation } custom_tooltip = "edict_lw_engineering_documentation_unlock" }
	option = { name = "UniqueAscensionPerksEvents.497.Archeology" allow = { NOT = { has_country_flag = ap_library_wisedom_archeological_knowledge } } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.520 } set_country_flag = ap_library_wisedom_archeological_knowledge } custom_tooltip = "edict_lw_archeological_knowledge_unlock" }
	option = { name = "UniqueAscensionPerksEvents.497.Data" allow = { NOT = { has_country_flag = ap_library_wisedom_adv_data_collection } } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.520 } set_country_flag = ap_library_wisedom_adv_data_collection } custom_tooltip = "edict_lw_adv_data_collectione_unlock" }
	option = { name = "UniqueAscensionPerksEvents.497.ResearchData" allow = { NOT = { has_country_flag = ap_library_wisedom_research_cooldown } resource_stockpile_compare = { resource = unity value > 500 } } add_resource = { unity = -500 } add_monthly_resource_mult = { resource = physics_research value = 8 min = 2000 max = 8000 } add_monthly_resource_mult = { resource = society_research value = 8 min = 2000 max = 8000 } add_monthly_resource_mult = { resource = engineering_research value = 8 min = 2000 max = 8000 } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.520 } set_timed_country_flag = { flag = ap_library_wisedom_research_cooldown days = 1800 } } custom_tooltip = "UniqueAscensionPerksEvents.497.ResearchData.tooltip" }
	option = {
		name = "UniqueAscensionPerksEvents.497.PhysicsTech"
		allow = { NOT = { has_country_flag = ap_library_wisedom_wisedom_get_physics_tech_cooldown } resource_stockpile_compare = { resource = unity value > 500 } }
		add_resource = { unity = -500 }
		# wisedom_get_physics_tech = yes
		custom_tooltip = "UniqueAscensionPerksLW.PhysicsTech.tooltip"
		add_random_research_option = { area = physics add_progress = 0.2 fail_effects = { add_monthly_resource_mult = { resource = physics_research value = 16 min = 4000 max = 14000 } } }
		hidden_effect = { set_timed_country_flag = { flag = ap_library_wisedom_wisedom_get_physics_tech_cooldown days = 1800 } country_event = { id = UniqueAscensionPerksEvents.520 } }
	}
	option = {
		name = "UniqueAscensionPerksEvents.497.SocietyTech"
		allow = { NOT = { has_country_flag = ap_library_wisedom_wisedom_get_society_tech_cooldown } resource_stockpile_compare = { resource = unity value > 500 } }
		add_resource = { unity = -500 }
		# wisedom_get_society_tech = yes
		custom_tooltip = "UniqueAscensionPerksLW.SocietyTech.tooltip"
		add_random_research_option = { area = society add_progress = 0.2 fail_effects = { add_monthly_resource_mult = { resource = society_research value = 16 min = 4000 max = 14000 } } }
		hidden_effect = { set_timed_country_flag = { flag = ap_library_wisedom_wisedom_get_society_tech_cooldown days = 1800 } country_event = { id = UniqueAscensionPerksEvents.520 } } }
	option = {
		name = "UniqueAscensionPerksEvents.497.EngineeringTech"
		allow = { NOT = { has_country_flag = ap_library_wisedom_wisedom_get_engineering_tech_cooldown } resource_stockpile_compare = { resource = unity value > 500 } }
		add_resource = { unity = -500 }
		# wisedom_get_engineering_tech = yes
		custom_tooltip = "UniqueAscensionPerksLW.EngineeringTech.tooltip"
		add_random_research_option = { area = engineering add_progress = 0.2 fail_effects = { add_monthly_resource_mult = { resource = engineering_research value = 16 min = 4000 max = 14000 } } }
		hidden_effect = { set_timed_country_flag = { flag = ap_library_wisedom_wisedom_get_engineering_tech_cooldown days = 1800 } country_event = { id = UniqueAscensionPerksEvents.520 } }
	}
	option = { name = BACK ai_chance = { factor = 0 } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.493 } } }
}

country_event = {
	id = UniqueAscensionPerksEvents.520
	title = "UniqueAscensionPerksEvents.520.Name"
	desc = "UniqueAscensionPerksEvents.520.Desc"
	show_sound = event_mystic_reveal
	picture = GFX_evt_library_wisedom
	location = capital_scope
	is_triggered_only = yes
	option = { name = OK ai_chance = { factor = 0 } }
}

#######################################
#									 #
###### Expansionist Development #######
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.530
	title = "ap_expansionist_development"
	desc = "ap_expansionist_development_desc"
	show_sound = event_scanner
	picture = GFX_evt_space_station
	location = capital_scope
	is_triggered_only = yes
	option = { name = EXCELLENT add_resource = { influence = 200 } }
}

# on_system_survey_ship
# 3.3: doubled costs due imbalance
ship_event = {
	id = UniqueAscensionPerksEvents.531
	title = "UniqueAscensionPerksEvents.531.Name"
	desc = "UniqueAscensionPerksEvents.531.Desc"
	picture = GFX_evt_space_station
	show_sound = event_scanner
	location = root
	is_triggered_only = yes
	trigger = {
		exists = owner
		owner = { has_ascension_perk = ap_expansionist_development }
		from = { NOT = { exists = starbase } }
	}
	immediate = {
		owner = { save_event_target_as = science_ship_owner }
		from = { save_event_target_as = survey_system }
	}
	option = {
		name = "UniqueAscensionPerksEvents.531.Influence"
		allow = { owner = { resource_stockpile_compare = { resource = influence value > 100 } } }
		owner = { add_resource = { influence = -100 } }
		deploy_outpost = yes
	}
	option = {
		name = "UniqueAscensionPerksEvents.531.Energy"
		allow = { owner = { resource_stockpile_compare = { resource = energy value > 2000 } } }
		owner = { add_resource = { energy = -2000 } }
		deploy_outpost = yes
	}
	option = {
		name = "UniqueAscensionPerksEvents.531.Minerals"
		allow = { owner = { resource_stockpile_compare = { resource = minerals value > 2000 } } }
		owner = { add_resource = { minerals = -2000 } }
		deploy_outpost = yes
	}
	option = {
		name = "UniqueAscensionPerksEvents.531.Alloys"
		allow = { owner = { resource_stockpile_compare = { resource = alloys value > 800 } } }
		trigger = { from = { is_machine_empire = no } }
		owner = { add_resource = { alloys = -800 } }
		deploy_outpost = yes
	}
	option = {
		name = "UniqueAscensionPerksEvents.531.Alloys"
		allow = { owner = { resource_stockpile_compare = { resource = alloys value > 1000 } } }
		trigger = { from = { is_machine_empire = yes } }
		owner = { add_resource = { alloys = -1000 } }
		deploy_outpost = yes
	}
	option = {
		name = "UniqueAscensionPerksEvents.531.Unity"
		allow = { owner = { resource_stockpile_compare = { resource = unity value > 1000 } } }
		owner = { add_resource = { unity = -1000 } }
		deploy_outpost = yes
	}
	option = {
		name = "UniqueAscensionPerksEvents.531.Food"
		allow = { owner = { resource_stockpile_compare = { resource = food value > 2500 } } }
		owner = { add_resource = { food = -2500 } }
		deploy_outpost = yes
	}
	option = {
		name = "UniqueAscensionPerksEvents.531.Treasures"
		allow = { owner = { resource_stockpile_compare = { resource = treasures value > 300 } } }
		owner = { add_resource = { treasures = -300 } }
		deploy_outpost = yes
	}
	option = {
		name = "UniqueAscensionPerksEvents.531.NanoDrones"
		allow = { owner = { resource_stockpile_compare = { resource = automatic_drone value > 1200 } } }
		owner = { add_resource = { automatic_drone = -1200 } }
		deploy_outpost = yes
	}
	option = { name = "UniqueAscensionPerksEvents.531.Nope" ai_chance = { factor = 0 } }
}

#######################################
#									 #
########### Dark Galaxy Web ###########
#									 #
#######################################

country_event = {
	id = UniqueAscensionPerksEvents.540
	title = "ap_dark_galaxy_web"
	desc = "ap_dark_galaxy_web_desc"
	show_sound = event_scanner
	picture = GFX_evt_glitchy_matrix
	location = capital_scope
	is_triggered_only = yes
	option = { name = OK enable_special_project = { name = DARK_GALAXY_WEB_PROJECT location = capital_scope owner = root } }
}

country_event = {
	id = UniqueAscensionPerksEvents.541
	title = "UniqueAscensionPerksEvents.541.Name"
	desc = "UniqueAscensionPerksEvents.541.Desc"
	show_sound = event_scanner
	picture = GFX_evt_glitchy_matrix
	location = capital_scope
	is_triggered_only = yes
	immediate = { set_country_flag = ap_dark_galaxy_web_project }
	option = { name = EXCELLENT add_resource = { energy = 5000 } hidden_effect = { country_event = { id = UniqueAscensionPerksEvents.542 } } }
}

country_event = {
	id = UniqueAscensionPerksEvents.542
	title = "edict_dark_galaxy_web_menu"
	desc = "UniqueAscensionPerksEvents.542.Desc"
	show_sound = event_scanner
	location = capital_scope
	diplomatic = yes
	force_open = yes
	picture_event_data = { portrait = root room = dark_galaxy_web_room }
	is_triggered_only = yes
	option = { name = LEAVE ai_chance = { factor = 0 } }
}
