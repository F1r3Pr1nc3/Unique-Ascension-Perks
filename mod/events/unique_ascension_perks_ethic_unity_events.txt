
namespace = EthicUnityEvents
# Militarist - Unity by destroying ships.
country_event = {
	id = EthicUnityEvents.1
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		is_militarist = yes
		has_ascension_perk = ap_advanced_government_2
		fromfromfrom = {
			OR = {
				is_ship_class = shipclass_military
				is_ship_class = shipclass_transport
				is_ship_class = shipclass_starbase
				is_ship_class = shipclass_military_station
			}
		}
	}

	immediate = {
		fromfromfrom = {
			switch = { trigger = is_ship_size
				# Regular Ships
				corvette							= { root = { add_resource = { unity = 1 } break = yes } }
				frigate								= { root = { add_resource = { unity = 1 } break = yes } }
				destroyer							= { root = { add_resource = { unity = 2 } break = yes } }
				cruiser								= { root = { add_resource = { unity = 4 } break = yes } }
				battleship							= { root = { add_resource = { unity = 8 } break = yes } }
				titan								= { root = { add_resource = { unity = 24 } break = yes } }
				colossus							= { root = { add_resource = { unity = 50 } break = yes } }

				# NSC
				StrikeCruiser						= { root = { add_resource = { unity = 5 } break = yes } }
				Battlecruiser						= { root = { add_resource = { unity = 6 } break = yes } }
				Carrier								= { root = { add_resource = { unity = 10 } break = yes } }
				Dreadnought							= { root = { add_resource = { unity = 32 } break = yes } }
				Flagship							= { root = { add_resource = { unity = 300 } break = yes } }

				# Fallen Empire
				small_ship_fallen_empire			= { root = { add_resource = { unity = 4 } break = yes } }
				large_ship_fallen_empire			= { root = { add_resource = { unity = 10 } break = yes } }
				massive_ship_fallen_empire			= { root = { add_resource = { unity = 32 } break = yes } }

				# Misc
				space_cloud							= { root = { add_resource = { unity = 4 } break = yes } }
				space_amoeba						= { root = { add_resource = { unity = 1 } break = yes } }
				space_amoeba_mother					= { root = { add_resource = { unity = 4 } break = yes } }
				space_whale_1						= { root = { add_resource = { unity = 4 } break = yes } }
				space_whale_2						= { root = { add_resource = { unity = 4 } break = yes } }
				space_whale_3						= { root = { add_resource = { unity = 4 } break = yes } }
				space_whale_4						= { root = { add_resource = { unity = 4 } break = yes } }
				ancient_mining_drone				= { root = { add_resource = { unity = 1 } break = yes } }
				ancient_corvette					= { root = { add_resource = { unity = 1 } break = yes } }
				ancient_destroyer					= { root = { add_resource = { unity = 2 } break = yes } }
				nomad_corvette						= { root = { add_resource = { unity = 1 } break = yes } }
				nomad_destroyer						= { root = { add_resource = { unity = 2 } break = yes } }
				pirate_corvette						= { root = { add_resource = { unity = 1 } break = yes } }
				pirate_destroyer					= { root = { add_resource = { unity = 2 } break = yes } }
				pirate_cruiser						= { root = { add_resource = { unity = 4 } break = yes } }
				crystal_ship_small_blue				= { root = { add_resource = { unity = 1 } break = yes } }
				crystal_ship_medium_blue			= { root = { add_resource = { unity = 2 } break = yes } }
				crystal_ship_large_blue				= { root = { add_resource = { unity = 4 } break = yes } }
				crystal_ship_small_green			= { root = { add_resource = { unity = 1 } break = yes } }
				crystal_ship_medium_green			= { root = { add_resource = { unity = 2 } break = yes } }
				crystal_ship_large_green			= { root = { add_resource = { unity = 4 } break = yes } }
				crystal_ship_small_yellow			= { root = { add_resource = { unity = 1 } break = yes } }
				crystal_ship_medium_yellow			= { root = { add_resource = { unity = 2 } break = yes } }
				crystal_ship_large_yellow			= { root = { add_resource = { unity = 4 } break = yes } }
				crystal_ship_small_red				= { root = { add_resource = { unity = 1 } break = yes } }
				crystal_ship_medium_red				= { root = { add_resource = { unity = 2 } break = yes } }
				crystal_ship_large_red				= { root = { add_resource = { unity = 4 } break = yes } }
				crystal_ship_small_blue_elite		= { root = { add_resource = { unity = 1 } break = yes } }
				crystal_ship_medium_blue_elite		= { root = { add_resource = { unity = 2 } break = yes } }
				crystal_ship_large_blue_elite		= { root = { add_resource = { unity = 4 } break = yes } }
				crystal_ship_small_green_elite		= { root = { add_resource = { unity = 1 } break = yes } }
				crystal_ship_medium_green_elite		= { root = { add_resource = { unity = 2 } break = yes } }
				crystal_ship_large_green_elite		= { root = { add_resource = { unity = 4 } break = yes } }
				crystal_ship_small_yellow_elite		= { root = { add_resource = { unity = 1 } break = yes } }
				crystal_ship_medium_yellow_elite	= { root = { add_resource = { unity = 2 } break = yes } }
				crystal_ship_large_yellow_elite		= { root = { add_resource = { unity = 4 } break = yes } }
				crystal_ship_small_red_elite		= { root = { add_resource = { unity = 1 } break = yes } }
				crystal_ship_medium_red_elite		= { root = { add_resource = { unity = 2 } break = yes } }
				crystal_ship_large_red_elite		= { root = { add_resource = { unity = 4 } break = yes } }
				crystal_station_large				= { root = { add_resource = { unity = 32 } break = yes } }

				# Crisis
				small_ship_ai						= { root = { add_resource = { unity = 2 } break = yes } }
				large_ship_ai						= { root = { add_resource = { unity = 8 } break = yes } }
				military_station_small_ai			= { root = { add_resource = { unity = 4 } break = yes } }
				military_station_large_ai			= { root = { add_resource = { unity = 8 } break = yes } }
				core_ai								= { root = { add_resource = { unity = 32 } break = yes } }
				final_core_ai						= { root = { add_resource = { unity = 50 } break = yes } }
				small_ship_ed						= { root = { add_resource = { unity = 2 } break = yes } }
				medium_ship_ed						= { root = { add_resource = { unity = 4 } break = yes } }
				large_ship_ed						= { root = { add_resource = { unity = 8 } break = yes } }
				dimensional_portal_ed				= { root = { add_resource = { unity = 50 } break = yes } }
				small_ship_swarm					= { root = { add_resource = { unity = 2 } break = yes } }
				large_ship_swarm					= { root = { add_resource = { unity = 8 } break = yes } }
				large_ship_carrier_swarm			= { root = { add_resource = { unity = 8 } break = yes } }
				queen_swarm							= { root = { add_resource = { unity = 32 } break = yes } }

				# Lev & Shroud
				space_dragon_red					= { root = { add_resource = { unity = 200 } break = yes } }
				stellarite							= { root = { add_resource = { unity = 200 } break = yes } }
				sphere								= { root = { add_resource = { unity = 200 } break = yes } }
				galleon								= { root = { add_resource = { unity = 200 } break = yes } }
				dimensional_horror					= { root = { add_resource = { unity = 200 } break = yes } }
				npc_warship_01						= { root = { add_resource = { unity = 200 } break = yes } }
				wraith_01_blue						= { root = { add_resource = { unity = 100 } break = yes } }
				wraith_01_red						= { root = { add_resource = { unity = 100 } break = yes } }
				wraith_01_yellow					= { root = { add_resource = { unity = 100 } break = yes } }
				space_dragon_baby					= { root = { add_resource = { unity = 100 } break = yes } }
				psionic_avatar						= { root = { add_resource = { unity = 75 } break = yes } }
				corrupted_avatar					= { root = { add_resource = { unity = 75 } break = yes } }
				shroud_manifestation				= { root = { add_resource = { unity = 100 } break = yes } }
				warped_consciousness				= { root = { add_resource = { unity = 100 } break = yes } }

				# Leviathan Distant Star
				leviathan_01_scavenger_bot			= { root = { add_resource = { unity = 200 } break = yes } }
				leviathan_01_elder_tiyanki			= { root = { add_resource = { unity = 100 } break = yes } }
				leviathan_01_voidspawn				= { root = { add_resource = { unity = 100 } break = yes } }
				nanite_space_dragon_baby			= { root = { add_resource = { unity = 100 } break = yes } }

				# Gray Tempest
				graygoo_interdictor					= { root = { add_resource = { unity = 8 } break = yes } }
				graygoo_mothership					= { root = { add_resource = { unity = 32 } break = yes } }
				graygoo_factory						= { root = { add_resource = { unity = 50 } break = yes } }

				# Transports
				transport							= { root = { add_resource = { unity = 1 } break = yes } }
				transport_ship_swarm				= { root = { add_resource = { unity = 2 } break = yes } }
				transport_ship_ai					= { root = { add_resource = { unity = 2 } break = yes } }

				# Marauder
				marauder_corvette					= { root = { add_resource = { unity = 1 } break = yes } }
				marauder_destroyer					= { root = { add_resource = { unity = 2 } break = yes } }
				marauder_cruiser					= { root = { add_resource = { unity = 4 } break = yes } }
				marauder_galleon					= { root = { add_resource = { unity = 32 } break = yes } }
				marauder_station					= { root = { add_resource = { unity = 4 } break = yes } }
				marauder_void_dwelling				= { root = { add_resource = { unity = 8 } break = yes } }

				# Pirates
				pirate_corvette						= { root = { add_resource = { unity = 1 } break = yes } }
				pirate_destroyer					= { root = { add_resource = { unity = 2 } break = yes } }
				pirate_cruiser						= { root = { add_resource = { unity = 4 } break = yes } }
				pirate_station						= { root = { add_resource = { unity = 4 } break = yes } }

				# Starbases & Stations
				starbase_outpost					= { root = { add_resource = { unity = 2 } break = yes } }
				starbase_starport					= { root = { add_resource = { unity = 4 } break = yes } }
				starbase_starhold					= { root = { add_resource = { unity = 6 } break = yes } }
				starbase_starfortress				= { root = { add_resource = { unity = 8 } break = yes } }
				starbase_citadel					= { root = { add_resource = { unity = 8 } break = yes } }
				starbase_swarm						= { root = { add_resource = { unity = 8 } break = yes } }
				starbase_ai							= { root = { add_resource = { unity = 8 } break = yes } }
				starbase_exd						= { root = { add_resource = { unity = 8 } break = yes } }
				starbase_marauder					= { root = { add_resource = { unity = 8 } break = yes } }
				ion_cannon							= { root = { add_resource = { unity = 8 } break = yes } }
				military_station_small_fallen_empire = { root = { add_resource = { unity = 4 } break = yes } }
				military_station_large_fallen_empire = { root = { add_resource = { unity = 8 } break = yes } }
				military_station_small				= { root = { add_resource = { unity = 4 } break = yes } }
				military_station_medium				= { root = { add_resource = { unity = 8 } break = yes } }
				military_station_large				= { root = { add_resource = { unity = 12 } break = yes } }
				military_station_xl_bulwark			= { root = { add_resource = { unity = 32 } break = yes } }
				military_station_xxl_citadel		= { root = { add_resource = { unity = 20 } break = yes } }
				default = { root = { add_resource = { unity = 4 } } } # Somehow failed to give unity, so give fixed unity.
			}
		}
	}
}

# Pacifist - Unity by keeping a year of peace.
country_event = {
	id = EthicUnityEvents.2
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		is_pacifist = yes
		has_ascension_perk = ap_advanced_government_2
		is_at_war = no
	}

	immediate = {
		add_monthly_resource_mult = {
			resource = unity
			value = 12
			min = 12
			max = 1200
		}
	}
}

# Materialist - Unity by unlocking new techs.
country_event = {
	id = EthicUnityEvents.3
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		is_materialist = yes
		has_ascension_perk = ap_advanced_government_2
	}

	immediate = {
		add_monthly_resource_mult = {
			resource = unity
			value = 6
			min = 6
			max = 2000
		}
	}
}

# Spiritualist - Unity by number of happy pop.
country_event = {
	id = EthicUnityEvents.4
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		is_spiritualist = yes
		has_ascension_perk = ap_advanced_government_2
		any_owned_pop_group = {
			is_enslaved = no
			is_being_purged = no
			is_robot_pop = no
			happiness > 0.7
		}
	}

	immediate = {
		# set_variable = { which = pops_var value = value:pops_count }
		export_trigger_value_to_variable = {
			trigger = count_owned_pop_amount
			parameters = {
				limit = {
					is_enslaved = no
					is_being_purged = no
					is_robot_pop = no
					happiness > 0.7
				}
			}
			variable = pops_var
		}
		multiply_variable = { which = pops_var value = 0.1 }
		round_variable = pops_var
		if = {
			limit = {
				check_variable = { which = pops_var value > 90 }
			}
			set_variable = { which = pops_var value = 90 }
		}
		# log="pops_var happy Spiritualist \\[Root.pops_var]"
		while = {
			count = pops_var
			add_monthly_resource_mult = {
				resource = unity
				value = 2
				min = 2
				max = 500
			}
		}
		clear_variable = pops_var
	}
}

# v3.4 halved values (due self loop)
# Libetarian - Unity by electing a ruler.
country_event = {
	id = EthicUnityEvents.5
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		is_egalitarian = yes
		has_ascension_perk = ap_advanced_government_2
	}

	immediate = {
		add_monthly_resource_mult = {
			resource = unity
			value = 10
			min = 10
			max = 2500
		}
	}
}

# Authoritarian & Xenophobe - Unity by number of slaves.
country_event = {
	id = EthicUnityEvents.6
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		OR = {
			is_authoritarian = yes
			is_xenophobe = yes
		}
		has_ascension_perk = ap_advanced_government_2
		count_enslaved_species = { count > 0 }
	}

	immediate = {
		# set_variable = { which = pops_var value = value:pops_enslaved_count }
		export_trigger_value_to_variable = {
			trigger = count_owned_pop_amount
			parameters = { limit = { is_enslaved = yes } }
			variable = pops_var
		}
		multiply_variable = { which = pops_var value = 0.1 }
		round_variable = pops_var
		if = {
			limit = {
				check_variable = { which = pops_var value > 100 }
			}
			set_variable = { which = pops_var value = 100 }
		}
		# log="pops_var slaves Authoritarian & Xenophobe \\[Root.pops_var]"
		while = {
			count = pops_var
			add_monthly_resource_mult = {
				resource = unity
				value = 3
				min = 3
				max = 1000
			}
		}
		clear_variable = pops_var
	}
}

# Xenophile - Unity by number of xeno pops.
country_event = {
	id = EthicUnityEvents.7
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		num_species > 1
		is_xenophile = yes
		has_ascension_perk = ap_advanced_government_2
	}

	immediate = {
		switch = { trigger = num_species
			2 = { add_monthly_resource_mult = { resource = unity value = 6 min = 15 max = 6000 } }
			3 = { add_monthly_resource_mult = { resource = unity value = 12 min = 30 max = 12000 } }
			4 = { add_monthly_resource_mult = { resource = unity value = 18 min = 45 max = 18000 } }
			5 = { add_monthly_resource_mult = { resource = unity value = 24 min = 60 max = 24000 } }
			6 = { add_monthly_resource_mult = { resource = unity value = 30 min = 75 max = 30000 } }
			7 = { add_monthly_resource_mult = { resource = unity value = 36 min = 90 max = 36000 } }
			8 = { add_monthly_resource_mult = { resource = unity value = 42 min = 105 max = 42000 } }
			9 = { add_monthly_resource_mult = { resource = unity value = 48 min = 120 max = 48000 } }
			9 > { add_monthly_resource_mult = { resource = unity value = 50 min = 135 max = 54000 } }
		}
	}
}

# Xenophobe & Militarist - Unity by number of rivalries.
country_event = {
	id = EthicUnityEvents.8
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		OR = {
			is_xenophobe = yes
			is_militarist = yes
		}
		has_ascension_perk = ap_advanced_government_2
		any_neighbor_country = {
			root = { is_rival = prev }
		}
	}

	immediate = {
		every_country = {
			limit = { root = { is_rival = prev } }
			root = {
				add_monthly_resource_mult = {
					resource = unity
					value = 6
					min = 6
					max = 2000
				}
			}
		}
	}
}

# on_colony_x_year_old
# Gestalt - Unity by colony ages.
planet_event = {
	id = EthicUnityEvents.9
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		has_owner = yes
		owner = { is_gestalt = yes has_ascension_perk = ap_advanced_government_2 }
	}

	immediate = {
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = 6
				min = 6
				max = 2000
			}
		}
	}
}

# TODO this looks like somehow overpowered and less scaled.
# Gestalt Consciousness - Unity by number of pop.
country_event = {
	id = EthicUnityEvents.10
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		is_gestalt = yes
		has_ascension_perk = ap_advanced_government_2
	}

	immediate = {
		export_trigger_value_to_variable = { variable = pops_var trigger = count_owned_pop_amount }
		multiply_variable = { which = pops_var value = 0.1 }
		round_variable = pops_var
		if = {
			limit = {
				check_variable = { which = pops_var value > 200 }
			}
			set_variable = { which = pops_var value = 200 }
		}
		while = {
			count = pops_var
			add_monthly_resource_mult = {
				resource = unity
				value = 2
				min = 2
				max = 500
			}
		}
		clear_variable = pops_var
	}
}

# Gestalt Consciousness - Unity by getting grow pop.
planet_event = {
	id = EthicUnityEvents.11
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		has_owner = yes
		owner = { is_gestalt = yes has_ascension_perk = ap_advanced_government_2 }
	}

	immediate = {
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = 3
				min = 3
				max = 1000
			}
		}
	}
}

# Materialist - Unity by building research stations.
ship_event = {
	id = EthicUnityEvents.16
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		exists = owner
		owner = { is_materialist = yes has_ascension_perk = ap_advanced_government_2 }
	}

	immediate = {
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = 2
				min = 2
				max = 500
			}
		}
	}
}

# Xenophobe - Unity by building outpost stations.
ship_event = {
	id = EthicUnityEvents.17
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		exists = owner
		owner = { is_xenophobe = yes has_ascension_perk = ap_advanced_government_2 }
	}

	immediate = {
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = 3
				min = 3
				max = 1000
			}
		}
	}
}

# Materialist & Gestalt Consciousness - Unity by building pop.
planet_event = {
	id = EthicUnityEvents.18
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		has_owner = yes
		owner = {
			OR = {
				is_materialist = yes
				is_gestalt = yes
			}
			has_ascension_perk = ap_advanced_government_2
		}
	}

	immediate = {
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = 3
				min = 3
				max = 1000
			}
		}
	}
}

# Militarist - Unity on winning ground battle.
country_event = {
	id = EthicUnityEvents.19
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		is_militarist = yes
		has_ascension_perk = ap_advanced_government_2
	}

	immediate = {
		add_monthly_resource_mult = {
			resource = unity
			value = 6
			min = 6
			max = 2000
		}
	}
}

# Pacifist - Unity on defending ground battle.
country_event = {
	id = EthicUnityEvents.20
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		is_pacifist = yes
		has_ascension_perk = ap_advanced_government_2
	}

	immediate = {
		add_monthly_resource_mult = {
			resource = unity
			value = 6
			min = 6
			max = 2000
		}
	}
}

# Materialist - Unity by surveying planet.
ship_event = {
	id = EthicUnityEvents.21
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		exists = owner
		owner = { is_materialist = yes has_ascension_perk = ap_advanced_government_2 }
	}

	immediate = {
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = 2
				min = 2
				max = 500
			}
		}
	}
}

# Gestalt - Unity by having new colony.
planet_event = {
	id = EthicUnityEvents.22
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		has_owner = yes
		owner = { is_gestalt = yes has_ascension_perk = ap_advanced_government_2 }
	}

	immediate = {
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = 3
				min = 3
				max = 1000
			}
		}
	}
}

# Militarist & Pacifist - Unity on winning space battle.
country_event = {
	id = EthicUnityEvents.23
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		OR = {
			is_militarist = yes
			is_pacifist = yes
		}
		has_ascension_perk = ap_advanced_government_2
	}

	immediate = {
		add_monthly_resource_mult = {
			resource = unity
			value = 3
			min = 3
			max = 1000
		}
	}
}

# Xenophile - Unity by building observation post.
ship_event = {
	id = EthicUnityEvents.24
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		exists = owner
		owner = { is_xenophile = yes has_ascension_perk = ap_advanced_government_2 }
	}

	immediate = {
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = 3
				min = 3
				max = 1000
			}
		}
	}
}

# Militarist - Unity on entering war.
country_event = {
	id = EthicUnityEvents.25
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		is_militarist = yes
		has_ascension_perk = ap_advanced_government_2
	}

	immediate = {
		add_monthly_resource_mult = {
			resource = unity
			value = 6
			min = 6
			max = 2000
		}
	}
}

# Militarist - Unity by doing a year of war.
country_event = {
	id = EthicUnityEvents.26
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		is_militarist = yes
		is_at_war = yes
		has_ascension_perk = ap_advanced_government_2
	}

	immediate = {
		add_monthly_resource_mult = {
			resource = unity
			value = 3
			min = 3
			max = 1000
		}
	}
}

# Xenophobe - Purge Pops
planet_event = {
	id = EthicUnityEvents.27
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		has_owner = yes
		owner = { is_xenophobe = yes has_ascension_perk = ap_advanced_government_2 }
	}

	immediate = {
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = 3
				min = 3
				max = 1000
			}
		}
	}
}

# Xenophile - Unity by having new contact.
country_event = {
	id = EthicUnityEvents.28
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		is_xenophile = yes
		has_ascension_perk = ap_advanced_government_2
	}

	immediate = {
		add_monthly_resource_mult = {
			resource = unity
			value = 3
			min = 3
			max = 1000
		}
	}
}

# Militarist & Materialist - Unity by building ships.
ship_event = {
	id = EthicUnityEvents.31
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		exists = owner
		owner = {
			OR = {
				is_militarist = yes
				is_materialist = yes
			}
			has_ascension_perk = ap_advanced_government_2
		}
	}

	immediate = {
		if = {
			limit = {
				owner = { is_militarist = yes }
				is_ship_class = shipclass_military
			}
			owner = {
				add_monthly_resource_mult = {
					resource = unity
					value = 2
					min = 2
					max = 500
				}
			}
		}
		if = {
			limit = {
				owner = { is_materialist = yes }
				is_ship_class = shipclass_science_ship
			}
			owner = {
				add_monthly_resource_mult = {
					resource = unity
					value = 2
					min = 2
					max = 500
				}
			}
		}
	}
}

# Militarist & Materialist - Unity by upgrading ships.
ship_event = {
	id = EthicUnityEvents.32
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		exists = owner
		owner = {
			OR = {
				is_militarist = yes
				is_materialist = yes
			}
			has_ascension_perk = ap_advanced_government_2
		}
	}

	immediate = {
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = 2
				min = 2
				max = 500
			}
		}
	}
}

# Pacifist - Unity by ending war.
country_event = {
	id = EthicUnityEvents.33
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		OR = {
			AND = {
				has_ethic = ethic_pacifist
				has_ascension_perk = ap_advanced_government_2
			}
			AND = {
				has_ethic = ethic_fanatic_pacifist
				has_ascension_perk = ap_advanced_government_2
			}
			AND = {
				exists = from
				from = { is_pacifist = yes has_ascension_perk = ap_advanced_government_2 }
			}
		}
	}

	immediate = {
		if = {
			limit = { is_pacifist = yes }
			add_monthly_resource_mult = {
				resource = unity
				value = 6
				min = 6
				max = 2000
			}
		}
		if = {
			limit = {
				exists = from
				from = { is_pacifist = yes }
			}
			from = {
				add_monthly_resource_mult = {
					resource = unity
					value = 6
					min = 6
					max = 2000
				}
			}
		}
	}
}

# Xenophile - Unity by specie modification.
country_event = {
	id = EthicUnityEvents.34
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		is_xenophile = yes
		has_ascension_perk = ap_advanced_government_2
	}

	immediate = {
		add_monthly_resource_mult = {
			resource = unity
			value = 3
			min = 3
			max = 1000
		}
	}
}

# on_army_recruited
# Militarist & Authoritarian - Unity by building armies.
planet_event = {
	id = EthicUnityEvents.35
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		has_owner = yes
		owner = {
			OR = {
				is_militarist = yes
				is_authoritarian = yes
			}
			has_ascension_perk = ap_advanced_government_2
		}
	}

	immediate = {
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = 2
				min = 2
				max = 500
			}
		}
	}
}

# Militarist - Unity by winning war.
country_event = {
	id = EthicUnityEvents.36
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		is_militarist = yes
		has_ascension_perk = ap_advanced_government_2
	}

	immediate = {
		add_monthly_resource_mult = {
			resource = unity
			value = 6
			min = 6
			max = 2000
		}
	}
}

# Militarist & Xenophobe - Unity by conquering planet.
planet_event = {
	id = EthicUnityEvents.38
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		has_owner = yes
		owner = {
			OR = {
				is_militarist = yes
				is_xenophobe = yes
			}
			has_ascension_perk = ap_advanced_government_2
		}
	}

	immediate = {
		owner = {
			add_monthly_resource_mult = {
				resource = unity
				value = 3
				min = 3
				max = 1000
			}
		}
	}
}

# Pacifist & Xenophile - Unity by joining alliance.
country_event = {
	id = EthicUnityEvents.39
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		OR = {
			is_xenophile = yes
			is_pacifist = yes
		}
		has_ascension_perk = ap_advanced_government_2
	}

	immediate = {
		add_monthly_resource_mult = {
			resource = unity
			value = 3
			min = 3
			max = 1000
		}
	}
}

# Materialist & Industrialist - Unity by building megastructure.
country_event = {
	id = EthicUnityEvents.40
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		is_materialist = yes
		has_ascension_perk = ap_advanced_government_2
		from = {
			NOT = { is_megastructure_type = gateway_0 }
		}
	}

	immediate = {
		add_monthly_resource_mult = {
			resource = unity
			value = 3
			min = 3
			max = 1000
		}
	}
}

# v3.4 halved values
# Libetarian - Unity by starting election.
country_event = {
	id = EthicUnityEvents.41
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		is_egalitarian = yes
		has_ascension_perk = ap_advanced_government_2
	}

	immediate = {
		add_monthly_resource_mult = {
			resource = unity
			value = 3
			min = 3
			max = 1000
		}
	}
}

# on_yearly_pulse
event = {
	id = EthicUnityEvents.100
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		every_playable_country = {
			limit = { has_ascension_perk = ap_advanced_government_2 }
			if = {
				limit = { is_pacifist = yes }
				country_event = { id = EthicUnityEvents.2 } # Pacifist
			}
			else_if = {
				limit = { is_spiritualist = yes }
				country_event = { id = EthicUnityEvents.4 } # Spiritualist
				if = {
					limit = {
						any_owned_planet = { is_colony = yes free_amenities > 2000 }
					}
					# Spritualist gets unity for free amenities planet. (former EthicUnityEvents.50)
					every_owned_planet = {
						limit = {
							is_colony = yes
							free_amenities > 2000
						}
						prev = {
							add_monthly_resource_mult = {
								resource = unity
								value = 3
								min = 3
								max = 1000
							}
						}
					}
				}
			}
			else_if = {
				limit = { is_authoritarian = yes }
				country_event = { id = EthicUnityEvents.6 } # Authoritarian slaves
				if = {
					limit = {
						any_owned_planet = { is_colony = yes planet_stability > 60 }
					}
					# Authoritarian gets unity from planet with high stability. (former EthicUnityEvents.51)
					every_owned_planet = {
						limit = {
							is_colony = yes
							planet_stability > 60
						}
						prev = {
							add_monthly_resource_mult = {
								resource = unity
								value = 6
								min = 6
								max = 2000
							}
						}
					}
				}
			}
			else_if = {
				limit = { is_xenophobe = yes }
				country_event = { id = EthicUnityEvents.6 } # Xenophobe slaves
				country_event = { id = EthicUnityEvents.8 } # rivalries
			}
			else_if = {
				limit = { is_xenophile = yes }
				country_event = { id = EthicUnityEvents.7 } # Xenophile
			}
			else_if = {
				limit = { is_militarist = yes }
				country_event = { id = EthicUnityEvents.8 } # rivalries
				country_event = { id = EthicUnityEvents.26 } # Militarist
			}
			else_if = {
				limit = { is_gestalt = yes }
				country_event = { id = EthicUnityEvents.10 } # Gestalt
			}
		}
	}
}
